<!DOCTYPE html>
<html>
    <head>
        <title>Hércules : CSP-PPEX: Servicios API</title>
        <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">
    </head>

    <body class="theme-default aui-theme-default">
        <div id="page">
            <div id="main" class="aui-page-panel">
                <div id="main-header">
                    <div id="breadcrumb-section">
                        <ol id="breadcrumbs">
                            <li class="first">
                                <span><a href="index.html">Hércules</a></span>
                            </li>
                                                    <li>
                                <span><a href="597853529.html">Hércules</a></span>
                            </li>
                                                    <li>
                                <span><a href="597852519.html">SGI. Sistema de gestión de investigación</a></span>
                            </li>
                                                    <li>
                                <span><a href="597853279.html">Diseño</a></span>
                            </li>
                                                    <li>
                                <span><a href="Componentes_597853271.html">Componentes</a></span>
                            </li>
                                                    <li>
                                <span><a href="SGI---CSP_597852400.html">SGI - CSP</a></span>
                            </li>
                                                    <li>
                                <span><a href="597853658.html">CSP-PPEX: Participación proyectos externos</a></span>
                            </li>
                                                </ol>
                    </div>
                    <h1 id="title-heading" class="pagetitle">
                                                <span id="title-text">
                            Hércules : CSP-PPEX: Servicios API
                        </span>
                    </h1>
                </div>

                <div id="content" class="view">
                    <div class="page-metadata">
                        
        
    
    
        
    
        
        
            Created by <span class='author'> Usuario desconocido (covadonga.garcia)</span>, last modified on may 09, 2022
                        </div>
                    <div id="main-content" class="wiki-content group">
                    <p><style type='text/css'>/*<![CDATA[*/
div.rbtoc1728466663086 {padding: 0px;}
div.rbtoc1728466663086 ul {margin-left: 0px;}
div.rbtoc1728466663086 li {margin-left: 0px;padding-left: 0px;}

/*]]>*/</style><div class='toc-macro rbtoc1728466663086'>
<ul class='toc-indentation'>
<li><a href='#CSPPPEX:ServiciosAPI-Autorización'>Autorización</a></li>
<li><a href='#CSPPPEX:ServiciosAPI-NotificacionProyectoExternoCVN'>NotificacionProyectoExternoCVN</a></li>
</ul>
</div></p><h2 id="CSPPPEX:ServiciosAPI-Autorización">Autorización</h2><div class="table-wrap"><table class="relative-table wrapped confluenceTable" style="width: 100.0%;"><colgroup><col style="width: 6.2491%;"/><col style="width: 25.6447%;"/><col style="width: 12.4991%;"/><col style="width: 14.6403%;"/><col style="width: 11.3408%;"/><col style="width: 29.626%;"/></colgroup><thead><tr><th class="confluenceTh"><p>Método</p></th><th class="confluenceTh"><p>URL</p></th><th class="confluenceTh"><p>Parámetros</p></th><th class="confluenceTh"><p>Respuesta</p></th><th colspan="1" class="confluenceTh">Permisos</th><th class="confluenceTh"><p>Descripción</p></th></tr></thead><tbody><tr><td colspan="1" class="confluenceTd">POST</td><td colspan="1" class="confluenceTd">/autorizaciones</td><td colspan="1" class="confluenceTd">AutorizacionInput</td><td colspan="1" class="confluenceTd">AutorizacionOutput</td><td colspan="1" class="confluenceTd">CSP-AUT-INV-C</td><td colspan="1" class="confluenceTd">Crea Autorización</td></tr><tr><td colspan="1" class="confluenceTd">PUT</td><td colspan="1" class="confluenceTd">/autorizaciones/{id}</td><td colspan="1" class="confluenceTd">AutorizacionInput</td><td colspan="1" class="confluenceTd">AutorizacionOutput</td><td colspan="1" class="confluenceTd">CSP-AUT-INV-ER, CSP-AUT-E</td><td colspan="1" class="confluenceTd">Actualiza Autorización</td></tr><tr><td colspan="1" class="confluenceTd">GET</td><td colspan="1" class="confluenceTd">/autorizaciones/{id}</td><td colspan="1" class="confluenceTd">id: identificador de la Autorización</td><td colspan="1" class="confluenceTd">AutorizacionOutput</td><td colspan="1" class="confluenceTd">CSP-AUT-INV-ER, CSP-AUT-E, CSP-AUT-V</td><td colspan="1" class="confluenceTd">Datos de la autorización</td></tr><tr><td colspan="1" class="confluenceTd">PATCH</td><td colspan="1" class="confluenceTd">/autorizaciones/{id}/cambiar-estado</td><td colspan="1" class="confluenceTd"><p>id: identificador de la Autorización</p><p>EstadoAutorizacion: el estado al que se desea cambiar</p></td><td colspan="1" class="confluenceTd">AutorizacionOutput</td><td colspan="1" class="confluenceTd">CSP-AUT-INV-ER, CSP-AUT-E</td><td colspan="1" class="confluenceTd">Devuelve AutorizacionOutput con el EstadoAutorizacion Actualizado</td></tr><tr><td colspan="1" class="confluenceTd">PATCH</td><td colspan="1" class="confluenceTd">/autorizaciones/{id}/presentar</td><td colspan="1" class="confluenceTd">AutorizacionOutput: Autorización a presentar</td><td colspan="1" class="confluenceTd">AutorizacionOutput</td><td colspan="1" class="confluenceTd">CSP-AUT-INV-C, CSP-AUT-INV-ER</td><td colspan="1" class="confluenceTd">Devuelve AutorizacionOutput con el EstadoAutorizacion &quot;Presentada&quot;</td></tr><tr><td colspan="1" class="confluenceTd">HEAD</td><td colspan="1" class="confluenceTd">/autorizaciones/{id}/presentable</td><td colspan="1" class="confluenceTd">id: identificador de la Autorización</td><td colspan="1" class="confluenceTd">AutorizacionOutput</td><td colspan="1" class="confluenceTd">CSP-AUT-INV-C, CSP-AUT-INV-ER, CSP-AUT-E, CSP-AUT-V</td><td colspan="1" class="confluenceTd">Comprueba si la Autorización es &quot;presentable&quot;</td></tr><tr><td colspan="1" class="confluenceTd">GET</td><td colspan="1" class="confluenceTd">/autorizaciones</td><td colspan="1" class="confluenceTd"><p>q+s</p><p><br/></p></td><td colspan="1" class="confluenceTd">Page&lt;AutorizacionOutput&gt;</td><td colspan="1" class="confluenceTd">CSP-AUT-E, CSP-AUT-V</td><td colspan="1" class="confluenceTd">Devuelve todas las Autorizaciones activas</td></tr><tr><td colspan="1" class="confluenceTd">DELETE</td><td colspan="1" class="confluenceTd">/autorizaciones/{id)</td><td colspan="1" class="confluenceTd">id: identificador de la Autorización</td><td colspan="1" class="confluenceTd">void</td><td colspan="1" class="confluenceTd">CSP-AUT-B, CSP-AUT-INV-BR</td><td colspan="1" class="confluenceTd">Elimina la autorización correspondiente al id pasado por parámetro</td></tr><tr><td colspan="1" class="confluenceTd">GET</td><td colspan="1" class="confluenceTd">/autorizaciones/investigador</td><td colspan="1" class="confluenceTd">q+s</td><td colspan="1" class="confluenceTd">Page&lt;AutorizacionOutput&gt;</td><td colspan="1" class="confluenceTd">CSP-AUT-INV-C, CSP-AUT-INV-ER</td><td colspan="1" class="confluenceTd">Devuelve una lista paginada y filtrada de  las Autorizaciones que puede visualizar un investigador</td></tr><tr><td colspan="1" class="confluenceTd">HEAD</td><td colspan="1" class="confluenceTd">/autorizaciones/{id}/vinculacionesnotificacionesproyectosexternos</td><td colspan="1" class="confluenceTd">id: identificador de la Autorización</td><td colspan="1" class="confluenceTd">void</td><td colspan="1" class="confluenceTd">CSP-AUT-E, CSP-AUT-INV-C, CSP-AUT-INV-ER, CSP-AUT-V</td><td colspan="1" class="confluenceTd">Comprueba si existen datos vinculados a Autorizacion de   NotificacionProyectoExternoCVN</td></tr><tr><td colspan="1" class="confluenceTd">GET</td><td colspan="1" class="confluenceTd">/autorizaciones/{id}/estados</td><td colspan="1" class="confluenceTd">id: identificador de la Autorización</td><td colspan="1" class="confluenceTd">Page&lt;EstadoAutorizacion&gt;&gt;</td><td colspan="1" class="confluenceTd">CSP-AUT-E , CSP-AUT-INV-C , CSP-AUT-INV-ER , CSP-AUT-V</td><td colspan="1" class="confluenceTd">Devuelve una lista paginada y filtrada de  los EstadoAutorizacion de la Autorización</td></tr><tr><td colspan="1" class="confluenceTd">GET</td><td colspan="1" class="confluenceTd">/autorizaciones/{id}/certificados</td><td colspan="1" class="confluenceTd">Id: identificador de la Autorización</td><td colspan="1" class="confluenceTd">Page&lt;CertificadoAutorizacion&gt;</td><td colspan="1" class="confluenceTd">CSP-AUT-E , CSP-AUT-INV-C , CSP-AUT-INV-ER , CSP-AUT-V</td><td colspan="1" class="confluenceTd">Devuelve una lista paginada y filtrada de  los CertificadoAutorizacion de la Autorización</td></tr><tr><td colspan="1" class="confluenceTd">GET</td><td colspan="1" class="confluenceTd">/autorizaciones/{id}/hascertificadoautorizacionvisible</td><td colspan="1" class="confluenceTd">Id: identificador de la Autorización</td><td colspan="1" class="confluenceTd">Void</td><td colspan="1" class="confluenceTd">CSP-AUT-E , CSP-AUT-INV-C , CSP-AUT-INV-ER , CSP-AUT-V</td><td colspan="1" class="confluenceTd">Comprueba si la Autorización tiene asociado algún CertificadoAutorizacion con el campo visible a 'true'.</td></tr><tr><td colspan="1" class="confluenceTd">GET</td><td colspan="1" class="confluenceTd">/autorizaciones/{id}/certificadoautorizacionvisible</td><td colspan="1" class="confluenceTd">Id: identificador de la Autorización</td><td colspan="1" class="confluenceTd">CertificadoAutorizacionOutput</td><td colspan="1" class="confluenceTd">CSP-AUT-INV-ER</td><td colspan="1" class="confluenceTd">Devuelve el certificado autorizacion Visible de la autorizacion</td></tr><tr><td colspan="1" class="confluenceTd">GET</td><td colspan="1" class="confluenceTd">/autorizaciones/{id}/notificacionproyecto</td><td colspan="1" class="confluenceTd">Id: identificador de la Autorización</td><td colspan="1" class="confluenceTd">NotificacionProyectoExternoCVNOutput</td><td colspan="1" class="confluenceTd">CSP-AUT-E , CSP-AUT-INV-C , CSP-AUT-INV-ER , CSP-AUT-V</td><td colspan="1" class="confluenceTd">Devuelve una  NotificacionProyectoExternoCVN asociada a la autorizacion facilitada.</td></tr><tr><td colspan="1" class="confluenceTd">GET</td><td colspan="1" class="confluenceTd">/autorizaciones/{id}/convocatoria</td><td colspan="1" class="confluenceTd">Id: identificador de la Autorización</td><td colspan="1" class="confluenceTd">ConvocatoriaTituloOutput</td><td colspan="1" class="confluenceTd">CSP-AUT-INV-ER</td><td colspan="1" class="confluenceTd">Devuelve la  Convocatoria asociada a la  Autorizacion}con el id indicado si el usuario que realiza la petición es el solicitante de la Autorizacion</td></tr><tr><td colspan="1" class="confluenceTd">GET</td><td colspan="1" class="confluenceTd">/autorizaciones/modificadas-ids</td><td colspan="1" class="confluenceTd"><p>q+s</p><p>La query estará formada por:</p><ul><li>fechaModificacion</li></ul></td><td colspan="1" class="confluenceTd">Lista[Long]</td><td colspan="1" class="confluenceTd"><br/></td><td colspan="1" class="confluenceTd"><p>Listado de Identificadores de Autorizaciones cuyo estado actual sea &quot;autorizada&quot; y la fecha de dicho estado  sea igual o superior a la fecha recibida como parámetro de entrada.</p><p>Ejemplo:</p><ul><li>fechaModificacion=ge=<span>&quot;2021-08-18T22:00:00Z&quot;</span></li></ul></td></tr></tbody></table></div><p><br/></p><h2 id="CSPPPEX:ServiciosAPI-NotificacionProyectoExternoCVN">NotificacionProyectoExternoCVN</h2><div class="table-wrap"><table class="relative-table wrapped confluenceTable"><colgroup><col style="width: 7.94903%;"/><col style="width: 18.308%;"/><col style="width: 14.2034%;"/><col style="width: 17.1364%;"/><col style="width: 42.4166%;"/></colgroup><thead><tr><th class="confluenceTh"><p>Método</p></th><th class="confluenceTh"><p>URL</p></th><th class="confluenceTh"><p>Parámetros</p></th><th class="confluenceTh"><p>Respuesta</p></th><th class="confluenceTh"><p>Descripción</p></th></tr></thead><tbody><tr><td colspan="1" class="confluenceTd">POST</td><td colspan="1" class="confluenceTd">/notificacionesproyectosexternoscvn</td><td colspan="1" class="confluenceTd">NotificacionProyecto</td><td colspan="1" class="confluenceTd"><br/></td><td colspan="1" class="confluenceTd"><p>Recibe como parámetro los campos necesarios para crear un registro en el SGI de un proyecto notificado desde el CVN</p><p>Se creará un registro en la tabla NotificacionProyectoExternoCVN con los siguientes valores:</p><ul><li>proyectoCVNId: campo &quot;proyectoCVNId&quot; de la entidad pasada como parámetro &quot;NotificacionProyecto&quot;. Dato obligatorio</li><li>solicitanteRef: campo &quot;solicitanteRef&quot; de la entidad pasada como parámetro &quot;NotificacionProyecto&quot;. Dato obligatorio</li><li>autorizacionId: campo &quot;autorizacionId&quot; de la entidad pasada como parámetro &quot;NotificacionProyecto&quot;</li><li>titulo: campo &quot;titulo&quot; de la entidad pasada como parámetro &quot;NotificacionProyecto&quot;. Dato obligatorio</li><li>codExterno: campo &quot;codExterno&quot; de la entidad pasada como parámetro &quot;NotificacionProyecto&quot;</li><li>fechaInicio: campo &quot;fechaInicio&quot; de la entidad pasada como parámetro &quot;NotificacionProyecto&quot;. Dato obligatorio</li><li>fechaFin: campo &quot;fechaFin&quot; de la entidad pasada como parámetro &quot;NotificacionProyecto&quot;. Dato obligatorio</li><li>ambitoGeografico: campo &quot;ambitoGeografico&quot; de la entidad pasada como parámetro &quot;NotificacionProyecto&quot;</li><li>gradoContribucion: campo &quot;gradoContribucion&quot; de la entidad pasada como parámetro &quot;NotificacionProyecto&quot;</li><li>responsableRef: campo &quot;responsableRef&quot; de la entidad pasada como parámetro &quot;NotificacionProyecto&quot;</li><li>datosResponsable: se cogerá el campo &quot;datosResponsable&quot; de la entidad pasada como parámetro &quot;NotificacionProyecto&quot; si &quot;responsableRef&quot; es null</li><li>entidadParticipacionRef: campo &quot;entidadParticipacionRef&quot; de la entidad pasada como parámetro &quot;NotificacionProyecto&quot;</li><li>datosEntidadParticipacion: se cogerá el campo &quot;datosEntidadParticipacion&quot; de la entidad pasada como parámetro &quot;NotificacionProyecto&quot; si &quot;entidadParticipacionRef&quot; es null</li><li>nombrePrograma: campo &quot;nombrePrograma&quot; de la entidad pasada como parámetro &quot;NotificacionProyecto&quot;</li><li>importeTotal: campo &quot;importeTotal&quot; de la entidad pasada como parámetro &quot;NotificacionProyecto&quot;</li><li>porcentajeSubvencion: campo &quot;porcentajeSubvencion&quot; de la entidad pasada como parámetro &quot;NotificacionProyecto&quot;</li><li>documentoRef: campo &quot;documentRef&quot; de la entidad pasada como parámetro &quot;NotificacionProyecto&quot;</li><li>urlDocumentoAcreditacion: campo &quot;urlDocumentoAcreditacion&quot; de la entidad pasada como parámetro &quot;NotificacionProyecto&quot;</li></ul><p><u>Los campos obligatorios son: proyectoCVNId, solicitanteRef, titulo, fechaInicio y fechaFin</u></p><p>Por cada registro de la lista &quot;entidadesFinanciadoras&quot; de la entidad pasada como paŕametro &quot;NotificacionProyecto&quot; crear un registro en la tabla &quot;NotificacionCVNEntidadFinanciadora&quot; con los campos:</p><ul><li>entidadFinanciadoraRef: campo &quot;entidadFinanciadoraRef&quot; de la entidad pasada como parámetro &quot;EntidadFinanciadora&quot; dentro de la lista de &quot;entidadesFinanciadoras&quot;</li><li>datosEntidadFinanciadora: se cogerá el campo &quot;datosEntidadFinanciadora&quot; de la entidad pasada como parámetro &quot;EntidadFinanciadora&quot; dentro de la lista de &quot;entidadesFinanciadoras&quot; si el campo &quot;entidadFinanciadoraRef&quot; es null</li></ul><p><br/></p></td></tr></tbody></table></div><p><br/></p><p><br/></p>
                    </div>

                                        
                                                      
                </div>             </div> 
            <div id="footer" role="contentinfo">
                <section class="footer-body">
                    <p>Document generated by Confluence on oct 09, 2024 11:37</p>
                    <div id="footer-logo"><a href="https://www.atlassian.com/">Atlassian</a></div>
                </section>
            </div>
        </div>     </body>
</html>
