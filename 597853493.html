<!DOCTYPE html>
<html>
    <head>
        <title>Hércules : Sistema de Gestión de Empresas (UM - SGI - ESB - SGEMP)</title>
        <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">
    </head>

    <body class="theme-default aui-theme-default">
        <div id="page">
            <div id="main" class="aui-page-panel">
                <div id="main-header">
                    <div id="breadcrumb-section">
                        <ol id="breadcrumbs">
                            <li class="first">
                                <span><a href="index.html">Hércules</a></span>
                            </li>
                                                    <li>
                                <span><a href="597853529.html">Hércules</a></span>
                            </li>
                                                    <li>
                                <span><a href="597852519.html">SGI. Sistema de gestión de investigación</a></span>
                            </li>
                                                    <li>
                                <span><a href="597853447.html">Guia de Implantación - Checklist</a></span>
                            </li>
                                                    <li>
                                <span><a href="UM----Universidad-de-Murcia_597853451.html">UM -  Universidad de Murcia</a></span>
                            </li>
                                                    <li>
                                <span><a href="597853450.html">Sistema de Gestión de Investigación - APIs Integración</a></span>
                            </li>
                                                </ol>
                    </div>
                    <h1 id="title-heading" class="pagetitle">
                                                <span id="title-text">
                            Hércules : Sistema de Gestión de Empresas (UM - SGI - ESB - SGEMP)
                        </span>
                    </h1>
                </div>

                <div id="content" class="view">
                    <div class="page-metadata">
                        
        
    
    
        
    
        
        
            Created by <span class='author'> Usuario desconocido (alicia.alvarez)</span>, last modified on mar 25, 2022
                        </div>
                    <div id="main-content" class="wiki-content group">
                    <p><br/></p><hr/><p><style type='text/css'>/*<![CDATA[*/
div.rbtoc1728467751496 {padding: 0px;}
div.rbtoc1728467751496 ul {margin-left: 0px;}
div.rbtoc1728467751496 li {margin-left: 0px;padding-left: 0px;}

/*]]>*/</style><div class='toc-macro rbtoc1728467751496'>
<ul class='toc-indentation'>
<li><a href='#SistemadeGestióndeEmpresas(UMSGIESBSGEMP)-Sistemadegestióndeempresas'>Sistema de gestión de empresas</a>
<ul class='toc-indentation'>
<li><a href='#SistemadeGestióndeEmpresas(UMSGIESBSGEMP)-Entidades'>Entidades</a></li>
<li><a href='#SistemadeGestióndeEmpresas(UMSGIESBSGEMP)-Modelológico'>Modelo lógico</a></li>
<li><a href='#SistemadeGestióndeEmpresas(UMSGIESBSGEMP)-'></a></li>
<li><a href='#SistemadeGestióndeEmpresas(UMSGIESBSGEMP)-API'>API</a>
<ul class='toc-indentation'>
<li><a href='#SistemadeGestióndeEmpresas(UMSGIESBSGEMP)-Definicióndelosobjetos'>Definición de los objetos</a>
<ul class='toc-indentation'>
<li><a href='#SistemadeGestióndeEmpresas(UMSGIESBSGEMP)-Empresa'>Empresa</a></li>
<li><a href='#SistemadeGestióndeEmpresas(UMSGIESBSGEMP)-TipoIdentificador'>TipoIdentificador</a></li>
<li><a href='#SistemadeGestióndeEmpresas(UMSGIESBSGEMP)-DatosTipoEmpresa'>DatosTipoEmpresa</a></li>
<li><a href='#SistemadeGestióndeEmpresas(UMSGIESBSGEMP)-TipoTercero'>TipoTercero</a></li>
<li><a href='#SistemadeGestióndeEmpresas(UMSGIESBSGEMP)-TipoEmpresa'>TipoEmpresa</a></li>
<li><a href='#SistemadeGestióndeEmpresas(UMSGIESBSGEMP)-TipoEmpresaContabilidad'>TipoEmpresaContabilidad</a></li>
<li><a href='#SistemadeGestióndeEmpresas(UMSGIESBSGEMP)-TipoTerceroReinoUnido'>TipoTerceroReinoUnido</a></li>
<li><a href='#SistemadeGestióndeEmpresas(UMSGIESBSGEMP)-EmpresaClasificacion'>EmpresaClasificacion</a></li>
<li><a href='#SistemadeGestióndeEmpresas(UMSGIESBSGEMP)-DatosContacto'>DatosContacto</a></li>
</ul>
</li>
<li><a href='#SistemadeGestióndeEmpresas(UMSGIESBSGEMP)-Servicios'>Servicios</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div></p><hr/><div class="confluence-information-macro confluence-information-macro-information"><p class="title conf-macro-render">Control de cambios</p><span class="aui-icon aui-icon-small aui-iconfont-info confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p><br/></p><p><strong>Leyenda<br/></strong></p><div class="table-wrap"><table class="wrapped relative-table confluenceTable" style="width: 15.4788%;"><colgroup><col style="width: 29.9639%;"/><col style="width: 33.574%;"/><col style="width: 36.4621%;"/></colgroup><tbody><tr><td class="highlight-green confluenceTd" title="Color de fondo: Verde" data-highlight-colour="green">Nuevo</td><td class="highlight-yellow confluenceTd" title="Color de fondo: Amarillo" colspan="1" data-highlight-colour="yellow">Modificado</td><td class="highlight-red confluenceTd" title="Color de fondo: Rojo" colspan="1" data-highlight-colour="red">Eliminado</td></tr></tbody></table></div><p><br/></p><p><strong>Historial de cambios<br/></strong></p><div class="table-wrap"><table class="relative-table wrapped confluenceTable" style="width: 71.6138%;"><colgroup><col style="width: 18.4915%;"/><col style="width: 81.5178%;"/></colgroup><tbody><tr><th class="confluenceTh">Fecha</th><th class="confluenceTh">Cambios</th></tr><tr><td class="confluenceTd"><div class="content-wrapper"><p><time datetime="2021-05-03" class="date-past">03-may-2021</time> </p></div></td><td class="confluenceTd">Adaptaciones a los cambios de operativa y campos para el alta de empresas con y sin datos económicos y a la nueva solicitud de modificación de las mismas.</td></tr><tr><td colspan="1" class="confluenceTd"><div class="content-wrapper"><p><time datetime="2021-05-17" class="date-past">17-may-2021</time> </p></div></td><td colspan="1" class="confluenceTd">Adaptaciones a la fusión de los campos nombre y razón social en un único campo, a los nuevos campos de datos de contacto, a la nueva asociación con sectores industriales, códigos CNAE o clasificaciones de tipo sector industrial (llamado indistintamente de las tres formas) y al nuevo campo de &quot;Tipo de tercero Reino Unido&quot; para entidades con datos económicos con dirección en Reino Unido.</td></tr><tr><td colspan="1" class="confluenceTd"><div class="content-wrapper"><p><time datetime="2021-06-08" class="date-past">08-jun-2021</time></p></div></td><td colspan="1" class="confluenceTd"><div class="content-wrapper"><p> Se actualizan los siguientes servicios del API de empresas:</p><ul><li>POST: Se cambia la definición a /empresas/formly.</li><li>PUT: Se cambia la definición a /empresas/formly/{id} y se añade en el JSON el campo empresaId para facilitar su identificación.</li></ul></div></td></tr><tr><td colspan="1" class="confluenceTd"><div class="content-wrapper"><p><time datetime="2021-06-18" class="date-past">18-jun-2021</time> </p></div></td><td colspan="1" class="confluenceTd">Eliminar de los servicios de este API el método para obtener el listado de tipos de vía y su entidad relacionada por trasladarse al API del SGO.</td></tr><tr><td colspan="1" class="confluenceTd"><div class="content-wrapper"><p><time datetime="2021-06-28" class="date-past">28-jun-2021</time> </p></div></td><td colspan="1" class="confluenceTd">Modificar definición del objeto Empresa para separar los campos nombre y razón social y de la búsqueda para que pueda filtrar por ambos campos.</td></tr><tr><td colspan="1" class="confluenceTd"><div class="content-wrapper"><p><time datetime="2021-10-18" class="date-past">18-oct-2021</time> </p></div></td><td colspan="1" class="confluenceTd">Se modificar el servicio del alta de empresa para que en el caso de que el servicio sea síncrono devuelva el id de la empresa creada.</td></tr><tr><td colspan="1" class="confluenceTd"><div class="content-wrapper"><p><time datetime="2021-10-28" class="date-past">28-oct-2021</time> </p></div></td><td colspan="1" class="confluenceTd"><span class="date-autocomplete"><span>Nuevo servicio para obtener las empresas modificadas o nuevas a partir de una fecha</span></span></td></tr></tbody></table></div></div></div><hr/><h1 id="SistemadeGestióndeEmpresas(UMSGIESBSGEMP)-Sistemadegestióndeempresas">Sistema de gestión de empresas</h1><h2 id="SistemadeGestióndeEmpresas(UMSGIESBSGEMP)-Entidades">Entidades</h2><div class="confluence-information-macro confluence-information-macro-information"><p class="title conf-macro-render">Cambios</p><span class="aui-icon aui-icon-small aui-iconfont-info confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p><time datetime="2021-05-03" class="date-past">03-may-2021</time> Se actualiza lista de entidades para:</p><ul><li>Modificar la definición de las entidades DatosContacto y DatosTipoEmpresa para añadir nuevos campos.</li><li>Añadir las entidades TipoTercero y TipoEmpresaContabilidad.</li><li>Modificar el uso de la entidad TipoEmpresa para pasar a ser información de empresas con datos económicos.</li></ul><p><time datetime="2021-05-17" class="date-past">17-may-2021</time> Se actualiza lista de entidades para:</p><ul><li>Añadir las entidades TipoTerceroReinoUnido, TipoVia y EmpresaClasificacion.</li><li>Traducir nombrado de entidades por separación entre entidades internas al SGI y específicas de UM (Empresa, DatosContacto y EmpresaClasificacion).</li></ul><p><span class="date-autocomplete"><span><time datetime="2021-06-18" class="date-past">18-jun-2021</time> Se actualiza la lista de entidades para:</span></span></p><ul><li><span class="date-autocomplete"><span>Eliminar la entidad &quot;TipoVia&quot;.</span></span></li></ul></div></div><div class="table-wrap"><table class="wrapped confluenceTable"><colgroup><col/><col/></colgroup><tbody><tr><th colspan="1" class="confluenceTh">Entidad</th><th colspan="1" class="confluenceTh">Descripción</th></tr><tr><td class="confluenceTd">Empresa (EmpresaUM)</td><td class="confluenceTd">Contiene los datos básicos de una empresa.</td></tr><tr><td colspan="1" class="confluenceTd">DatosContacto (DatosContactoUM)</td><td colspan="1" class="confluenceTd">Contiene los datos de contacto de la empresa.</td></tr><tr><td colspan="1" class="confluenceTd">DatosTipoEmpresa</td><td colspan="1" class="confluenceTd">Contiene los datos relativos a la tipología de la empresa, estando esta tipología basada en criterios diversos (los que se establezcan por parte de la universidad o sistema externo).</td></tr><tr><td colspan="1" class="confluenceTd">TipoIdentificador</td><td colspan="1" class="confluenceTd">Listado con los tipos de identificador fiscal (CIF, VAT, ...).</td></tr><tr><td colspan="1" class="confluenceTd">TipoTercero</td><td colspan="1" class="confluenceTd">Listado con los tipos de tercero (necesario para las empresas con datos económicos).</td></tr><tr><td colspan="1" class="confluenceTd">TipoEmpresa</td><td colspan="1" class="confluenceTd">Listado con los tipos de empresa (necesario para las empresas con datos económicos).</td></tr><tr><td colspan="1" class="confluenceTd">TipoEmpresaContabilidad</td><td colspan="1" class="confluenceTd">Listado con los tipos de empresa para contabilidad (necesario para las empresas con datos económicos).</td></tr><tr><td colspan="1" class="confluenceTd">TipoTerceroReinoUnido</td><td colspan="1" class="confluenceTd">Listado con los tipos de tercero para Reino Unido (necesario para las empresas con datos económicos cuyo país es el Reino Unido).</td></tr><tr><td colspan="1" class="confluenceTd">EmpresaClasificacion (EmpresaUMClasificacion)</td><td colspan="1" class="confluenceTd">Listado de relaciones entre empresas y clasificaciones. En principio, únicamente con las del tipo &quot;Código CNAE&quot; también llamado &quot;Sector Industrial&quot;. Ver definición de clasificaciones en <a href="597852444.html">Sistema Gesti&oacute;n de Organizaciones (UM - SGI - ESB - SGO)</a>.</td></tr></tbody></table></div><h2 id="SistemadeGestióndeEmpresas(UMSGIESBSGEMP)-Modelológico">Modelo lógico</h2><div class="confluence-information-macro confluence-information-macro-information"><p class="title conf-macro-render">Cambios</p><span class="aui-icon aui-icon-small aui-iconfont-info confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p><time datetime="2021-05-03" class="date-past">03-may-2021</time> Se actualiza el modelo para:</p><ul><li>Añadir las entidades TipoTercero, TipoEmpresaContabilidad, Pais, ComunidadAutonoma y Provincia.</li><li>Modificar entidad DatosTipoEmpresa para incluir nuevos campos, tipoTercero y tipoEmpresaContabilidad, como referencia a las entidades TipoTercero y TipoEmpresaContabilidad.</li><li>Modificar el uso de la entidad TipoEmpresa para pasar a ser información de empresas con datos económicos.</li><li>Modificar entidad DatosContacto para incluir nuevos campos, paisContacto, comunidadContacto, provinciaContacto como referencia a entidades Pais, ComunidadAutonoma y Provincia y los campos ciudadContacto y direccionWeb.</li><li>Modificar entidad Empresa para:<ul><li>Incluir el nuevo campo padreId que hace referencia a la empresa que hace de entidad principal en el caso de empresas que son subentidad de otra.</li><li>Incluir el nuevo campo datosEconomicos para indicar si se trata de una empresa con datos económicos (está dada de alta en GENTE y en JUSTO) o sin datos económicos (está dada de alta solo en GENTE).</li></ul></li></ul><p><time datetime="2021-05-17" class="date-past">17-may-2021</time> Se actualiza el modelo para:</p><ul><li>Añadir las entidades TipoTerceroReinoUnido, TipoVia y EmpresaClasificacionUM.</li><li>Renombrar entidades Empresa y DatosContacto por separación entre entidades internas al SGI y específicas de UM.</li><li>Modificar Empresa para usar un único campo entidadRazonSocial para gestionar el nombre y/o la razón social de la empresa.</li><li>Modificar DatosTipoEmpresa para incluir el nuevo campo tipoTerceroReinoUnido que hace referencia al tipo de tercero a seleccionar cuando el país es Reino Unido.</li><li>Modificar DatosContacto para:<ul><li>Añadir los siguientes campos:<ul><li>codigoPostal.</li><li>tipoVia como referencia a la entidad TipoVia.</li><li>nombreVia, sustituye a direccionContacto.</li><li>numero.</li><li>ampliacion.</li><li>email.</li><li>fax.</li><li>telefono.</li></ul></li><li>Renombrar los campos paisContacto, comAutonomaContacto, provinciaContacto y ciudadContacto eliminando la palabra &quot;Contacto&quot;.</li></ul></li><li>Modificar TipoTercero para incluir la clase de tercero.</li></ul><p><time datetime="2021-06-18" class="date-past">18-jun-2021</time> Se actualiza el modelo para:</p><ul><li>Reflejar el cambio de la entidad TipoVia al modelo del SGO.</li></ul><p><span class="date-autocomplete"><span><time datetime="2021-06-28" class="date-past">28-jun-2021</time> Modificar definición de la entidad Empresa para separar los campos nombre y razón social.</span></span></p></div></div><h2 id="SistemadeGestióndeEmpresas(UMSGIESBSGEMP)-"><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image confluence-content-image-border" draggable="false" width="1200" src="attachments/597853493/597860050.png" data-image-src="attachments/597853493/597860050.png" data-unresolved-comment-count="0" data-linked-resource-id="597860050" data-linked-resource-version="5" data-linked-resource-type="attachment" data-linked-resource-default-alias="ESB SGEMP-UM Logical Model.png" data-base-url="https://confluence.um.es/confluence" data-linked-resource-content-type="image/png" data-linked-resource-container-id="597853493" data-linked-resource-container-version="49" alt=""></span></h2><h2 id="SistemadeGestióndeEmpresas(UMSGIESBSGEMP)-API">API</h2><p>Características generales que todas las API REST deben de cumplir:</p><ul><li><a href="https://confluence.um.es/confluence/display/HERCULES/Consultas+filtradas+y+paginadas" rel="nofollow">Consultas filtradas y paginadas</a></li><li><a href="Formatos-de-datos-API_597853494.html">Formatos de datos API</a></li></ul><h3 class="content-wrapper" id="SistemadeGestióndeEmpresas(UMSGIESBSGEMP)-Definicióndelosobjetos">Definición de los objetos</h3><div class="confluence-information-macro confluence-information-macro-information"><p class="title conf-macro-render">Cambios</p><span class="aui-icon aui-icon-small aui-iconfont-info confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p><time datetime="2021-05-03" class="date-past">03-may-2021</time> Se actualiza la definición de objetos para:</p><ul><li>Añadir los objetos TipoTercero, TipoEmpresa, TipoEmpresaContabilidad y las referencias a los objetos del SGO Pais, ComunidadAutonoma y Provincia.</li><li>Modificar objeto DatosTipoEmpresa para incluir nuevos campos, tipoTercero y tipoEmpresaContabilidad, como referencia a los objetos TipoTercero y TipoEmpresaContabilidad.</li><li>Modificar el uso del objeto TipoEmpresa para pasar a ser información de empresas con datos económicos.</li><li>Modificar objeto DatosContacto para incluir nuevos campos, paisContacto, comunidadContacto, provinciaContacto, como referencia a los objetos Pais, ComunidadAutonoma y Provincia y los campos ciudadContacto y direccionWeb.</li><li>Modificar objeto Empresa para:<ul><li>Incluir el nuevo campo padreId que hace referencia a la empresa que hace de entidad principal en el caso de empresas que son subentidad de otra.</li><li>Incluir el nuevo campo datosEconomicos para indicar si se trata de una empresa con datos económicos (está dada de alta en GENTE y en JUSTO) o sin datos económicos (está dada de alta solo en GENTE).</li></ul></li></ul><p><time datetime="2021-05-17" class="date-past">17-may-2021</time> </p><ul><li>Añadir los objetos TipoTerceroReinoUnido, TipoVia y EmpresaClasificacion.</li><li>Modificar Empresa para usar un único campo entidadRazonSocial para gestionar el nombre y/o la razón social de la empresa.</li><li>Modificar DatosTipoEmpresa para incluir el nuevo campo tipoTerceroReinoUnido que hace referencia al tipo de tercero a seleccionar cuando el país es Reino Unido.</li><li>Modificar DatosContacto para:<ul><li>Añadir los siguientes campos:<ul><li>codigoPostal.</li><li>tipoVia como referencia a la entidad TipoVia.</li><li>nombreVia, sustituye a direccionContacto.</li><li>numero.</li><li>ampliacion.</li><li>email.</li><li>fax.</li><li>telefono.</li></ul></li><li>Renombrar los campos paisContacto, comAutonomaContacto, provinciaContacto y ciudadContacto eliminando la palabra &quot;Contacto&quot;.</li></ul></li><li>Modificar TipoTercero para incluir la clase de tercero.</li></ul><p><time datetime="2021-06-21" class="date-past">21-jun-2021</time> Se actualiza la definición de objetos para:</p><ul><li>Eliminar el objeto TipoVia del modelo propio e indicar cómo obtenerlo del SGO en DatosContacto.</li></ul><p><span class="date-autocomplete"><span><time datetime="2021-06-28" class="date-past">28-jun-2021</time> Se actualiza la definición de objetos para:</span></span></p><ul><li><span class="date-autocomplete"><span>Modificar el objeto Empresa para separar los campos nombre y razón social.</span></span></li></ul></div></div><h4 class="content-wrapper" id="SistemadeGestióndeEmpresas(UMSGIESBSGEMP)-Empresa">Empresa</h4><div class="content-wrapper"><p><br/></p><div class="table-wrap"><table class="wrapped relative-table confluenceTable" style="width: 80.0479%;"><colgroup><col style="width: 9.61174%;"/><col style="width: 7.18976%;"/><col style="width: 83.2047%;"/></colgroup><tbody><tr><th colspan="1" class="confluenceTh">Nombre</th><th colspan="1" class="confluenceTh">Tipo</th><th colspan="1" class="confluenceTh">Descripción</th></tr><tr><td colspan="1" class="confluenceTd">id</td><td colspan="1" class="confluenceTd">String</td><td colspan="1" class="confluenceTd">Identificador de la empresa.</td></tr><tr><td class="confluenceTd">nombre</td><td class="confluenceTd">String</td><td class="confluenceTd">Nombre de la empresa. Se devolverá lo mismo que en el campo &quot;razonSocial&quot;.</td></tr><tr><td colspan="1" class="confluenceTd">razonSocial</td><td colspan="1" class="confluenceTd">String</td><td colspan="1" class="confluenceTd">Razón social de la empresa. Se devolverá lo mismo que en el campo &quot;nombre&quot;.</td></tr><tr><td colspan="1" class="confluenceTd">tipoIdentificador</td><td colspan="1" class="confluenceTd">TipoIdentificador</td><td colspan="1" class="confluenceTd">Tipo de identificador fiscal de la empresa. Se devuelve la entidad TipoIdentificador con todos sus campos.</td></tr><tr><td colspan="1" class="confluenceTd">numeroIdentificacion</td><td colspan="1" class="confluenceTd">String</td><td colspan="1" class="confluenceTd">Número de identificación fiscal de la empresa del tipo indicado en &quot;tipoIdentificador&quot;.</td></tr><tr><td colspan="1" class="confluenceTd">datosEconomicos</td><td colspan="1" class="confluenceTd">Boolean</td><td colspan="1" class="confluenceTd">Indicador de si se trata de una empresa con datos económicos (está dada de alta en GENTE y en JUSTO) o sin datos económicos (está dada de alta solo en GENTE).</td></tr><tr><td colspan="1" class="confluenceTd">padreId</td><td colspan="1" class="confluenceTd">String</td><td colspan="1" class="confluenceTd">Identificador de la empresa padre o entidad principal. Estará informado en el caso de empresas que son subentidad de otra.</td></tr></tbody></table></div><div class="code panel pdl" style="border-width: 1px;">
 <div class="codeHeader panelHeader pdl hide-border-bottom" style="border-bottom-width: 1px;">
  <b class="code-title">Empresa</b><span class="collapse-source expand-control" style="display:none;"><span class="expand-control-icon icon">&nbsp;</span><span class="expand-control-text">Ampliar origen</span></span><span class="collapse-spinner-wrapper"></span>
 </div>
 <div class="codeContent panelContent pdl hide-toolbar">
  <pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: RDark; collapse: true" data-theme="RDark">{
    "id": "ent-002",
    "nombre": "Empresa de Prueba",
    "razonSocial": "Empresa de Prueba",
    "tipoIdentificador": {
          "id":"tp-1",
          "nombre":"CIF"
     },
    "numeroIdentificacion": "H11111111",
    "datosEconomicos": false,
	"padreId": "ent-001"
}</pre>
 </div>
</div><h4 id="SistemadeGestióndeEmpresas(UMSGIESBSGEMP)-TipoIdentificador">TipoIdentificador</h4><div class="table-wrap"><table class="wrapped confluenceTable"><colgroup><col style="width: 74.0px;"/><col style="width: 59.0px;"/><col style="width: 314.0px;"/></colgroup><tbody><tr><th class="confluenceTh">Nombre</th><th class="confluenceTh">Tipo</th><th colspan="1" class="confluenceTh">Descripción</th></tr><tr><td class="confluenceTd">id</td><td class="confluenceTd">String</td><td colspan="1" class="confluenceTd">Identificador de la entidad TipoIdentificador.</td></tr><tr><td class="confluenceTd">nombre</td><td class="confluenceTd">String</td><td colspan="1" class="confluenceTd">Nombre (Posibles valores: CIF, VAT, ...).</td></tr></tbody></table></div><div class="code panel pdl" style="border-width: 1px;">
 <div class="codeHeader panelHeader pdl hide-border-bottom" style="border-bottom-width: 1px;">
  <b class="code-title">TipoIdentificador</b><span class="collapse-source expand-control" style="display:none;"><span class="expand-control-icon icon">&nbsp;</span><span class="expand-control-text">Ampliar origen</span></span><span class="collapse-spinner-wrapper"></span>
 </div>
 <div class="codeContent panelContent pdl hide-toolbar">
  <pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: RDark; collapse: true" data-theme="RDark">{ 
    "id":"tp-1",
    "nombre": "CIF"   
}</pre>
 </div>
</div><div class="content-wrapper"><h4 id="SistemadeGestióndeEmpresas(UMSGIESBSGEMP)-DatosTipoEmpresa">DatosTipoEmpresa</h4></div><div class="table-wrap"><table class="relative-table wrapped confluenceTable" style="width: 99.2211%;"><colgroup><col style="width: 6.16314%;"/><col style="width: 6.28399%;"/><col style="width: 87.5579%;"/></colgroup><tbody><tr><th class="confluenceTh">Nombre</th><th class="confluenceTh">Tipo</th><th colspan="1" class="confluenceTh">Descripción</th></tr><tr><td class="confluenceTd">tipoTercero</td><td class="confluenceTd">TipoTercero</td><td class="confluenceTd">Tipo de tercero. Se devuelve la entidad TipoTercero con todos sus campos.</td></tr><tr><td class="confluenceTd">tipoEmpresa</td><td class="confluenceTd">TipoEmpresa</td><td class="confluenceTd">Tipo de empresa. Se devuelve la entidad TipoEmpresa con todos sus campos.</td></tr><tr><td colspan="1" class="confluenceTd">tipoEmpresaContabilidad</td><td colspan="1" class="confluenceTd">TipoEmpresaContabilidad</td><td colspan="1" class="confluenceTd">Tipo de tercero. Se devuelve la entidad TipoEmpresaContabilidad con todos sus campos.</td></tr><tr><td colspan="1" class="confluenceTd">tipoTerceroReinoUnido</td><td colspan="1" class="confluenceTd">TipoTerceroReinoUnido</td><td colspan="1" class="confluenceTd">Tipo de tercero para personas físicas (personas actuando como empresas) con dirección en el Reino Unido. Se devuelve la entidad TipoTerceroReinoUnido con todos sus campos.</td></tr></tbody></table></div><div class="code panel pdl" style="border-width: 1px;">
 <div class="codeHeader panelHeader pdl hide-border-bottom" style="border-bottom-width: 1px;">
  <b class="code-title">DatosTipoEmpresa</b><span class="collapse-source expand-control" style="display:none;"><span class="expand-control-icon icon">&nbsp;</span><span class="expand-control-text">Ampliar origen</span></span><span class="collapse-spinner-wrapper"></span>
 </div>
 <div class="codeContent panelContent pdl hide-toolbar">
  <pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: RDark; collapse: true" data-theme="RDark">{ 
	"tipoTercero": {
    	"id":"tt-1",
    	"nombre": "Personas jurídicas españolas"   
	},
	"tipoEmpresa": {
    	"id":"te-1",
    	"nombre": "Empr. extranjeras"   
	},  
	"tipoEmpresaContabilidad": {
    	"id":"tec-1",
	    "nombre": "Otros entes del sector público, empresa o institución privada"   
	},
	"tipoTerceroReinoUnido": {
    	"id":"IN",
	    "nombre": "Tercero de Irlanda del Norte" 
	}
}</pre>
 </div>
</div><h4 id="SistemadeGestióndeEmpresas(UMSGIESBSGEMP)-TipoTercero"><span style="color: rgb(0,0,0);">TipoTercero</span></h4><div class="table-wrap"><table class="wrapped relative-table confluenceTable" style="width: 44.256%;"><colgroup><col style="width: 9.28218%;"/><col style="width: 11.1386%;"/><col style="width: 79.5792%;"/></colgroup><tbody><tr><th class="confluenceTh"><span style="color: rgb(0,0,0);">Nombre</span></th><th class="confluenceTh"><span style="color: rgb(0,0,0);">Tipo</span></th><th colspan="1" class="confluenceTh"><span style="color: rgb(0,0,0);">Descripción</span></th></tr><tr><td class="confluenceTd"><span style="color: rgb(0,0,0);">id</span></td><td class="confluenceTd"><span style="color: rgb(0,0,0);">String</span></td><td colspan="1" class="confluenceTd"><span style="color: rgb(0,0,0);">Identificador de la entidad TipoTercero.</span></td></tr><tr><td class="confluenceTd"><span style="color: rgb(0,0,0);">nombre</span></td><td class="confluenceTd"><span style="color: rgb(0,0,0);">String</span></td><td colspan="1" class="confluenceTd"><span style="color: rgb(0,0,0);">Nombre.</span></td></tr><tr><td class="confluenceTd"><span style="color: rgb(0,0,0);" title="">clase</span></td><td class="confluenceTd"><span style="color: rgb(0,0,0);" title="">String</span></td><td class="confluenceTd"><span style="color: rgb(0,0,0);" title="">Clase de tercero Reino Unido. Posibles valores: F (Persona física), J (Persona jurídica).</span></td></tr></tbody></table></div><div class="code panel pdl" style="border-width: 1px;">
 <div class="codeHeader panelHeader pdl hide-border-bottom" style="border-bottom-width: 1px;">
  <b class="code-title">TipoTercero</b><span class="collapse-source expand-control" style="display:none;"><span class="expand-control-icon icon">&nbsp;</span><span class="expand-control-text">Ampliar origen</span></span><span class="collapse-spinner-wrapper"></span>
 </div>
 <div class="codeContent panelContent pdl hide-toolbar">
  <pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: RDark; collapse: true" data-theme="RDark">{ 
    "id":"tt-1",
    "nombre": "Personas jurídicas: españolas",
	"clase": "J"
}</pre>
 </div>
</div><h4 id="SistemadeGestióndeEmpresas(UMSGIESBSGEMP)-TipoEmpresa"><span style="color: rgb(0,0,0);">TipoEmpresa</span></h4><div class="table-wrap"><table class="wrapped confluenceTable"><colgroup><col style="width: 74.0px;"/><col style="width: 59.0px;"/><col style="width: 314.0px;"/></colgroup><tbody><tr><th class="confluenceTh"><span style="color: rgb(0,0,0);">Nombre</span></th><th class="confluenceTh"><span style="color: rgb(0,0,0);">Tipo</span></th><th colspan="1" class="confluenceTh"><span style="color: rgb(0,0,0);">Descripción</span></th></tr><tr><td class="confluenceTd"><span style="color: rgb(0,0,0);">id</span></td><td class="confluenceTd"><span style="color: rgb(0,0,0);">String</span></td><td colspan="1" class="confluenceTd"><span style="color: rgb(0,0,0);">Identificador de la entidad TipoEmpresa.</span></td></tr><tr><td class="confluenceTd"><span style="color: rgb(0,0,0);" title="">nombre</span></td><td class="confluenceTd"><span style="color: rgb(0,0,0);" title="">String</span></td><td colspan="1" class="confluenceTd"><span style="color: rgb(0,0,0);" title="">Nombre. </span></td></tr></tbody></table></div><div class="code panel pdl" style="border-width: 1px;">
 <div class="codeHeader panelHeader pdl hide-border-bottom" style="border-bottom-width: 1px;">
  <b class="code-title">TipoEmpresa</b><span class="collapse-source expand-control" style="display:none;"><span class="expand-control-icon icon">&nbsp;</span><span class="expand-control-text">Ampliar origen</span></span><span class="collapse-spinner-wrapper"></span>
 </div>
 <div class="codeContent panelContent pdl hide-toolbar">
  <pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: RDark; collapse: true" data-theme="RDark">{ 
    "id":"te-1",
    "nombre": "Empr. extranjeras"   
}</pre>
 </div>
</div><h4 id="SistemadeGestióndeEmpresas(UMSGIESBSGEMP)-TipoEmpresaContabilidad"><span style="color: rgb(0,0,0);">TipoEmpresaContabilidad</span></h4><div class="table-wrap"><table class="relative-table wrapped confluenceTable" style="width: 39.7346%;"><colgroup><col style="width: 13.2042%;"/><col style="width: 10.4313%;"/><col style="width: 76.341%;"/></colgroup><tbody><tr><th class="confluenceTh"><span style="color: rgb(0,0,0);">Nombre</span></th><th class="confluenceTh"><span style="color: rgb(0,0,0);">Tipo</span></th><th colspan="1" class="confluenceTh"><span style="color: rgb(0,0,0);">Descripción</span></th></tr><tr><td class="confluenceTd"><span style="color: rgb(0,0,0);">id</span></td><td class="confluenceTd"><span style="color: rgb(0,0,0);">String</span></td><td colspan="1" class="confluenceTd"><span style="color: rgb(0,0,0);">Identificador de la entidad TipoEmpresaContabilidad.</span></td></tr><tr><td class="confluenceTd"><span style="color: rgb(0,0,0);">nombre</span></td><td class="confluenceTd"><span style="color: rgb(0,0,0);">String</span></td><td colspan="1" class="confluenceTd"><span style="color: rgb(0,0,0);">Nombre.<br/></span></td></tr></tbody></table></div><div class="code panel pdl" style="border-width: 1px;">
 <div class="codeHeader panelHeader pdl hide-border-bottom" style="border-bottom-width: 1px;">
  <b class="code-title">TipoEmpresaContabilidad</b><span class="collapse-source expand-control" style="display:none;"><span class="expand-control-icon icon">&nbsp;</span><span class="expand-control-text">Ampliar origen</span></span><span class="collapse-spinner-wrapper"></span>
 </div>
 <div class="codeContent panelContent pdl hide-toolbar">
  <pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: RDark; collapse: true" data-theme="RDark">{ 
    "id":"tec-1",
    "nombre": "Otros entes del sector público, empresa o institución privada"   
}</pre>
 </div>
</div><h4 id="SistemadeGestióndeEmpresas(UMSGIESBSGEMP)-TipoTerceroReinoUnido"><span style="color: rgb(0,0,0);">TipoTerceroReinoUnido</span></h4><div class="table-wrap"><table class="relative-table wrapped confluenceTable" style="width: 59.7374%;"><colgroup><col style="width: 8.79927%;"/><col style="width: 6.96609%;"/><col style="width: 84.2347%;"/></colgroup><tbody><tr><th class="confluenceTh"><span style="color: rgb(0,0,0);">Nombre</span></th><th class="confluenceTh"><span style="color: rgb(0,0,0);">Tipo</span></th><th colspan="1" class="confluenceTh"><span style="color: rgb(0,0,0);">Descripción</span></th></tr><tr><td class="confluenceTd"><span style="color: rgb(0,0,0);">id</span></td><td class="confluenceTd"><span style="color: rgb(0,0,0);">String</span></td><td colspan="1" class="confluenceTd"><span style="color: rgb(0,0,0);">Identificador de la entidad TipoTerceroReinoUnido. Posibles valores: S (Tercero normal), IN (Tercero de Irlanda del Norte).<br/></span></td></tr><tr><td class="confluenceTd"><span style="color: rgb(0,0,0);">nombre</span></td><td class="confluenceTd"><span style="color: rgb(0,0,0);">String</span></td><td colspan="1" class="confluenceTd"><span style="color: rgb(0,0,0);">Nombre. Posibles valores: Tercero normal (S), Tercero de Irlanda del Norte (IN).<br/></span></td></tr></tbody></table></div><div class="code panel pdl" style="border-width: 1px;">
 <div class="codeHeader panelHeader pdl hide-border-bottom" style="border-bottom-width: 1px;">
  <b class="code-title">TipoTerceroReinoUnido</b><span class="collapse-source expand-control" style="display:none;"><span class="expand-control-icon icon">&nbsp;</span><span class="expand-control-text">Ampliar origen</span></span><span class="collapse-spinner-wrapper"></span>
 </div>
 <div class="codeContent panelContent pdl hide-toolbar">
  <pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: RDark; collapse: true" data-theme="RDark">{ 
    "id":"IN",
    "nombre": "Tercero de Irlanda del Norte"
}</pre>
 </div>
</div><h4 id="SistemadeGestióndeEmpresas(UMSGIESBSGEMP)-EmpresaClasificacion"><span style="color: rgb(0,0,0);">EmpresaClasificacion</span></h4><div class="table-wrap"><table class="relative-table wrapped confluenceTable" style="width: 59.7374%;"><colgroup><col style="width: 8.79927%;"/><col style="width: 6.96609%;"/><col style="width: 84.2347%;"/></colgroup><tbody><tr><th class="confluenceTh"><span style="color: rgb(0,0,0);">Nombre</span></th><th class="confluenceTh"><span style="color: rgb(0,0,0);">Tipo</span></th><th colspan="1" class="confluenceTh"><span style="color: rgb(0,0,0);">Descripción</span></th></tr><tr><td class="confluenceTd"><span style="color: rgb(0,0,0);">id</span></td><td class="confluenceTd"><span style="color: rgb(0,0,0);">String</span></td><td colspan="1" class="confluenceTd"><span style="color: rgb(0,0,0);">Identificador de la clasificación.</span></td></tr><tr><td class="confluenceTd"><span style="color: rgb(0,0,0);">codigo</span></td><td class="confluenceTd"><span style="color: rgb(0,0,0);">String</span></td><td colspan="1" class="confluenceTd"><span style="color: rgb(0,0,0);">Código de la clasificación.</span></td></tr><tr><td colspan="1" class="confluenceTd"><span style="color: rgb(0,0,0);">nombre</span></td><td colspan="1" class="confluenceTd"><span style="color: rgb(0,0,0);">String</span></td><td colspan="1" class="confluenceTd"><span style="color: rgb(0,0,0);">Nombre de la clasificación.</span></td></tr><tr><td colspan="1" class="confluenceTd"><span style="color: rgb(0,0,0);">padreId</span></td><td colspan="1" class="confluenceTd"><span style="color: rgb(0,0,0);">String</span></td><td colspan="1" class="confluenceTd"><span style="color: rgb(0,0,0);">Identificador de la entidad padre de la clasificación.</span></td></tr></tbody></table></div><div class="code panel pdl" style="border-width: 1px;">
 <div class="codeHeader panelHeader pdl hide-border-bottom" style="border-bottom-width: 1px;">
  <b class="code-title">Empresa-Clasificación padre</b><span class="collapse-source expand-control" style="display:none;"><span class="expand-control-icon icon">&nbsp;</span><span class="expand-control-text">Ampliar origen</span></span><span class="collapse-spinner-wrapper"></span>
 </div>
 <div class="codeContent panelContent pdl hide-toolbar">
  <pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: RDark; collapse: true" data-theme="RDark">   {
        "id": "1",
        "codigo": "01"
        "nombre":"Cultivos no perennes",
        "padreId": null
    }</pre>
 </div>
</div><div class="code panel pdl" style="border-width: 1px;">
 <div class="codeHeader panelHeader pdl hide-border-bottom" style="border-bottom-width: 1px;">
  <b class="code-title">Empresa-Clasificación hija de primer nivel</b><span class="collapse-source expand-control" style="display:none;"><span class="expand-control-icon icon">&nbsp;</span><span class="expand-control-text">Ampliar origen</span></span><span class="collapse-spinner-wrapper"></span>
 </div>
 <div class="codeContent panelContent pdl hide-toolbar">
  <pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: RDark; collapse: true" data-theme="RDark">   {
        "id": "2",
		"codigo": "0112"
        "nombre":"Cultivo de arroz", 
        "padreId": "1"
    }</pre>
 </div>
</div><br/><h4 id="SistemadeGestióndeEmpresas(UMSGIESBSGEMP)-DatosContacto">DatosContacto</h4></div><div class="content-wrapper"><p><br/></p><div class="table-wrap"><table class="wrapped relative-table confluenceTable" style="width: 63.6214%;"><colgroup><col style="width: 19.7935%;"/><col style="width: 17.5559%;"/><col style="width: 62.6506%;"/></colgroup><tbody><tr><th class="confluenceTh">Nombre</th><th class="confluenceTh">Tipo</th><th colspan="1" class="confluenceTh">Descripción</th></tr><tr><td colspan="1" class="confluenceTd">paisContacto</td><td colspan="1" class="confluenceTd">Pais</td><td colspan="1" class="confluenceTd"><p title="">Se devuelve la entidad Pais con todos sus campos. Ver definición en <a href="597852444.html">Sistema Gesti&oacute;n de Organizaciones (UM - SGI - ESB - SGO)</a><span class="confluence-link">.</span></p></td></tr><tr><td class="confluenceTd">comAutonomaContacto</td><td class="confluenceTd">ComunidadAutonoma</td><td class="confluenceTd"><p title="">Se devuelve la entidad ComunidadAutonoma con todos sus campos. Ver definición en <a href="597852444.html">Sistema Gesti&oacute;n de Organizaciones (UM - SGI - ESB - SGO)</a><span class="confluence-link">.</span></p></td></tr><tr><td class="confluenceTd">provinciaContacto</td><td class="confluenceTd">Provincia</td><td class="confluenceTd"><p title="">Se devuelve la entidad Provincia con todos sus campos. Ver definición en <a href="597852444.html">Sistema Gesti&oacute;n de Organizaciones (UM - SGI - ESB - SGO)</a><span class="confluence-link">.</span></p></td></tr><tr><td class="confluenceTd">ciudadContacto</td><td class="confluenceTd">String</td><td class="confluenceTd">Ciudad de contacto de la empresa.</td></tr><tr><td colspan="1" class="confluenceTd"><p title="">codigoPostal</p></td><td colspan="1" class="confluenceTd">String</td><td colspan="1" class="confluenceTd">Código postal de la empresa.</td></tr><tr><td colspan="1" class="confluenceTd">tipoVia</td><td colspan="1" class="confluenceTd">TipoVia</td><td colspan="1" class="confluenceTd">Tipo de vía de la dirección de contacto de la empersa. Se devuelve la entidad TipoVia con todos sus campos. Ver definición en <a href="597852444.html">Sistema Gesti&oacute;n de Organizaciones (UM - SGI - ESB - SGO)</a><span class="confluence-link">.</span></td></tr><tr><td colspan="1" class="confluenceTd">nombreVia</td><td colspan="1" class="confluenceTd">String</td><td colspan="1" class="confluenceTd">Nombre de la vía de la dirección de contacto de la empresa.</td></tr><tr><td colspan="1" class="confluenceTd">numero</td><td colspan="1" class="confluenceTd">String</td><td colspan="1" class="confluenceTd">Número de la vía de la dirección de contacto de la empresa.</td></tr><tr><td colspan="1" class="confluenceTd">ampliacion</td><td colspan="1" class="confluenceTd">String</td><td colspan="1" class="confluenceTd">Campo para ampliar la informaicón de la dirección de contacto de la empresa.</td></tr><tr><td colspan="1" class="confluenceTd">email</td><td colspan="1" class="confluenceTd">String</td><td colspan="1" class="confluenceTd">Email de contacto de la empresa.</td></tr><tr><td colspan="1" class="confluenceTd">fax</td><td colspan="1" class="confluenceTd">String</td><td colspan="1" class="confluenceTd">Fax de contacto de la empresa.</td></tr><tr><td colspan="1" class="confluenceTd">telefono</td><td colspan="1" class="confluenceTd">String</td><td colspan="1" class="confluenceTd">Teléfono de contacto de la empresa.</td></tr><tr><td class="confluenceTd">direccionWeb</td><td class="confluenceTd">String</td><td class="confluenceTd">Dirección web de la empresa.</td></tr></tbody></table></div><p><br/></p></div><div class="content-wrapper"><p><br/></p><div class="code panel pdl" style="border-width: 1px;">
 <div class="codeHeader panelHeader pdl hide-border-bottom" style="border-bottom-width: 1px;">
  <b class="code-title">DatosContacto</b><span class="collapse-source expand-control" style="display:none;"><span class="expand-control-icon icon">&nbsp;</span><span class="expand-control-text">Ampliar origen</span></span><span class="collapse-spinner-wrapper"></span>
 </div>
 <div class="codeContent panelContent pdl hide-toolbar">
  <pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: RDark; collapse: true" data-theme="RDark">{
	"paisContacto": {
       "id":"33",
       "nombre":"España"
     },
    "comAutonomaContacto": {
       "id":"ca-3",
       "nombre":"Asturias"
     }, 
    "provinciaContacto": {
       "id":"pro-1",
       "nombre":"Asturias"
     }, 
	"ciudadContacto": "Oviedo",
	"codigoPostal": "33002",
	"tipoVia": {
       "id":"tv-1",
       "nombre":"Calle"
     },
    "nombreVia": "Uría",
    "numero": "4",
	"ampliacion": "puerta A",
	"email": "email@empresadeprueba.es",
	"fax": "985798765",
	"telefono": "985798766",
	"direccionWeb": "www.empresadeprueba.es"
}</pre>
 </div>
</div><h3 id="SistemadeGestióndeEmpresas(UMSGIESBSGEMP)-Servicios">Servicios</h3><div class="confluence-information-macro confluence-information-macro-information"><p class="title conf-macro-render">Cambios</p><span class="aui-icon aui-icon-small aui-iconfont-info confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p><time datetime="2021-05-03" class="date-past">03-may-2021</time> Se actualizan los servicios API para:</p><ul><li>Modificar el funcionamiento del método POST de alta de empresa, ahora recibirá más información, toda la indicada por la UM para el alta (recogida en la pantalla de Alta de Empresa).</li><li>Crear 4 nuevos métodos:<ul><li>Solicitar la modificación de los datos de Empresa.</li><li>Obtener todos los datos de una empresa en JSON para pintar tanto en la pantalla de Modificación como en el Ver Detalle.</li><li>Obtener listado de tipos de terceros.</li><li>Obtener listado de tipos de empresa para contabilidad.</li></ul></li><li>Eliminar todos los métodos de alta parcial de datos de Empresa por secciones.</li></ul><p><time datetime="2021-05-17" class="date-past">17-may-2021</time> Se actualizan los servicios API para:</p><ul><li>Modificar el funcionamiento del método GET de búsqueda y filtrado de empresas para fundir en un solo campo el filtro por nombre y/o razón social.</li><li>Añadir 3 métodos:<ul><li>Obtener el listado de clasificaciones de códigos CNAE asociados a una empresa.</li><li>Obtener el listado de tipos de vía para seleccionar en la dirección de una empresa.</li><li>Obtener el listado de tipos de terceros para Reino Unido para asociar a empresas con datos económicos</li></ul></li></ul><p><time datetime="2021-06-08" class="date-past">08-jun-2021</time> Se actualizan los siguientes servicios del API de empresas:</p><ul><li>POST: Se cambia la definición a /empresas/formly.</li><li>PUT: Se cambia la definición a /empresas/formly/{id} y se añade en el JSON el campo empresaId para facilitar su identificación.</li></ul><p><time datetime="2021-06-18" class="date-past">18-jun-2021</time> Se actualiza la lista de servicios del API para:</p><ul><li>Eliminar el servicio /tipos-via</li></ul><p><time datetime="2021-06-28" class="date-past">28-jun-2021</time> Se actualiza la lista de servicios del API para:</p><ul><li>Modificar el funcionamiento del método GET de búsqueda y filtrado de empresas para separar en dos campos el filtro por nombre y/o razón social y que sean por nombre y razón social independientes.</li></ul><p><time datetime="2021-10-18" class="date-past">18-oct-2021</time> Se modificar el servicio del alta de empresa para que en el caso de que el servicio sea síncrono devuelva el id de la empresa creada.</p><ul><li>POST /empresas/formly</li></ul><p><time datetime="2021-10-28" class="date-past">28-oct-2021</time> <span class="date-autocomplete"><span>Nuevo servicio para obtener las empresas modificadas o nuevas a partir de una fecha</span></span></p><ul><li><span class="date-autocomplete"><span>GET /empresas/modificadas-ids</span></span></li></ul></div></div></div><div class="table-wrap"><table class="wrapped confluenceTable" style="width: 1826.0px;"><colgroup><col/><col/><col/><col/><col/></colgroup><thead><tr><th style="width: 128.0px;" class="confluenceTh"><p>Método</p></th><th style="width: 255.001px;" class="confluenceTh"><p>URL</p></th><th style="width: 338.001px;" class="confluenceTh"><p>Parámetros</p></th><th style="width: 312.999px;" class="confluenceTh"><p>Respuesta</p></th><th style="width: 791.999px;" class="confluenceTh"><p>Descripción</p></th></tr></thead><tbody><tr><td style="width: 128.0px;" class="confluenceTd">GET</td><td style="width: 255.001px;" class="confluenceTd">/empresas</td><td style="width: 338.001px;" class="confluenceTd"><p title="">q+s (query + sort)</p><p title="">La query estará formada por:</p><ul title=""><li>id</li><li><span style="color: rgb(0,0,0);">nombre</span></li><li><span style="color: rgb(0,0,0);">razonSocial</span></li><li>numeroIdentificacion</li></ul></td><td style="width: 312.999px;" class="confluenceTd"><p title="">Lista[Empresa]</p></td><td style="width: 791.999px;" class="confluenceTd"><p title="">Listado de Empresa.</p><p title=""><em>Ejemplo</em>:</p><p style="margin-left: 30.0px;" title=""><span style="color: rgb(0,0,0);">nombre=like=SL, razonSocial=like=SL</span></p></td></tr><tr><td style="width: 128.0px;" class="confluenceTd">GET</td><td style="width: 255.001px;" class="confluenceTd">/empresas/{id}</td><td style="width: 338.001px;" class="confluenceTd"><br/></td><td style="width: 312.999px;" class="confluenceTd">Empresa</td><td style="width: 791.999px;" class="confluenceTd"><p>Detalle de los datos generales de una empresa.</p></td></tr><tr><td style="width: 128.0px;" class="confluenceTd">POST</td><td style="width: 255.001px;" class="confluenceTd">/empresas/formly</td><td style="width: 338.001px;" class="confluenceTd">JSON</td><td style="width: 312.999px;" class="confluenceTd"><p title="">id</p><p title="">Vendrá relleno si la creación es síncrona y no vendrá si es asíncrona.</p></td><td style="width: 791.999px;" class="confluenceTd"><div class="content-wrapper" title=""><p>Recibe como parámetro la respuesta del usuario del formulario de datos de alta (formly) con los campos necesarios para crear una empresa.</p><div class="code panel pdl" style="border-width: 1px;">
 <div class="codeHeader panelHeader pdl hide-border-bottom" style="border-bottom-width: 1px;">
  <b class="code-title">Ejemplo de JSON</b><span class="collapse-source expand-control" style="display:none;"><span class="expand-control-icon icon">&nbsp;</span><span class="expand-control-text">Ampliar origen</span></span><span class="collapse-spinner-wrapper"></span>
 </div>
 <div class="codeContent panelContent pdl hide-toolbar">
  <pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: RDark; collapse: true" data-theme="RDark">{
  "tipoSedeId": "1",
  "datosEconomicos": false,
  "entidadRazonSocial": "Entidad",
  "tipoIdentificadorFiscalId": "2",
  "numeroIdentificadorFiscal": "12312312",
  "sectoresIndustriales": [
    "4",
    "5"
  ],
  "paisContactoId": "1",
  "codigoPostalContacto": "48152",
  "ciudadContacto": "Madrid",
  "tipoViaContactoId": "1",
  "nombreViaContacto": "Gran vía",
  "numeroViaContacto": "234",
  "ampliacion": "ampliación",
  "email": "email@prueba.com",
  "telefonoContacto": "66612345",
  "faxContacto": "915551234",
  "direccionWeb": "http://www.prueba.com",
  "tipoTerceroId": "F",
  "tipoEmpresaId": "1",
  "tipoEmpresaContabilidadId": "1",
  "tipoTerceroReinoUnidoId": "S"
}</pre>
 </div>
</div><div id="expander-858540140" class="expand-container"><div role="heading" aria-level="6" id="expander-control-858540140" class="expand-control"><button type="button" id="expand-button-858540140" class="aui-button aui-button-link aui-button-link-icon-text" aria-expanded="true" aria-controls="expander-content-858540140" ><span class="expand-icon aui-icon aui-icon-small aui-iconfont-chevron-down" aria-hidden="true"></span><span class="expand-control-text conf-macro-render">Descripción de campos JSON (pulsa para expandir)...</span></button></div><div role="region" id="expander-content-858540140" class="expand-content" aria-labelledby="expand-button-858540140"><ul><li><strong style="letter-spacing: 0.0px;">tipoSedeId</strong><span style="letter-spacing: 0.0px;">: </span><span style="letter-spacing: 0.0px;">0 para tipo 'Entidad' y 1 para tipo 'Subentidad'</span></li><li><strong style="letter-spacing: 0.0px;">datosEconomicos</strong><span style="letter-spacing: 0.0px;">: </span>true | false</li><li><strong style="letter-spacing: 0.0px;">entidadRazonSocial</strong><span style="letter-spacing: 0.0px;">: </span>Descripción de la entidad o razón social</li><li><strong style="letter-spacing: 0.0px;">tipoIdentificadorFiscalId</strong><span style="letter-spacing: 0.0px;">: I</span>d de tipo de identificador fiscal procedente del endpoint /tipos-identificador</li><li><strong style="letter-spacing: 0.0px;">numeroIdentificadorFiscal</strong><span style="letter-spacing: 0.0px;">: </span>Nº de identificador fiscal</li><li><strong style="letter-spacing: 0.0px;">sectoresIndustriales</strong><span style="letter-spacing: 0.0px;">:  </span>Array de ids de clasificaciones CNAE procedentes de /empresas-clasificaciones/empresa/{id}</li><li><strong style="letter-spacing: 0.0px;">paisContactoId</strong><span style="letter-spacing: 0.0px;">: </span>Id de pais de contacto procedente de endpoint /paises. Ver definición en <a href="597852444.html">Sistema Gesti&oacute;n de Organizaciones (UM - SGI - ESB - SGO)</a></li><li><strong style="letter-spacing: 0.0px;">codigoPostalContacto</strong><span style="letter-spacing: 0.0px;">: </span>Código postal de dirección de contacto</li><li><strong style="letter-spacing: 0.0px;">ciudadContacto</strong><span style="letter-spacing: 0.0px;">: </span>Ciudad de contacto</li><li><strong style="letter-spacing: 0.0px;">tipoViaContactoId</strong><span style="letter-spacing: 0.0px;">: </span>Id de tipo de vía de contacto procedente de endpoint /tipos-via</li><li><strong style="letter-spacing: 0.0px;">nombreViaContacto</strong><span style="letter-spacing: 0.0px;">: </span>Nombre de vía de contacto</li><li><strong style="letter-spacing: 0.0px;">numeroViaContacto</strong><span style="letter-spacing: 0.0px;">: </span>Número de dirección de contacto</li><li><strong style="letter-spacing: 0.0px;">ampliacion</strong><span style="letter-spacing: 0.0px;">: </span>Descripción de ampliación</li><li><strong style="letter-spacing: 0.0px;">email</strong><span style="letter-spacing: 0.0px;">: </span>Email de contacto</li><li><strong style="letter-spacing: 0.0px;">telefonoContacto</strong><span style="letter-spacing: 0.0px;">: </span>Teléfono de contacto</li><li><strong style="letter-spacing: 0.0px;">faxContacto</strong><span style="letter-spacing: 0.0px;">: </span>Fax de contacto</li><li><strong style="letter-spacing: 0.0px;">direccionWeb</strong><span style="letter-spacing: 0.0px;">: </span>Web de contacto</li><li><strong style="letter-spacing: 0.0px;">tipoTerceroId</strong><span style="letter-spacing: 0.0px;">: </span>Id de tipo de tercero procedente de endpoint /tipos-tercero</li><li><strong style="letter-spacing: 0.0px;">tipoEmpresaId</strong><span style="letter-spacing: 0.0px;">: </span>Id de tipo de empresa procedente de endpoint /tipos-empresa</li><li><strong style="letter-spacing: 0.0px;">tipoEmpresaContabilidadId</strong><span style="letter-spacing: 0.0px;">: </span>Id de tipo de empresa contabilidad procedente de endpoint /tipos-empresa-contabilidad</li><li><strong style="letter-spacing: 0.0px;">tipoTerceroReinoUnidoId</strong><span style="letter-spacing: 0.0px;">: I</span>d de tipo de tercero reino unido procedente de endpoint /tipos-tercero-reino-unido</li></ul></div></div></div></td></tr><tr><td style="width: 128.0px;" class="confluenceTd">PUT</td><td style="width: 255.001px;" class="confluenceTd">/empresas/formly/{id}</td><td style="width: 338.001px;" class="confluenceTd">JSON</td><td style="width: 312.999px;" class="confluenceTd"><br/></td><td style="width: 791.999px;" class="confluenceTd"><div class="content-wrapper" title=""><p>Recibe como parámetro la respuesta del usuario del formulario de datos de modificación (formly) con los campos necesarios para actualizar una empresa.</p><p><br/></p><div class="code panel pdl" style="border-width: 1px;">
 <div class="codeHeader panelHeader pdl hide-border-bottom" style="border-bottom-width: 1px;">
  <b class="code-title">Ejemplo de JSON</b><span class="collapse-source expand-control" style="display:none;"><span class="expand-control-icon icon">&nbsp;</span><span class="expand-control-text">Ampliar origen</span></span><span class="collapse-spinner-wrapper"></span>
 </div>
 <div class="codeContent panelContent pdl hide-toolbar">
  <pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: RDark; collapse: true" data-theme="RDark">{
  "empresaId": "1",
  "tipoSedeId": "1",
  "datosEconomicos": false,
  "entidadRazonSocial": "Entidad",
  "tipoIdentificadorFiscalId": "2",
  "numeroIdentificadorFiscal": "12312312",
  "entidadPrincipal": "entidad principal",
  "sectoresIndustriales": [
    "4",
    "5"
  ],
  "paisContactoId": "1",
  "codigoPostalContacto": "48152",
  "ciudadContacto": "Madrid",
  "tipoViaContactoId": "1",
  "nombreViaContacto": "Gran vía",
  "numeroViaContacto": "234",
  "ampliacion": "ampliación",
  "email": "email@prueba.com",
  "telefonoContacto": "66612345",
  "faxContacto": "915551234",
  "direccionWeb": "http://www.prueba.com",
  "tipoTerceroId": "1",
  "tipoEmpresaId": "1",
  "tipoEmpresaContabilidadId": "1",
  "tipoTerceroReinoUnidoId": "S"
}</pre>
 </div>
</div><div id="expander-1961567976" class="expand-container"><div role="heading" aria-level="6" id="expander-control-1961567976" class="expand-control"><button type="button" id="expand-button-1961567976" class="aui-button aui-button-link aui-button-link-icon-text" aria-expanded="true" aria-controls="expander-content-1961567976" ><span class="expand-icon aui-icon aui-icon-small aui-iconfont-chevron-down" aria-hidden="true"></span><span class="expand-control-text conf-macro-render">Descripción de campos JSON (pulsa para expandir)...</span></button></div><div role="region" id="expander-content-1961567976" class="expand-content" aria-labelledby="expand-button-1961567976"><ul><li><strong>empresaId: </strong>Id de la empresa</li><li><strong>tipoSedeId</strong><span>: </span><span>0 para tipo 'Entidad' y 1 para tipo 'Subentidad'</span></li><li><strong>datosEconomicos</strong><span>: </span>true | false</li><li><strong>entidadRazonSocial</strong><span>: </span>Descripción de la entidad o razón social</li><li><strong>tipoIdentificadorFiscalId</strong><span>: I</span>d de tipo de identificador fiscal procedente del endpoint /tipos-identificador</li><li><strong>numeroIdentificadorFiscal</strong><span>: </span>Nº de identificador fiscal</li><li><strong>entidadPrincipal</strong><span>: </span>Nombre de entidad principal</li><li><strong>sectoresIndustriales</strong><span>:  </span>Array de ids de clasificaciones CNAE procedentes de /empresas-clasificaciones/empresa/{id}</li><li><strong>paisContactoId</strong><span>: </span>Id de pais de contacto procedente de endpoint /paises. Ver definición en <a href="597852444.html">Sistema Gesti&oacute;n de Organizaciones (UM - SGI - ESB - SGO)</a></li><li><strong>codigoPostalContacto</strong><span>: </span>Código postal de dirección de contacto</li><li><strong>ciudadContacto</strong><span>: </span>Ciudad de contacto</li><li><strong>tipoViaContactoId</strong><span>: </span>Id de tipo de vía de contacto procedente de endpoint /tipos-via</li><li><strong>nombreViaContacto</strong><span>: </span>Nombre de vía de contacto</li><li><strong>numeroViaContacto</strong><span>: </span>Número de dirección de contacto</li><li><strong>ampliacion</strong><span>: </span>Descripción de ampliación</li><li><strong>email</strong><span>: </span>Email de contacto</li><li><strong>telefonoContacto</strong><span>: </span>Teléfono de contacto</li><li><strong>faxContacto</strong><span>: </span>Fax de contacto</li><li><strong>direccionWeb</strong><span>: </span>Web de contacto</li><li><strong>tipoTerceroId</strong><span>: </span>Id de tipo de tercero procedente de endpoint /tipos-tercero</li><li><strong>tipoEmpresaId</strong><span>: </span>Id de tipo de empresa procedente de endpoint /tipos-empresa</li><li><strong>tipoEmpresaContabilidadId</strong><span>: </span>Id de tipo de empresa contabilidad procedente de endpoint /tipos-empresa-contabilidad</li><li><strong>tipoTerceroReinoUnidoId</strong><span>: I</span>d de tipo de tercero reino unido procedente de endpoint /tipos-tercero-reino-unido</li></ul></div></div></div></td></tr><tr><td style="text-align: left;width: 128.0px;" class="confluenceTd">GET</td><td style="text-align: left;width: 255.001px;" class="confluenceTd">/empresas/formly/{id}</td><td style="text-align: left;width: 338.001px;" class="confluenceTd"><br/></td><td style="text-align: left;width: 312.999px;" class="confluenceTd">JSON</td><td style="text-align: left;width: 791.999px;" class="confluenceTd"><p title="">Devuelve los datos a pintar en el formulario de Ver Detalle/Actualizar en el SGI (formly). Se recibirá el mismo json que en la solicitud de modificación de empresa (/empresas PUT)</p></td></tr><tr><td class="highlight-grey confluenceTd" style="width: 1826.0px;" title="Color de fondo: Gris" colspan="5" data-highlight-colour="grey"><br/></td></tr><tr><td style="width: 128.0px;" class="confluenceTd">GET</td><td style="width: 255.001px;" class="confluenceTd">/datos-contacto/empresa/{id}</td><td style="width: 338.001px;" class="confluenceTd"><br/></td><td style="width: 312.999px;" class="confluenceTd">DatosContacto</td><td style="width: 791.999px;" class="confluenceTd"><p>Contiene los datos de contacto de una empresa. </p><p>Ver <a class="createlink" href="/confluence/pages/createpage.action?spaceKey=HERCULES&amp;title=UM+-+SGI+-+ESB+-+SGEMP+-+Adaptaciones+integraci%C3%B3n&amp;linkCreation=true&amp;fromPageId=597853493">UM - SGI - ESB - SGEMP - Adaptaciones integraci&oacute;n</a> para su implementación en el SGI.</p></td></tr><tr><td class="highlight-grey confluenceTd" style="width: 1826.0px;" title="Color de fondo: Gris" colspan="5" data-highlight-colour="grey"><br/></td></tr><tr><td style="width: 128.0px;" class="confluenceTd">GET</td><td style="width: 255.001px;" class="confluenceTd">/empresas-clasificaciones/empresa/{id}</td><td style="width: 338.001px;" class="confluenceTd"><br/></td><td style="width: 312.999px;" class="confluenceTd">EmpresaClasificacion</td><td style="width: 791.999px;" class="confluenceTd">Listado de las clasificaciones de tipo códigos CNAE o sectores industriales asociados a una empresa. </td></tr><tr><td class="highlight-grey confluenceTd" style="width: 1826.0px;" title="Color de fondo: Gris" colspan="5" data-highlight-colour="grey"><br/></td></tr><tr><td style="width: 128.0px;" class="confluenceTd">GET</td><td style="width: 255.001px;" class="confluenceTd">/datos-tipo-empresa/empresa/{id}</td><td style="width: 338.001px;" class="confluenceTd"><br/></td><td style="width: 312.999px;" class="confluenceTd">DatosTipoEmpresa</td><td style="width: 791.999px;" class="confluenceTd">Detalle de los datos de tipo de empresa de una empresa.</td></tr><tr><td class="highlight-grey confluenceTd" style="width: 1826.0px;" title="Color de fondo: Gris" colspan="5" data-highlight-colour="grey"><br/></td></tr><tr><td style="width: 128.0px;" class="confluenceTd">GET</td><td style="width: 255.001px;" class="confluenceTd">/tipos-identificador</td><td style="width: 338.001px;" class="confluenceTd"><br/></td><td style="width: 312.999px;" class="confluenceTd">Lista[TipoIdentificador]</td><td style="width: 791.999px;" class="confluenceTd">Listado de tipos de identificador fiscal para las empresas ordenados alfabéticamente de forma ascendente.</td></tr><tr><td class="highlight-grey confluenceTd" style="width: 1826.0px;" title="Color de fondo: Gris" colspan="5" data-highlight-colour="grey"><br/></td></tr><tr><td style="width: 128.0px;" class="confluenceTd">GET</td><td style="width: 255.001px;" class="confluenceTd">/tipos-tercero</td><td style="width: 338.001px;" class="confluenceTd"><br/></td><td style="width: 312.999px;" class="confluenceTd">Lista[TipoTercero]</td><td style="width: 791.999px;" class="confluenceTd">Listado de tipos de tercero ordenados alfabéticamente de forma ascendente.</td></tr><tr><td style="width: 128.0px;" class="confluenceTd">GET</td><td style="width: 255.001px;" class="confluenceTd">/tipos-empresa</td><td style="width: 338.001px;" class="confluenceTd"><br/></td><td style="width: 312.999px;" class="confluenceTd">Lista[TipoEmpresa]</td><td style="width: 791.999px;" class="confluenceTd">Listado de tipos de empresa ordenados alfabéticamente de forma ascendente.</td></tr><tr><td style="width: 128.0px;" class="confluenceTd">GET</td><td style="width: 255.001px;" class="confluenceTd">/tipos-empresa-contabilidad</td><td style="width: 338.001px;" class="confluenceTd"><br/></td><td style="width: 312.999px;" class="confluenceTd">Lista[TipoEmpresaContabilidad]</td><td style="width: 791.999px;" class="confluenceTd">Listado de tipos de empresa para contabilidad ordenados alfabéticamente de forma ascendente.</td></tr><tr><td style="width: 128.0px;" class="confluenceTd">GET</td><td style="width: 255.001px;" class="confluenceTd">/tipos-tercero-reino-unido</td><td style="width: 338.001px;" class="confluenceTd"><br/></td><td style="width: 312.999px;" class="confluenceTd">Lista[TipoTerceroReinoUnido]</td><td style="width: 791.999px;" class="confluenceTd">Listado de tipos de tercero, en caso de que el país sea Reino Unido, ordenados alfabéticamente de forma ascendente.</td></tr><tr><td class="highlight-#f4f5f7 confluenceTd" title="Color de fondo: 100 % gris claro" colspan="5" data-highlight-colour="#f4f5f7"><br/></td></tr><tr><td class="highlight-#eae6ff confluenceTd" title="Color de fondo: 35 % morado claro" colspan="5" data-highlight-colour="#eae6ff"><strong title="">Métodos donde el SGI solo hace de pasarela entre Universidad y CVN</strong></td></tr><tr><td colspan="1" class="confluenceTd">GET</td><td colspan="1" class="confluenceTd">/empresas/modificadas-ids</td><td colspan="1" class="confluenceTd"><p title="">q+s</p><p title="">La query estará formada por:</p><ul title=""><li>fechaModificacion</li></ul></td><td colspan="1" class="confluenceTd">Lista[String]</td><td colspan="1" class="confluenceTd">Listado de los identificadores de empresas que han sufrido cambios en los datos de identificativos de la empresa o en sus datos de contacto (entidad Empresa y entidad DatosContacto)</td></tr></tbody></table></div>
                    </div>

                                                            <div class="pageSection group">
                        <div class="pageSectionHeader">
                            <h2 id="attachments" class="pageSectionTitle">Attachments:</h2>
                        </div>

                        <div class="greybox" align="left">
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/597853493/597858593.png">ESB SGEMP Logical Model.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/597853493/597858591.png">ESB SGEMP Logical Model.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/597853493/597858546.png">ESB SGEMP Logical Model.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/597853493/597884630.png">ESB SGEMP Logical Model.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/597853493/597859895.png">ESB SGEMP-UM Logical Model.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/597853493/597866099.png">ESB SGEMP-UM Logical Model.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/597853493/597866056.png">ESB SGEMP-UM Logical Model.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/597853493/597856284.png">ESB SGEMP-UM Logical Model.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/597853493/597860050.png">ESB SGEMP-UM Logical Model.png</a> (image/png)
                                <br/>
                                                    </div>
                    </div>
                    
                                                      
                </div>             </div> 
            <div id="footer" role="contentinfo">
                <section class="footer-body">
                    <p>Document generated by Confluence on oct 09, 2024 11:55</p>
                    <div id="footer-logo"><a href="https://www.atlassian.com/">Atlassian</a></div>
                </section>
            </div>
        </div>     </body>
</html>
