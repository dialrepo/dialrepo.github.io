<!DOCTYPE html>
<html>
    <head>
        <title>Hércules : CU-COM-0020 - Generar comunicado programado</title>
        <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">
    </head>

    <body class="theme-default aui-theme-default">
        <div id="page">
            <div id="main" class="aui-page-panel">
                <div id="main-header">
                    <div id="breadcrumb-section">
                        <ol id="breadcrumbs">
                            <li class="first">
                                <span><a href="index.html">Hércules</a></span>
                            </li>
                                                    <li>
                                <span><a href="597853529.html">Hércules</a></span>
                            </li>
                                                    <li>
                                <span><a href="597852519.html">SGI. Sistema de gestión de investigación</a></span>
                            </li>
                                                    <li>
                                <span><a href="597852497.html">Requisitos y análisis funcional</a></span>
                            </li>
                                                    <li>
                                <span><a href="597853748.html">Análisis Funcional SGI - Hércules</a></span>
                            </li>
                                                    <li>
                                <span><a href="GEN---Aspectos-generales_597853747.html">GEN - Aspectos generales</a></span>
                            </li>
                                                    <li>
                                <span><a href="597853815.html">COM - Módulo de Comunicados</a></span>
                            </li>
                                                    <li>
                                <span><a href="COM---Casos-de-uso_597853811.html">COM - Casos de uso</a></span>
                            </li>
                                                </ol>
                    </div>
                    <h1 id="title-heading" class="pagetitle">
                                                <span id="title-text">
                            Hércules : CU-COM-0020 - Generar comunicado programado
                        </span>
                    </h1>
                </div>

                <div id="content" class="view">
                    <div class="page-metadata">
                        
        
    
    
        
    
        
        
            Created by <span class='author'> Usuario desconocido (alicia.alvarez)</span>, last modified on feb 22, 2022
                        </div>
                    <div id="main-content" class="wiki-content group">
                    <div class="contentLayout2">
<div class="columnLayout single" data-layout="single">
<div class="cell normal" data-type="normal">
<div class="innerCell">
<div class='plugin-tabmeta-details'><div class="table-wrap"><table class="relative-table wrapped confluenceTable" style="width: 75.1988%;"><colgroup><col style="width: 15.8843%;"/><col style="width: 84.1235%;"/></colgroup><tbody><tr><th colspan="1" class="confluenceTh">Cod. CU</th><td colspan="1" class="confluenceTd"><p><strong>CU-COM-0020 - Generar comunicado programado<br/></strong></p></td></tr><tr><th class="confluenceTh">Ver. objetivo</th><td class="confluenceTd">1.0.0</td></tr><tr><th class="confluenceTh">Ver. CU</th><td class="confluenceTd">1.0.0</td></tr><tr><th class="confluenceTh">Estado</th><td class="confluenceTd"><div class="content-wrapper"><p><span class="status-macro aui-lozenge aui-lozenge-current">LIBERADO_</span></p></div></td></tr><tr><th class="confluenceTh">Fec. Aprobación</th><td class="confluenceTd"><br/></td></tr><tr><th class="confluenceTh">Épica, historia</th><td class="confluenceTd"><div class="content-wrapper"><p><br/></p></div></td></tr><tr><th colspan="1" class="confluenceTh">Actores</th><td colspan="1" class="confluenceTd"><p><span style="color: rgb(255,0,0);"><span style="color: rgb(0,51,102);">ACT-012-Sistema</span></span></p></td></tr><tr><th colspan="1" class="confluenceTh"><p>Frecuencia</p></th><td colspan="1" class="confluenceTd">Media</td></tr></tbody></table></div></div><h2 id="CUCOM0020Generarcomunicadoprogramado-Descripción">Descripción</h2><p>El sistema SGI debe poder generar comunicados de manera automática o, lo que es lo mismo, sin intervención manual por parte del usuario, para que los destinatarios que a cada uno apliquen puedan recibirlos por email. Este tipo de comunicados han de estar previamente a su necesidad de envío programados como tareas en el SGI.</p><h2 id="CUCOM0020Generarcomunicadoprogramado-Actores">Actores</h2><p><span style="color: rgb(255,0,0);"><span style="color: rgb(0,51,102);">El propio sistema SGI.<br/></span></span></p><h2 id="CUCOM0020Generarcomunicadoprogramado-Precondiciones">Precondiciones</h2><p>Para el envío/recepción de un comunicado automático, que siempre será por email, deben cumplirse una serie de condiciones:</p><ul><li>El comunicado ha de disponer de una plantilla de asunto y contenido configurada en el SGI.</li><li>El comunicado ha de disponer de una lista de destinatarios configurados, por unidad de gestión, para ese tipo de comunicado.</li><li>La persona o personas destinataria/s de los mismos deben disponer de un email operativo y, en el caso de que el destinatario sea una persona del SGP con el que el SGI se integra, este email debe estar además marcado como &quot;principal&quot;. Puede haber destinatarios resueltos desde la configuración o que haya que resolver justo al momento del envío del mismo y no antes, en este caso, deben igualmente cumplir esta condición.</li></ul><h2 id="CUCOM0020Generarcomunicadoprogramado-Garantíasdeéxito(postcondiciones)">Garantías de éxito (postcondiciones)</h2><p>Todos los destinatarios configurados o resueltos en diferido asociados al comunicado reciben el comunicado por email en la fecha, con el asunto y con el contenido adecuado.</p><h2 id="CUCOM0020Generarcomunicadoprogramado-Escenarioprincipal(flujobásico)-Programacióndeenvíodecomunicado">Escenario principal (flujo básico) - Programación de envío de comunicado</h2><ol><li>Dentro de la gestión que corresponda se necesita enviar un comunicado a un destinatario o lista de destinatarios concreta en una fecha futura programada.</li><li>El módulo que origina la necesidad del comunicado (CSP, ETI, PII) registra una tarea programada para la fecha y hora indicada y a la vez un email a enviar en el módulo de comunicados, enviando además los parámetros necesarios para que se sustituyan dentro de la plantilla de este tipo de comunicado.</li><li>El módulo de tareas programadas, llegada la fecha y hora programadas para el envío del comunicado, solicita al módulo de comunicados el envío del email previamente registrado .</li><li>El módulo de comunicados envía el email a los destinatarios indicados.<br/><ol><li>Si se han indicado destinatarios a resolver en diferido (checks IPs proyecto, IPs convocatoria, ... los responsables económicos, ...), previamente al envío ha de resolverse la lista completa de destinatarios.</li></ol></li></ol><h2 id="CUCOM0020Generarcomunicadoprogramado-Escenarioprincipal(flujoalternativo1)-Envíodecomunicadopreviamenteprogramado">Escenario principal (flujo alternativo 1) - Envío de comunicado previamente programado</h2><ol><li>Existe una tarea programada ya preconfigurada en el producto para enviar un comunicado en una fecha y hora indicada y, opcionalmente, que se repita además este envío cada X tiempo.</li><li>El módulo de tareas programadas, llegada la fecha y hora programadas para el envío del comunicado, solicita al módulo que origina la necesidad del comunicado (CSP, ETI, PII) los parámetros necesarios para que se sustituyan en la plantilla y con ellos llama al módulo de comunicados para solicitar el envío del email.</li><li>El módulo de comunicados envía el email a los destinatarios indicados.<br/><ol><li>Si se han indicado destinatarios a resolver en diferido (checks IPs proyecto, IPs convocatoria, ... los responsables económicos, ...), previamente al envío ha de resolverse la lista completa de destinatarios.</li></ol></li></ol><h2 id="CUCOM0020Generarcomunicadoprogramado-Escenarioprincipal(flujoalternativo2)-Falloenelprocesodeprogramacióny/ogeneracióndecomunicado">Escenario principal (flujo alternativo 2) - Fallo en el proceso de programación y/o generación de comunicado</h2><ol><li>Dentro de la gestión que corresponda se necesita enviar un comunicado a un destinatario o lista de destinatarios concreta en una fecha futura programada.</li><li>El módulo que origina la necesidad del comunicado (CSP, ETI, PII) registra una tarea programada para la fecha y hora indicada y a la vez un email a enviar en el módulo de comunicados, enviando además los parámetros necesarios para que se sustituyan dentro de la plantilla de este tipo de comunicado.</li><li>El registro del email o el de la tarea programada falla.</li><li>Se deja registro del error en los log y se hace rollback en el módulo invocante (CSP,ETI,PII) si es que el propio registro del email o la programación de la tarea  altera datos en esos módulos, esto es, no se registrará una entrada en la tabla que asocia una entidad de esos módulos con el email y con la tarea programada, ya que no se ha podido generar uno u otor. En ningún caso se dejará de realizar el &quot;guardado&quot; o &quot;aplicación&quot; de los posibles cambios que disparan el envío del comunicado en las entidades del módulo invocante  (CSP,ETI,PII) porque no se pueda registrar el email y/o registrar la tarea programada que dispara su envío. Por ejemplo, no se dejará de guardar un período de pago a un socio colaborador en un proyecto porque no se haya podido generar la tarea que programa el envío del email.</li></ol></div>
</div>
</div>
<div class="columnLayout two-equal" data-layout="two-equal">
<div class="cell normal" data-type="normal">
<div class="innerCell">
<h2 id="CUCOM0020Generarcomunicadoprogramado-Casosdeusorelacionados">Casos de uso relacionados</h2><p>Manual</p><ul><li><a href="https://confluence.um.es/confluence/display/HERCULES/CU-CSP-1100+-002-+Modificar+solicitud+-+Cambio+de+estado" rel="nofollow" title="CU-CSP-1100 -002- Modificar solicitud - Cambio de estado">CU-CSP-1100 -002- Modificar solicitud - Cambio de estado</a> —</li><li><a href="https://confluence.um.es/confluence/pages/viewpage.action?pageId=87820468" rel="nofollow" title="CU-ETI-0010-008 - Envío notificación convocatoria">CU-ETI-0010-008 - Envío notificación convocatoria</a> —</li><li><a href="https://confluence.um.es/confluence/display/HERCULES/CU-ETI-0020-002+-+Evaluar+memoria+-+Guardar+sin+comentarios" rel="nofollow" title="CU-ETI-0020-002 - Evaluar memoria - Guardar sin comentarios">CU-ETI-0020-002 - Evaluar memoria - Guardar sin comentarios</a> —</li><li><a href="https://confluence.um.es/confluence/display/HERCULES/CU-ETI-0020-003+-+Evaluar+memoria+-+Guardar+con+comentarios" rel="nofollow" title="CU-ETI-0020-003 - Evaluar memoria - Guardar con comentarios">CU-ETI-0020-003 - Evaluar memoria - Guardar con comentarios</a> —</li><li><a href="https://confluence.um.es/confluence/pages/viewpage.action?pageId=87819172" rel="nofollow" title="CU-ETI-0060-005 - Enviar a secretaría">CU-ETI-0060-005 - Enviar a secretaría</a> —</li><li><a href="https://confluence.um.es/confluence/display/HERCULES/CU-ETI-0070+-+Procesos+batch" rel="nofollow" title="CU-ETI-0070 - Procesos batch">CU-ETI-0070 - Procesos batch</a> —</li><li><a href="https://confluence.um.es/confluence/display/HERCULES/CU-ETI-0090-002+-+Evaluar+memoria+seguimiento+-+Guardar+sin+comentarios" rel="nofollow" title="CU-ETI-0090-002 - Evaluar memoria seguimiento - Guardar sin comentarios">CU-ETI-0090-002 - Evaluar memoria seguimiento - Guardar sin comentarios</a> —</li><li><a href="https://confluence.um.es/confluence/display/HERCULES/CU-ETI-0090-003+-+Evaluar+memoria+seguimiento+-+Guardar+con+comentarios" rel="nofollow" title="CU-ETI-0090-003 - Evaluar memoria seguimiento - Guardar con comentarios">CU-ETI-0090-003 - Evaluar memoria seguimiento - Guardar con comentarios</a> —</li><li><a href="https://confluence.um.es/confluence/pages/viewpage.action?pageId=89620721" rel="nofollow" title="CU-PII-0010-002 - Solicitudes de protección - Avisos">CU-PII-0010-002 - Solicitudes de protección - Avisos</a> —</li></ul><p>Auto</p><p><img class="wysiwyg-unknown-macro" src="plugins/servlet/confluence/placeholder/unknown-macro"/></p></div>
</div>
<div class="cell normal" data-type="normal">
<div class="innerCell">
<h2 id="CUCOM0020Generarcomunicadoprogramado-Interfacesrelacionados">Interfaces relacionados</h2><p>Manual</p><ul><li><a href="https://confluence.um.es/confluence/display/HERCULES/IU-CSP-0204-008+-+Modificar+convocatoria+-+Hitos" rel="nofollow" title="IU-CSP-0204-008 - Modificar convocatoria - Hitos">IU-CSP-0204-008 - Modificar convocatoria - Hitos</a> —</li><li><a href="https://confluence.um.es/confluence/pages/viewpage.action?pageId=90999979" rel="nofollow" title="IU-CSP-0302-017 - Añadir-modificar hito">IU-CSP-0302-017 - Añadir-modificar hito</a> —</li><li><a href="597852939.html">CSP Proyectos, contratos, becas y ayudas</a> --</li><li><a href="https://confluence.um.es/confluence/pages/viewpage.action?pageId=90999976" rel="nofollow" title="IU-CSP-0304-005 - Modificar Solicitud - Modificar Hitos - Unidades de gestión">IU-CSP-0304-005 - Modificar Solicitud - Modificar Hitos - Unidades de gestión</a> —</li><li><a href="https://confluence.um.es/confluence/pages/viewpage.action?pageId=91000320" rel="nofollow" title="IU-CSP-0402-009 - Añadir-modificar fase">IU-CSP-0402-009 - Añadir-modificar fase</a> —</li><li><a href="https://confluence.um.es/confluence/pages/viewpage.action?pageId=91000397" rel="nofollow" title="IU-CSP-0402-010 - Añadir-modificar hito">IU-CSP-0402-010 - Añadir-modificar hito</a> —</li><li><a href="https://confluence.um.es/confluence/pages/viewpage.action?pageId=89624403" rel="nofollow" title="IU-CSP-202-009 - Añadir hito a convocatoria">IU-CSP-202-009 - Añadir hito a convocatoria</a> —</li><li><a href="https://confluence.um.es/confluence/pages/viewpage.action?pageId=85635457" rel="nofollow" title="IU-ETI-0030-001 Búsqueda y listado de actas">IU-ETI-0030-001 Búsqueda y listado de actas</a> —</li></ul><p>Auto</p><p><img class="wysiwyg-unknown-macro" src="plugins/servlet/confluence/placeholder/unknown-macro"/></p></div>
</div>
</div>
</div>
                    </div>

                                        
                                                      
                </div>             </div> 
            <div id="footer" role="contentinfo">
                <section class="footer-body">
                    <p>Document generated by Confluence on oct 09, 2024 11:26</p>
                    <div id="footer-logo"><a href="https://www.atlassian.com/">Atlassian</a></div>
                </section>
            </div>
        </div>     </body>
</html>
