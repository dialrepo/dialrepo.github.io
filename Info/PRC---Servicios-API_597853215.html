<!DOCTYPE html>
<html>
    <head>
        <title>Hércules : PRC - Servicios API</title>
        <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">
    </head>

    <body class="theme-default aui-theme-default">
        <div id="page">
            <div id="main" class="aui-page-panel">
                <div id="main-header">
                    <div id="breadcrumb-section">
                        <ol id="breadcrumbs">
                            <li class="first">
                                <span><a href="index.html">Hércules</a></span>
                            </li>
                                                    <li>
                                <span><a href="597853529.html">Hércules</a></span>
                            </li>
                                                    <li>
                                <span><a href="597852519.html">SGI. Sistema de gestión de investigación</a></span>
                            </li>
                                                    <li>
                                <span><a href="597853279.html">Diseño</a></span>
                            </li>
                                                    <li>
                                <span><a href="Componentes_597853271.html">Componentes</a></span>
                            </li>
                                                    <li>
                                <span><a href="SGI---PRC_597853750.html">SGI - PRC</a></span>
                            </li>
                                                </ol>
                    </div>
                    <h1 id="title-heading" class="pagetitle">
                                                <span id="title-text">
                            Hércules : PRC - Servicios API
                        </span>
                    </h1>
                </div>

                <div id="content" class="view">
                    <div class="page-metadata">
                        
        
    
    
        
    
        
        
            Created by <span class='author'> Usuario desconocido (lorena.alvarez)</span>, last modified on abr 19, 2022
                        </div>
                    <div id="main-content" class="wiki-content group">
                    <p><style type='text/css'>/*<![CDATA[*/
div.rbtoc1728466715291 {padding: 0px;}
div.rbtoc1728466715291 ul {margin-left: 0px;}
div.rbtoc1728466715291 li {margin-left: 0px;padding-left: 0px;}

/*]]>*/</style><div class='toc-macro rbtoc1728466715291'>
<ul class='toc-indentation'>
<li><a href='#PRCServiciosAPI-ProduccionCientifica'>ProduccionCientifica</a>
<ul class='toc-indentation'>
<li><a href='#PRCServiciosAPI-CreacióndeitemdeProduccióncientífica'>Creación de item de Producción científica</a>
<ul class='toc-indentation'>
<li><a href='#PRCServiciosAPI-TablaProduccionCientificayEstadoProduccionCientifica'>Tabla ProduccionCientifica y EstadoProduccionCientifica</a></li>
<li><a href='#PRCServiciosAPI-TablaCampoProduccionCientificayValorCampo'>Tabla CampoProduccionCientifica y ValorCampo</a></li>
<li><a href='#PRCServiciosAPI-TablaAutoryAutorGrupo'>Tabla Autor y AutorGrupo</a></li>
<li><a href='#PRCServiciosAPI-TablaIndiceImpacto'>Tabla IndiceImpacto</a></li>
<li><a href='#PRCServiciosAPI-TablaAcreditación'>Tabla Acreditación</a></li>
<li><a href='#PRCServiciosAPI-TablaProyecto'>Tabla Proyecto</a></li>
</ul>
</li>
<li><a href='#PRCServiciosAPI-ModificacióndeitemdeProduccióncientífica'>Modificación de item de Producción científica</a>
<ul class='toc-indentation'>
<li><a href='#PRCServiciosAPI-TablaProduccionCientificayEstadoProduccionCientifica.1'>Tabla ProduccionCientifica y EstadoProduccionCientifica</a></li>
<li><a href='#PRCServiciosAPI-TablaCampoProduccionCientificayValorCampo.1'>Tabla CampoProduccionCientifica y ValorCampo</a></li>
<li><a href='#PRCServiciosAPI-TablaAutoryAutorGrupo.1'>Tabla Autor y AutorGrupo</a></li>
<li><a href='#PRCServiciosAPI-TablaIndiceImpacto.1'>Tabla IndiceImpacto</a></li>
<li><a href='#PRCServiciosAPI-TablaAcreditación.1'>Tabla Acreditación</a></li>
<li><a href='#PRCServiciosAPI-TablaProyecto.1'>Tabla Proyecto</a></li>
</ul>
</li>
<li><a href='#PRCServiciosAPI-BorradodeitemdeProduccióncientífica'>Borrado de item de Producción científica</a></li>
<li><a href='#PRCServiciosAPI-ListadoestadodeitemsdeProduccióncientífica'>Listado estado de items de Producción científica</a></li>
<li><a href='#PRCServiciosAPI-ListadodeepígrafesdeProduccióncientífica'>Listado de epígrafes de Producción científica</a></li>
</ul>
</li>
<li><a href='#PRCServiciosAPI-Convocatoriabaremación'>Convocatoria baremación</a></li>
</ul>
</div></p><h1 id="PRCServiciosAPI-ProduccionCientifica">ProduccionCientifica</h1><p>Ver detalle de los servicios del ESB en <a href="597853278.html">ESB - SGI - Producci&oacute;n Cient&iacute;fica</a>. En esa página se especifica los servicios necesarios a implementar en el ESB que serán llamados desde una entidad externa al SGI (la aplicación del CVN).</p><h2 id="PRCServiciosAPI-CreacióndeitemdeProduccióncientífica">Creación de item de Producción científica</h2><p>Detalle del servicio del ESB:</p><div class="table-wrap"><table class="relative-table wrapped confluenceTable"><colgroup><col style="width: 7.30721%;"/><col style="width: 16.8688%;"/><col style="width: 13.0597%;"/><col style="width: 15.7805%;"/><col style="width: 39.0236%;"/></colgroup><thead><tr><th class="confluenceTh"><p>Método</p></th><th class="confluenceTh"><p>URL</p></th><th class="confluenceTh"><p>Parámetros</p></th><th class="confluenceTh"><p>Respuesta</p></th><th class="confluenceTh"><p>Descripción</p></th></tr></thead><tbody><tr><td colspan="1" class="confluenceTd">POST</td><td colspan="1" class="confluenceTd">/producciones-cientificas</td><td colspan="1" class="confluenceTd">ProduccionCientifica</td><td colspan="1" class="confluenceTd"><p>ProduccionCientifica</p></td><td colspan="1" class="confluenceTd"><p>Recibe como parámetro los campos necesarios para crear un item de producción científica.</p><p><br/></p></td></tr></tbody></table></div><p><br/></p><p>Detalle servicios del SGI:</p><div class="table-wrap"><table class="relative-table wrapped confluenceTable"><colgroup><col style="width: 7.30721%;"/><col style="width: 16.8688%;"/><col style="width: 13.0597%;"/><col style="width: 15.7805%;"/><col style="width: 39.0236%;"/></colgroup><thead><tr><th class="confluenceTh"><p>Método</p></th><th class="confluenceTh"><p>URL</p></th><th class="confluenceTh"><p>Parámetros</p></th><th class="confluenceTh"><p>Respuesta</p></th><th class="confluenceTh"><p>Descripción</p></th></tr></thead><tbody><tr><td colspan="1" class="confluenceTd">POST</td><td colspan="1" class="confluenceTd">/producciones-cientificas-api</td><td colspan="1" class="confluenceTd">ProduccionCientifica</td><td colspan="1" class="confluenceTd">ProduccionCientifica</td><td colspan="1" class="confluenceTd">Recibe como parámetro los campos necesarios para crear un item de producción científica.</td></tr></tbody></table></div><p><br/></p><p>Se debe de insertar en las siguientes tablas del SGI:</p><h3 id="PRCServiciosAPI-TablaProduccionCientificayEstadoProduccionCientifica">Tabla ProduccionCientifica y EstadoProduccionCientifica</h3><p>Se crea un registro en la tabla &quot;ProduccionCientifica&quot; con los campos:</p><ul><li>idRef: el dato que le llega por parámetro</li><li>epigrafeCVN: el dato que le llega por parámetro</li><li>estado: si en el parámetro le llega el valor &quot;VALIDADO&quot; se creará un registro en la tabla &quot;EstadoProduccionCientifica&quot; con el campo &quot;estado&quot; igual al valor del enumerado TipoEstadoProduccion.VALIDADO y con fecha, la fecha actual. Si en el parámetro le llega otro valor distinto a &quot;VALIDADO&quot; o vacío se creará un registro en la tabla &quot;EstadoProduccionCientifica&quot; con el campo &quot;estado&quot; igual al valor del enumerado TipoEstadoProduccion.PENDIENTE y con fecha, la fecha actual.</li><li>convocatoriaBaremacionId: valor null</li></ul><h3 id="PRCServiciosAPI-TablaCampoProduccionCientificayValorCampo">Tabla CampoProduccionCientifica y ValorCampo</h3><p>Se crearán tantos registros en la tabla &quot;CampoProduccionCientifica&quot; como campos tenga la lista de &quot;campos&quot; que viene por parámetro, con los siguientes campos:</p><ul><li>codigoCVN: el dato que le llega por parámetro</li><li>por cada valor que le llega en la lista &quot;valor&quot; se crea un registro en la tabla &quot;ValorCampo&quot; con el valor indicado y el orden según venga en la lista. Si sólo hay un valor el orden  será 1, si hay dos valores, pues el primero de la lista se le pondrá orden 1 y al segundo el orden 2.</li></ul><h3 id="PRCServiciosAPI-TablaAutoryAutorGrupo">Tabla Autor y AutorGrupo</h3><p>Se crearán tantos registros en la tabla &quot;Autor&quot; como autores tenga la lista de &quot;autores&quot; que viene por parámetro, con los siguientes campos:</p><ul><li>firma: el dato que le llega por parámetro. Será obligatorio que llegue este dato o nombre y apellidos o personaRef. Uno de los tres casos es obligatorio que llegue sino se dará un error.</li><li>personaRef: el dato que le llega por parámetro, es el identificador único de la persona dentro del sistema de gestión de personas de la Universidad, en caso de ser un investigador que pertenezca a la Universidad o este dado de alta como externo. En caso de que no exista en la Universidad dicho campo vendrá vacío. En esos casos será obligatorio que venga la firma o el nombre y apellidos. En otro caso se dará error.</li><li>nombre: el dato que le llega por parámetro. Nombre de la persona. Obligatorio si personaRef y la firma no vienen informados.</li><li>apellidos: el dato que le llega por parámetro. Apellidos de la persona. Obligatorio si personaRef y la firma no vienen informados.</li><li>orden: el dato que le llega por parámetro.</li><li>orcidId: el dato que le llega por parámetro.</li><li>fechaInicio: se pondrá a null</li><li>fechaFin: se pondrá a null</li><li>ip: si viene por parámetro se cogerá del parámetro, sino se pondrá a false.</li></ul><p>Por cada autor que tenga informado el campo &quot;personaRef&quot; se comprobará si dicho identificador existe como miembro de un grupo de investigación o de varios (en el módulo de Grupos de investigación - GIN)  a fecha 31 de diciembre del año de la fecha del item, si la fecha del item es anterior a la fecha actual, sino se cogerá la fecha actual. Para obtener la fecha del item, se buscará en la tabla &quot;ConfiguracionCampo&quot; el &quot;codigoCVN&quot; cuyo campo &quot;fechaReferenciaInicio&quot; tenga el valor true (se buscarán entre todos los campos que pertenecen al mismo &quot;epígrafe CVN&quot; al que pertenece el item). Una vez obtenido el &quot;codigoCVN&quot; que corresponde a la fecha del item se saca su valor de la tabla &quot;ValorCampo&quot; del registro cuyo &quot;código CVN&quot; es el obtenido.</p><p>Para esos grupos de investigación a los que pertenece el autor a fecha 31 de diciembre del año del item se crea un registro por cada grupo de investigacion en la tabla &quot;AutorGrupo&quot; asociada a la tabla &quot;Autor&quot; con los siguientes campos:</p><ul><li>grupoRef: referencia del Grupo de investigación</li><li>estado: valor del enumerado TipoEstadoProduccion.VALIDADO si el item de producción científica se ha creado con estado actual VALIDADO o TipoEstadoProduccion.PENDIENTE en otro caso. En caso de que el estado sea PENDIENTE se tiene que crear un comunicado para informar al IP del grupo de investigación de que tiene que validar el item (<a href="https://confluence.um.es/confluence/display/HERCULES/CU-COM-0020+-+Generar+comunicado" rel="nofollow">CU-COM-0020 - Generar comunicado</a>)</li></ul><h3 id="PRCServiciosAPI-TablaIndiceImpacto">Tabla IndiceImpacto</h3><p>Se crearán tantos registros en la tabla &quot;IndiceImpacto&quot; como índices de impacto tenga la lista de &quot;indicesImpacto&quot; que viene por parámetro, con los siguientes campos:</p><ul><li>fuente de impacto: el dato que le llega por parámetro, que tendrá que ser uno de los valores del enumerado FuenteImpacto (000, 010, 020, <span style="color: rgb(0,0,0);">BCI, </span><span style="color: rgb(0,0,0);">ICEE, </span><span style="color: rgb(0,0,0);">DIALNET, </span><span style="color: rgb(0,0,0);">CITEC, </span><span style="color: rgb(0,0,0);">SCIMAGO, </span><span style="color: rgb(0,0,0);">ERIH, </span><span style="color: rgb(0,0,0);">MIAR, </span><span style="color: rgb(0,0,0);">FECYT, </span><span>GII_GRIN_SCIE, </span><span>CORE, </span>OTHERS)</li><li>indice: el dato que le llega por parámetro. Este valor llega cuando la FuenteImpacto es un índice, un número, para la fuentes de impacto que no son ni <span>GII_GRIN_SCIE ni </span><span>CORE</span></li><li>ranking: el dato que le llega por parámetro. Este valor llega cuando la FuenteImpacto es un ranking, una cadena, para la fuentes de impacto <span>GII_GRIN_SCIE o </span><span>CORE. Valor del enumerado TipoRanking<br/></span></li><li><span>anio: el dato que le llega por parámetro</span></li><li><span>otraFuenteImpacto: el dato que le llega por parámetro</span></li><li><span>posicionPublicacion: el dato que le llega por parámetro</span></li><li><span>numeroRevistas: el dato que le llega por parámetro</span></li><li><span>revista25: el dato que le llega por parámetro</span></li></ul><h3 id="PRCServiciosAPI-TablaAcreditación">Tabla Acreditación</h3><p>Se crearán tantos registros en la tabla &quot;Acreditacion&quot; como acreditaciones tenga la lista de &quot;acreditaciones&quot; que viene por parámetro, con los siguientes campos:</p><ul><li>url: el dato que le llega por parámetro. O tendrá informado el campo url o el documentoRef.</li><li>documentoRef: el dato que le llega por parámetro. O tendrá informado el campo url o el documentoRef. Será la referencia al documento almacenado en el sistema de gestión de documentación del SGI (previamente desde el CVN se habrá almacenado el documento y nos enviarán la referencia al mismo).</li></ul><h3 id="PRCServiciosAPI-TablaProyecto">Tabla Proyecto</h3><p>Se crearán tantos registros en la tabla &quot;Proyecto&quot; como proyectos tenga la lista de &quot;proyectos&quot; que viene por parámetro, con los siguientes campos:</p><ul><li>proyectoRef: el dato que le llega por parámetro. Será una referencia a un proyecto almacenado en el módulo de CSP del SGI.</li></ul><p><br/></p><h2 id="PRCServiciosAPI-ModificacióndeitemdeProduccióncientífica">Modificación de item de Producción científica</h2><p>Detalle del servicio del ESB:</p><div class="table-wrap"><table class="relative-table wrapped confluenceTable"><colgroup><col style="width: 7.30721%;"/><col style="width: 16.8688%;"/><col style="width: 13.0597%;"/><col style="width: 15.7805%;"/><col style="width: 39.0236%;"/></colgroup><thead><tr><th class="confluenceTh"><p>Método</p></th><th class="confluenceTh"><p>URL</p></th><th class="confluenceTh"><p>Parámetros</p></th><th class="confluenceTh"><p>Respuesta</p></th><th class="confluenceTh"><p>Descripción</p></th></tr></thead><tbody><tr><td colspan="1" class="confluenceTd"><p>PUT</p></td><td colspan="1" class="confluenceTd">/producciones-cientificas/{idRef}</td><td colspan="1" class="confluenceTd">ProduccionCientifica</td><td colspan="1" class="confluenceTd">ProduccionCientifica</td><td colspan="1" class="confluenceTd"><p>Recibe como parámetro los campos necesarios para modificar un item de producción científica.</p><p>El id pasado por URL es el identificador que tienen en el CVN</p></td></tr></tbody></table></div><p><br/></p><p>Detalle servicios del SGI:</p><div class="table-wrap"><table class="relative-table wrapped confluenceTable"><colgroup><col style="width: 7.30721%;"/><col style="width: 16.8688%;"/><col style="width: 13.0597%;"/><col style="width: 15.7805%;"/><col style="width: 39.0236%;"/></colgroup><thead><tr><th class="confluenceTh"><p>Método</p></th><th class="confluenceTh"><p>URL</p></th><th class="confluenceTh"><p>Parámetros</p></th><th class="confluenceTh"><p>Respuesta</p></th><th class="confluenceTh"><p>Descripción</p></th></tr></thead><tbody><tr><td colspan="1" class="confluenceTd">PUT</td><td colspan="1" class="confluenceTd">/producciones-cientificas-api/{idRef}</td><td colspan="1" class="confluenceTd">ProduccionCientifica</td><td colspan="1" class="confluenceTd">ProduccionCientifica</td><td colspan="1" class="confluenceTd"><p>Recibe como parámetro los campos necesarios para modificar un item de producción científica.</p><p>El id pasado por URL es el identificador que tienen en el CVN</p></td></tr></tbody></table></div><p><br/></p><p>Sólo se podrá modificar un item de producción científica si el estado actual del item es VALIDADO o RECHAZADO. En caso de que el item tenga como estado actual VALIDADO_PAR o PENDIENTE se devolverá un error diciendo &quot;No se pueden enviar a producción científica porque el item esta en estado Pendiente o Validado parcialmente&quot;.</p><p>El item a modificar en el SGI es el item de la tabla &quot;ProduccionCientifica&quot; cuyo campo &quot;idRef&quot; coincide con el identificador del parámetro pasado en la URL y que el campo &quot;convocatoriaBaremacionId&quot; es null. (y el epigrafeCVN sea igual al indicado en el parámetro).</p><p>Si el item en producción científica tiene estado VALIDADO o RECHAZADO se modifica su valores en las tablas:</p><h3 id="PRCServiciosAPI-TablaProduccionCientificayEstadoProduccionCientifica.1">Tabla ProduccionCientifica y EstadoProduccionCientifica</h3><p>Se modifica el campo &quot;estado&quot; del  registro en la tabla &quot;ProduccionCientifica&quot;:</p><ul><li>Si el estado actual del item en el SGI es VALIDADO mirar si se dan una de estas dos situaciones:<ul><li style="list-style-type: none;"><ul><li>que cambie el valor de uno de los campos que necesitan validación adicional: se comprobará si alguno de los campos del item almacenados en la tabla &quot;CampoProduccionCientifica&quot; existe en la tabla &quot;ConfiguracionCampo&quot; con el campo &quot;validacionAdicional&quot; igual a true y su valor en el SGI (tabla &quot;ValorCampo&quot;) es distinto al valor que le llega por parámetro. En este caso, se deberá de volver a validar el item por los IP de grupos</li><li>que cambie el listado de autores: que los autores almacenados en el SGI (tabla &quot;Autor&quot;) no coinciden con los autores que llegan por parámetro (cambia el nombre, apellidos, firma o personaRef). En este caso, se deberá de volver a validar el item por los IP de grupos</li></ul></li><li>Si se dan una de estas dos situaciones anteriores el estado del item se debe de cambiar a estado PENDIENTE, por lo que se creará un registro en la tabla &quot;EstadoProduccionCientifica&quot; con el campo &quot;estado&quot; igual al valor del enumerado TipoEstadoProduccion.PENDIENTE y con fecha, la fecha actual</li><li>Sino se da ninguna de las situaciones anteriores el estado no se modifica.</li></ul></li><li>Si el estado actual del item en el SGI es RECHAZADO se debe de cambiar a estado PENDIENTE, por lo que se creará un registro en la tabla &quot;EstadoProduccionCientifica&quot; con el campo &quot;estado&quot; igual al valor del enumerado TipoEstadoProduccion.PENDIENTE y con fecha, la fecha actual</li></ul><h3 id="PRCServiciosAPI-TablaCampoProduccionCientificayValorCampo.1">Tabla CampoProduccionCientifica y ValorCampo</h3><p>Se modificará el campo &quot;valor&quot; de la tabla &quot;ValorCampo&quot; de cada uno de los campos que lleguen en la lista de &quot;campos&quot; que viene por parámetro, se buscarán los valores a partir del campo &quot;codigoCVN&quot;. En caso de que llegue un nuevo &quot;codigoCVN&quot; que no estuviera registrado en el SGI se creará entonces el registro en la tabla &quot;CampoProduccionCientifica&quot; con el &quot;codigoCVN&quot; que viene y por cada valor que le llega en la lista &quot;valor&quot; se crea un registro en la tabla &quot;ValorCampo&quot; con el valor indicado y el orden según venga en la lista. Si sólo hay un valor el orden  será 1, si hay dos valores, pues el primero de la lista se le pondrá orden 1 y al segundo el orden 2.</p><h3 id="PRCServiciosAPI-TablaAutoryAutorGrupo.1">Tabla Autor y AutorGrupo</h3><p>Si el estado del item se ha modificado a PENDIENTE (mirar condiciones en la parte de Tabla ProduccionCiencitifica y EstadoProduccionCientifica) se eliminan todos los autores (tabla Autor y AutorGrupo) y se vuelven a crear de la siguiente manera:</p><ul><li>Se crearán tantos registros en la tabla &quot;Autor&quot; como autores tenga la lista de &quot;autores&quot; que viene por parámetro, con los siguientes campos:<ul><li>firma: el dato que le llega por parámetro. Será obligatorio que llegue este dato o nombre y apellidos o personaRef. Uno de los tres casos es obligatorio que llegue sino se dará un error.</li><li>personaRef: el dato que le llega por parámetro, es el identificador único de la persona dentro del sistema de gestión de personas de la Universidad, en caso de ser un investigador que pertenezca a la Universidad o este dado de alta como externo. En caso de que no exista en la Universidad dicho campo vendrá vacío. En esos casos será obligatorio que venga la firma o el nombre y apellidos. En otro caso se dará error.</li><li>nombre: el dato que le llega por parámetro. Nombre de la persona. Obligatorio si personaRef y la firma no vienen informados.</li><li>apellidos: el dato que le llega por parámetro. Apellidos de la persona. Obligatorio si personaRef y la firma no vienen informados.</li><li>orden: el dato que le llega por parámetro.</li><li>orcidId: el dato que le llega por parámetro.</li><li>fechaInicio: se pondrá a null</li><li>fechaFin: se pondrá a null</li><li>ip: si viene por parámetro se cogerá del parámetro, sino se pondrá a false.</li></ul></li><li>Por cada autor que tenga informado el campo &quot;personaRef&quot; se comprobará si dicho identificador existe como miembro de un grupo de investigación o de varios (en el módulo de Grupos de investigación - GIN)  a fecha 31 de diciembre del año de la fecha del item, si la fecha del item es anterior a la fecha actual, sino se cogerá la fecha actual. Para obtener la fecha del item, se buscará en la tabla &quot;ConfiguracionCampo&quot; el &quot;codigoCVN&quot; cuyo campo &quot;fechaReferenciaInicio&quot; tenga el valor true (se buscarán entre todos los campos que pertenecen al mismo &quot;epígrafe CVN&quot; al que pertenece el item). Una vez obtenido el &quot;codigoCVN&quot; que corresponde a la fecha del item se saca su valor de la tabla &quot;ValorCampo&quot; del registro cuyo &quot;código CVN&quot; es el obtenido.</li><li>Para esos grupos de investigación a los que pertenece el autor a fecha 31 de diciembre del año del item se crea un registro por cada grupo de investigacion en la tabla &quot;AutorGrupo&quot; asociada a la tabla &quot;Autor&quot; con los siguientes campos:<ul><li>grupoRef: referencia del Grupo de investigación</li><li>estado: valor del enumerado TipoEstadoProduccion.VALIDADO si el item de producción científica se ha creado con estado actual VALIDADO o TipoEstadoProduccion.PENDIENTE en otro caso. En caso de que el estado sea PENDIENTE se tiene que crear un comunicado para informar al IP del grupo de investigación de que tiene que validar el item (<a href="https://confluence.um.es/confluence/display/HERCULES/CU-COM-0020+-+Generar+comunicado" rel="nofollow">CU-COM-0020 - Generar comunicado</a>)</li></ul></li></ul><p>Si el estado del item no se ha modificado (mirar condiciones en la parte de Tabla ProduccionCiencitifica y EstadoProduccionCientifica), continúa en estado VALIDADO no se realizan modificaciones en los autores.</p><h3 id="PRCServiciosAPI-TablaIndiceImpacto.1">Tabla IndiceImpacto</h3><p>Se eliminan todos los registros de la tabla &quot;IndiceImpacto&quot; y se vuelven a crear:</p><ul><li>Se crearán tantos registros en la tabla &quot;IndiceImpacto&quot; como índices de impacto tenga la lista de &quot;indicesImpacto&quot; que viene por parámetro, con los siguientes campos:<ul><li>fuente de impacto: el dato que le llega por parámetro, que tendrá que ser uno de los valores del enumerado FuenteImpacto (000, 010, 020, <span style="color: rgb(0,0,0);">BCI, </span><span style="color: rgb(0,0,0);">ICEE, </span><span style="color: rgb(0,0,0);">DIALNET, </span><span style="color: rgb(0,0,0);">CITEC, </span><span style="color: rgb(0,0,0);">SCIMAGO, </span><span style="color: rgb(0,0,0);">ERIH, </span><span style="color: rgb(0,0,0);">MIAR, </span><span style="color: rgb(0,0,0);">FECYT, </span><span>GII_GRIN_SCIE, </span><span>CORE, </span>OTHERS)</li><li>indice: el dato que le llega por parámetro. Este valor llega cuando la FuenteImpacto es un índice, un número, para la fuentes de impacto que no son ni <span>GII_GRIN_SCIE ni </span><span>CORE</span></li><li>ranking: el dato que le llega por parámetro. Este valor llega cuando la FuenteImpacto es un ranking, una cadena, para la fuentes de impacto <span>GII_GRIN_SCIE o </span><span>CORE. Valor del enumerado TipoRanking<br/></span></li><li><span>anio: el dato que le llega por parámetro</span></li><li><span>otraFuenteImpacto: el dato que le llega por parámetro</span></li><li><span>posicionPublicacion: el dato que le llega por parámetro</span></li><li><span>numeroRevistas: el dato que le llega por parámetro</span></li><li><span>revista25: el dato que le llega por parámetro</span></li></ul></li></ul><h3 id="PRCServiciosAPI-TablaAcreditación.1">Tabla Acreditación</h3><p>Se eliminan todos los registros de la tabla &quot;Acreditacion&quot; y se vuelven a crear:</p><ul><li>Se crearán tantos registros en la tabla &quot;Acreditacion&quot; como acreditaciones tenga la lista de &quot;acreditaciones&quot; que viene por parámetro, con los siguientes campos:<ul><li>url: el dato que le llega por parámetro. O tendrá informado el campo url o el documentoRef.</li><li>documentoRef: el dato que le llega por parámetro. O tendrá informado el campo url o el documentoRef. Será la referencia al documento almacenado en el sistema de gestión de documentación del SGI (previamente desde el CVN se habrá almacenado el documento y nos enviarán la referencia al mismo).</li></ul></li></ul><h3 id="PRCServiciosAPI-TablaProyecto.1">Tabla Proyecto</h3><p>Se eliminan todos los registros de la tabla &quot;Acreditacion&quot; y se vuelven a crear:</p><ul><li>Se crearán tantos registros en la tabla &quot;Proyecto&quot; como proyectos tenga la lista de &quot;proyectos&quot; que viene por parámetro, con los siguientes campos:<ul><li>proyectoRef: el dato que le llega por parámetro. Será una referencia a un proyecto almacenado en el módulo de CSP del SGI.</li></ul></li></ul><p><br/></p><p><br/></p><h2 id="PRCServiciosAPI-BorradodeitemdeProduccióncientífica">Borrado de item de Producción científica</h2><p>Detalle del servicio del ESB:</p><div class="table-wrap"><table class="relative-table wrapped confluenceTable"><colgroup><col style="width: 7.30721%;"/><col style="width: 16.8688%;"/><col style="width: 13.0597%;"/><col style="width: 15.7805%;"/><col style="width: 39.0236%;"/></colgroup><thead><tr><th class="confluenceTh"><p>Método</p></th><th class="confluenceTh"><p>URL</p></th><th class="confluenceTh"><p>Parámetros</p></th><th class="confluenceTh"><p>Respuesta</p></th><th class="confluenceTh"><p>Descripción</p></th></tr></thead><tbody><tr><td colspan="1" class="confluenceTd">DETELE</td><td colspan="1" class="confluenceTd">/producciones-cientificas/{idRef}</td><td colspan="1" class="confluenceTd"><br/></td><td colspan="1" class="confluenceTd"><br/></td><td colspan="1" class="confluenceTd"><p>Elimina un item de producciín científica.</p><p>El id pasado por URL es el identificador que tienen en el CVN</p></td></tr></tbody></table></div><p><br/></p><p>Detalle servicios del SGI:</p><div class="table-wrap"><table class="relative-table wrapped confluenceTable"><colgroup><col style="width: 7.30721%;"/><col style="width: 16.8688%;"/><col style="width: 13.0597%;"/><col style="width: 15.7805%;"/><col style="width: 39.0236%;"/></colgroup><thead><tr><th class="confluenceTh"><p>Método</p></th><th class="confluenceTh"><p>URL</p></th><th class="confluenceTh"><p>Parámetros</p></th><th class="confluenceTh"><p>Respuesta</p></th><th class="confluenceTh"><p>Descripción</p></th></tr></thead><tbody><tr><td colspan="1" class="confluenceTd">DETELE</td><td colspan="1" class="confluenceTd">/producciones-cientificas-api/{idRef}</td><td colspan="1" class="confluenceTd"><br/></td><td colspan="1" class="confluenceTd"><br/></td><td colspan="1" class="confluenceTd"><p>Elimina un item de producciín científica.</p><p>El id pasado por URL es el identificador que tienen en el CVN</p></td></tr></tbody></table></div><p><br/></p><p><br/></p><p>Se elimina de forma física (se elimina el registro en la tabla ProduccionCientifica y de todas sus tablas relacionadas, ValorCampo, CampoProduccionCientifica, EstadoProduccionCientifica, Autor, AutorGrupo, Proyecto, Acreditacion e IndiceImpaco) el item cuyo campo &quot;idRef&quot; coincide con al identificador pasado por parámetro en la URL y tenga el campo &quot;convocatoriaBaremacionId&quot; a null (los que tienen valor en este campo no se eliminan). Y  el epigrafeCVN sea uno de los que llegan por el CVN (en la tabla ConfiguracionBaremo el tipo de Fuente es CVN o CVN_OTRO_SISTEMA)</p><h2 id="PRCServiciosAPI-ListadoestadodeitemsdeProduccióncientífica">Listado estado de items de Producción científica</h2><p>Detalle del servicio del ESB:</p><div class="table-wrap"><table class="relative-table wrapped confluenceTable"><colgroup><col style="width: 7.30721%;"/><col style="width: 16.8688%;"/><col style="width: 13.0597%;"/><col style="width: 15.7805%;"/><col style="width: 39.0236%;"/></colgroup><thead><tr><th class="confluenceTh"><p>Método</p></th><th class="confluenceTh"><p>URL</p></th><th class="confluenceTh"><p>Parámetros</p></th><th class="confluenceTh"><p>Respuesta</p></th><th class="confluenceTh"><p>Descripción</p></th></tr></thead><tbody><tr><td colspan="1" class="confluenceTd">GET</td><td colspan="1" class="confluenceTd">/producciones-cientificas/estado</td><td colspan="1" class="confluenceTd"><p title="">q+s</p><p title="">La query estará formada por:</p><ul title=""><li>fechaEstado</li></ul></td><td colspan="1" class="confluenceTd">Lista[ProduccionCientificaEstado]</td><td colspan="1" class="confluenceTd">Devuelve el identificador CVN y el estado (Validado O Rechazado) de aquellos items almacenados en producción científica que han cambiado al estado Validado o Rechazado en una fecha igual o superior a la fecha de estado pasada por parámetro</td></tr></tbody></table></div><p><br/></p><p>Detalle servicios del SGI:</p><div class="table-wrap"><table class="relative-table wrapped confluenceTable"><colgroup><col style="width: 7.30721%;"/><col style="width: 16.8688%;"/><col style="width: 13.0597%;"/><col style="width: 15.7805%;"/><col style="width: 39.0236%;"/></colgroup><thead><tr><th class="confluenceTh"><p>Método</p></th><th class="confluenceTh"><p>URL</p></th><th class="confluenceTh"><p>Parámetros</p></th><th class="confluenceTh"><p>Respuesta</p></th><th class="confluenceTh"><p>Descripción</p></th></tr></thead><tbody><tr><td colspan="1" class="confluenceTd">GET</td><td colspan="1" class="confluenceTd">/producciones-cientificas-api/estado</td><td colspan="1" class="confluenceTd"><p title="">q+s</p><p title="">La query estará formada por:</p><ul title=""><li>fechaEstado</li></ul></td><td colspan="1" class="confluenceTd">Lista[ProduccionCientificaEstado]</td><td colspan="1" class="confluenceTd">Devuelve el identificador CVN y el estado (Validado O Rechazado) de aquellos items almacenados en producción científica que han cambiado al estado Validado o Rechazado en una fecha igual o superior a la fecha de estado pasada por parámetro</td></tr></tbody></table></div><p><br/></p><p><br/></p><p>Se buscarán los registros de producción científica que han sido modificados al estado VALIDADO O RECHAZADO en una fecha igual o superior a la fecha de estado pasado por parámetro (mirar campo &quot;fecha&quot; &gt;= fecha del parámetro del campo &quot;estado&quot; de la tabla &quot;ProduccionCientifica&quot; y con campo &quot;baremacionConvocatoriaId&quot; igual a null. Para estos registros se devolverá el campo &quot;idRef&quot; y el estado (VALIDADO o RECHAZADO). Y  el epigrafeCVN sea uno de los que llevan por el CVN (en la tabla ConfiguracionBaremo el tipo de Fuente es CVN o CVN_OTRO_SISTEMA)</p><h2 id="PRCServiciosAPI-ListadodeepígrafesdeProduccióncientífica">Listado de epígrafes de Producción científica</h2><p>Detalle del servicio del ESB:</p><div class="table-wrap"><table class="relative-table wrapped confluenceTable"><colgroup><col style="width: 7.30721%;"/><col style="width: 16.8688%;"/><col style="width: 13.0597%;"/><col style="width: 15.7805%;"/><col style="width: 39.0236%;"/></colgroup><thead><tr><th class="confluenceTh"><p>Método</p></th><th class="confluenceTh"><p>URL</p></th><th class="confluenceTh"><p>Parámetros</p></th><th class="confluenceTh"><p>Respuesta</p></th><th class="confluenceTh"><p>Descripción</p></th></tr></thead><tbody><tr><td colspan="1" class="confluenceTd">GET</td><td colspan="1" class="confluenceTd">/epigrafes</td><td colspan="1" class="confluenceTd"><p><br/></p></td><td colspan="1" class="confluenceTd"><div class="content-wrapper"><p>Lista[EpigrafeCVN]</p><p><br/></p></div></td><td colspan="1" class="confluenceTd"><div class="content-wrapper"><p>Listado con los códigos de los apartados del CVN que forman parte de la Producción científica y que necesitan validación. Se enviarán los epígrafes marcados en el SGI de la última convocatoria creada.</p><p>Por cada epígrafe se enviarán los campos dinámicos del CVN que se tienen que enviar a PRC. Será un subconjunto de los de la Fecyt.</p><p><br/></p></div></td></tr></tbody></table></div><p><br/></p><p>Detalle servicios del SGI:</p><div class="table-wrap"><table class="relative-table wrapped confluenceTable"><colgroup><col style="width: 7.30721%;"/><col style="width: 16.8688%;"/><col style="width: 13.0597%;"/><col style="width: 15.7805%;"/><col style="width: 39.0236%;"/></colgroup><thead><tr><th class="confluenceTh"><p>Método</p></th><th class="confluenceTh"><p>URL</p></th><th class="confluenceTh"><p>Parámetros</p></th><th class="confluenceTh"><p>Respuesta</p></th><th class="confluenceTh"><p>Descripción</p></th></tr></thead><tbody><tr><td colspan="1" class="confluenceTd">GET</td><td colspan="1" class="confluenceTd">/epigrafes-api</td><td colspan="1" class="confluenceTd"><p><br/></p></td><td colspan="1" class="confluenceTd"><div class="content-wrapper"><p>Lista[EpigrafeCVN]</p><p><br/></p></div></td><td colspan="1" class="confluenceTd"><div class="content-wrapper"><p>Listado con los códigos de los apartados del CVN que forman parte de la Producción científica y que necesitan validación. Se enviarán los epígrafes marcados en el SGI de la última convocatoria creada.</p><p>Por cada epígrafe se enviarán los campos dinámicos del CVN que se tienen que enviar a PRC. Será un subconjunto de los de la Fecyt.</p><p><br/></p></div></td></tr></tbody></table></div><p><br/></p><p><br/></p><p>Se buscará la convocatoria del último año, es decir, el registro de la tabla &quot;ConvocatoriaBaremacion&quot; cuyo campo &quot;anio&quot; sea el mayor. Para esa convocatoria se obtendrá el campo &quot;epigrafeCVN&quot; de los registros de la tabla &quot;Baremo&quot;  y tengan en &quot;configuracionBaremo&quot; una configuración con el campo &quot;tipoFuente&quot; igual a &quot;CVN&quot; o &quot;CVN_OTRO_SISTEMA&quot;. Si varios baremos pertenecen al mismo epigrafeCVN solo se envía una vez el epigrafeCVN.</p><p>Se devolverá una lista con cada &quot;epigrafeCVN&quot; distinto y para cada epígrafe CVN se devolverá el código y  el listado de &quot;codigoCVN&quot; definidos para ese epígrafe. El listado de &quot;codigoCVN&quot; se obtiene de la tabla &quot;ConfiguracionCampo&quot; filtrando por el campo &quot;epigrafeCVN&quot;</p><p><br/></p><p>OJO: Sólo los baremos de &quot;Publicaciones&quot;, &quot;Comités editoriales&quot;, &quot;Trabajos presentados en congresos&quot;, &quot;Obras artísticas dirigidas&quot;, &quot;Organización de actividades de I+D+i&quot;  están configurados con el tipoFuente = CVN y el baremo &quot;Dirección de tesis&quot; esta configurado con el tipoFuente = CVN_OTRO_SISTEMA. </p><p><br/></p><h1 id="PRCServiciosAPI-Convocatoriabaremación">Convocatoria baremación</h1><div class="table-wrap"><table class="relative-table wrapped confluenceTable"><thead><tr><th class="confluenceTh"><p>Método</p></th><th class="confluenceTh"><p>URL</p></th><th class="confluenceTh"><p>Parámetros</p></th><th class="confluenceTh"><p>Respuesta</p></th><th class="confluenceTh"><p>Descripción</p></th></tr><tr><td colspan="1" class="confluenceTd"><br/></td><td colspan="1" class="confluenceTd"><br/></td><td colspan="1" class="confluenceTd"><br/></td><td colspan="1" class="confluenceTd"><br/></td><td colspan="1" class="confluenceTd"><br/></td></tr></thead></table></div>
                    </div>

                                        
                                                      
                </div>             </div> 
            <div id="footer" role="contentinfo">
                <section class="footer-body">
                    <p>Document generated by Confluence on oct 09, 2024 11:38</p>
                    <div id="footer-logo"><a href="https://www.atlassian.com/">Atlassian</a></div>
                </section>
            </div>
        </div>     </body>
</html>
