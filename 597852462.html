<!DOCTYPE html>
<html>
    <head>
        <title>Hércules : SGI - ESB - SGE - Seguimiento justificación</title>
        <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">
    </head>

    <body class="theme-default aui-theme-default">
        <div id="page">
            <div id="main" class="aui-page-panel">
                <div id="main-header">
                    <div id="breadcrumb-section">
                        <ol id="breadcrumbs">
                            <li class="first">
                                <span><a href="index.html">Hércules</a></span>
                            </li>
                                                    <li>
                                <span><a href="597853529.html">Hércules</a></span>
                            </li>
                                                    <li>
                                <span><a href="597852519.html">SGI. Sistema de gestión de investigación</a></span>
                            </li>
                                                    <li>
                                <span><a href="597853279.html">Diseño</a></span>
                            </li>
                                                    <li>
                                <span><a href="Componentes_597853271.html">Componentes</a></span>
                            </li>
                                                    <li>
                                <span><a href="SGI---ESB_597853273.html">SGI - ESB</a></span>
                            </li>
                                                    <li>
                                <span><a href="SGI---ESB---SGE_597852907.html">SGI - ESB - SGE</a></span>
                            </li>
                                                </ol>
                    </div>
                    <h1 id="title-heading" class="pagetitle">
                                                <span id="title-text">
                            Hércules : SGI - ESB - SGE - Seguimiento justificación
                        </span>
                    </h1>
                </div>

                <div id="content" class="view">
                    <div class="page-metadata">
                        
        
    
    
        
    
        
        
            Created by <span class='author'> Usuario desconocido (lorena.alvarez)</span>, last modified by <span class='editor'> Usuario desconocido (alicia.alvarez)</span> on jun 22, 2022
                        </div>
                    <div id="main-content" class="wiki-content group">
                    <p><style type='text/css'>/*<![CDATA[*/
div.rbtoc1728466679556 {padding: 0px;}
div.rbtoc1728466679556 ul {margin-left: 0px;}
div.rbtoc1728466679556 li {margin-left: 0px;padding-left: 0px;}

/*]]>*/</style><div class='toc-macro rbtoc1728466679556'>
<ul class='toc-indentation'>
<li><a href='#SGIESBSGESeguimientojustificación-Seguimientojustificación'>Seguimiento justificación</a>
<ul class='toc-indentation'>
<li><a href='#SGIESBSGESeguimientojustificación-Entidades'>Entidades</a></li>
<li><a href='#SGIESBSGESeguimientojustificación-Modelológico'>Modelo lógico</a></li>
<li><a href='#SGIESBSGESeguimientojustificación-API'>API</a>
<ul class='toc-indentation'>
<li><a href='#SGIESBSGESeguimientojustificación-Definicióndelosobjetos'>Definición de los objetos</a>
<ul class='toc-indentation'>
<li><a href='#SGIESBSGESeguimientojustificación-GastoJustificado'>GastoJustificado</a></li>
<li><a href='#SGIESBSGESeguimientojustificación-GastoJustificadoDetalle'>GastoJustificadoDetalle</a></li>
<li><a href='#SGIESBSGESeguimientojustificación-Columna'>Columna</a></li>
<li><a href='#SGIESBSGESeguimientojustificación-Documento'>Documento</a></li>
</ul>
</li>
<li><a href='#SGIESBSGESeguimientojustificación-Servicios'>Servicios</a></li>
<li><a href='#SGIESBSGESeguimientojustificación-ColumnasSeguimientoJustificación'>Columnas Seguimiento Justificación</a></li>
<li><a href='#SGIESBSGESeguimientojustificación-CamposDetalleGastoJustificado'>Campos Detalle Gasto Justificado</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div></p><h1 id="SGIESBSGESeguimientojustificación-Seguimientojustificación">Seguimiento justificación</h1><h2 id="SGIESBSGESeguimientojustificación-Entidades">Entidades</h2><div class="table-wrap"><table class="wrapped confluenceTable"><colgroup><col/><col/></colgroup><tbody><tr><th colspan="1" class="confluenceTh">Entidad</th><th colspan="1" class="confluenceTh">Descripción</th></tr><tr><td colspan="1" class="confluenceTd">GastoJustificado</td><td colspan="1" class="confluenceTd"><p>Entidad que representa al gasto que puede ser añadido en una justificación. Tendrá que venir identificado por un identificador único y por el proyecto al que pertenece.</p><p>El resto de campos del gasto se tratarán como columnas dinámicas. Se indicará por cada columna el identificador del campo, el nombre del campo y si es una columna sobre la que se tiene que hacer una suma para mostrarlo en el SGI como un campo totalizador.</p></td></tr><tr><td colspan="1" class="confluenceTd">Columna</td><td colspan="1" class="confluenceTd"><p>Contiene el listado de columnas dinámicas que serán mostradas en las pantallas del SGI.</p><p>Por cada columna se tendrá el identificador del campo, el nombre del campo y si es una columna sobre la que se tiene que hacer una suma para mostrarlo en el SGI como un campo totalizador.</p></td></tr><tr><td colspan="1" class="confluenceTd">GastoJustificadoDetalle</td><td colspan="1" class="confluenceTd"><p>Entidad que representa el detalle de un gasto de una justificación con todos sus campos para mostrarlo en una pantalla de consulta del gasto.</p><p>Tendrá unos campos fijos (identificador único, identificador del proyecto al que pertenece, fecha de devengo,, un código económico, importe gasto e importe presentado en la justificación) y unos campos dinámicos. Por cada campo se detallará el nombre y el valor del campo para mostrarlo en la pantalla del SGI</p></td></tr><tr><td colspan="1" class="confluenceTd">Campo</td><td colspan="1" class="confluenceTd"><p>Contiene el listado de campos dinámicos que serán mostradas en las pantallas de detalle de un gasto.</p><p>Por cada campo se tendrá el el nombre y el valor del campo</p></td></tr><tr><td colspan="1" class="confluenceTd">Documento</td><td colspan="1" class="confluenceTd">Entidad que representa los documentos que pueda tener relacionados un gasto</td></tr></tbody></table></div><h2 id="SGIESBSGESeguimientojustificación-Modelológico">Modelo lógico</h2><p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" draggable="false" width="750" src="attachments/597852462/597876651.jpg" data-image-src="attachments/597852462/597876651.jpg" data-unresolved-comment-count="0" data-linked-resource-id="597876651" data-linked-resource-version="4" data-linked-resource-type="attachment" data-linked-resource-default-alias="ESB SGE Logical Model Seguimiento justificación.jpg" data-base-url="https://confluence.um.es/confluence" data-linked-resource-content-type="image/jpeg" data-linked-resource-container-id="597852462" data-linked-resource-container-version="20" alt=""></span><br/></span></p><h2 id="SGIESBSGESeguimientojustificación-API">API</h2><p>Características generales que todas las API REST deben de cumplir:</p><ul><li><a href="https://confluence.um.es/confluence/display/HERCULES/Consultas+filtradas+y+paginadas" rel="nofollow">Consultas filtradas y paginadas</a></li><li><a href="https://confluence.um.es/confluence/display/HERCULES/Formatos+de+datos+API" rel="nofollow">Formatos de datos API</a></li></ul><h3 class="content-wrapper" id="SGIESBSGESeguimientojustificación-Definicióndelosobjetos">Definición de los objetos</h3><h4 id="SGIESBSGESeguimientojustificación-GastoJustificado">GastoJustificado</h4><div class="table-wrap"><table class="wrapped confluenceTable"><colgroup><col/><col/><col/></colgroup><tbody><tr><td class="highlight-grey confluenceTd" colspan="1" data-highlight-colour="grey"><strong>Nombre</strong></td><td class="highlight-grey confluenceTd" colspan="1" data-highlight-colour="grey"><strong>Tipo</strong></td><td class="highlight-grey confluenceTd" colspan="1" data-highlight-colour="grey"><strong>Descripción</strong></td></tr><tr><td class="confluenceTd">id</td><td class="confluenceTd">String</td><td colspan="1" class="confluenceTd">Identificador del gasto. Tiene que ser un identificador único</td></tr><tr><td colspan="1" class="confluenceTd">proyectoId</td><td colspan="1" class="confluenceTd">String</td><td colspan="1" class="confluenceTd">Identificador del proyecto económico (SGE)</td></tr><tr><td colspan="1" class="confluenceTd">justificacionId</td><td colspan="1" class="confluenceTd">String</td><td colspan="1" class="confluenceTd">Identificador justificación (del SGE)</td></tr><tr><td colspan="1" class="confluenceTd">columnas</td><td colspan="1" class="confluenceTd">Map[clave,valor]</td><td colspan="1" class="confluenceTd"><p>Mapa de propiedades</p><p>El valor será un String salvo en aquellas columnas que sean acumulables (se tenga que hacer sumas sobre ellas) donde será de tipo Numérico (<u>sin separador de miles y como separador decimal el punto</u>). Las fechas vendrán en el formato para mostrarlas por pantalla, es decir, dd/MM/YYYY</p></td></tr></tbody></table></div><h4 id="SGIESBSGESeguimientojustificación-GastoJustificadoDetalle">GastoJustificadoDetalle</h4><div class="table-wrap"><table class="wrapped confluenceTable"><colgroup><col/><col/><col/></colgroup><tbody><tr><td class="highlight-grey confluenceTd" colspan="1" data-highlight-colour="grey"><strong>Nombre</strong></td><td class="highlight-grey confluenceTd" colspan="1" data-highlight-colour="grey"><strong>Tipo</strong></td><td class="highlight-grey confluenceTd" colspan="1" data-highlight-colour="grey"><strong>Descripción</strong></td></tr><tr><td class="confluenceTd">id</td><td class="confluenceTd">String</td><td colspan="1" class="confluenceTd">Identificador del gasto. Tiene que ser un identificador único.</td></tr><tr><td colspan="1" class="confluenceTd">proyectoId</td><td colspan="1" class="confluenceTd">String</td><td colspan="1" class="confluenceTd">Identificador del proyecto económico (SGE)</td></tr><tr><td colspan="1" class="confluenceTd">justificacionId</td><td colspan="1" class="confluenceTd">String</td><td colspan="1" class="confluenceTd">Identificador justificación (del SGE)</td></tr><tr><td colspan="1" class="confluenceTd">campos</td><td colspan="1" class="confluenceTd">Lista[Campo]</td><td colspan="1" class="confluenceTd"><p>Lista de campos, por cada campo se define el nombre y el valor del campo</p></td></tr></tbody></table></div><h4 id="SGIESBSGESeguimientojustificación-Columna">Columna</h4><div class="table-wrap"><table class="wrapped confluenceTable"><colgroup><col/><col/><col/></colgroup><tbody><tr><td class="highlight-grey confluenceTd" colspan="1" data-highlight-colour="grey"><strong>Nombre</strong></td><td class="highlight-grey confluenceTd" colspan="1" data-highlight-colour="grey"><strong>Tipo</strong></td><td class="highlight-grey confluenceTd" colspan="1" data-highlight-colour="grey"><strong>Descripción</strong></td></tr><tr><td colspan="1" class="confluenceTd">id</td><td colspan="1" class="confluenceTd">String</td><td colspan="1" class="confluenceTd">Identificador de la columna</td></tr><tr><td class="confluenceTd">nombre</td><td class="confluenceTd">String</td><td colspan="1" class="confluenceTd">Nombre de la columna</td></tr><tr><td colspan="1" class="confluenceTd">acumulable</td><td colspan="1" class="confluenceTd">Boolean</td><td colspan="1" class="confluenceTd"><p>Indica si se tiene que sumar o no para mostrar los totales en la pantalla del SGI.</p><p>Dos valores:</p><ul><li>true</li><li>false</li></ul></td></tr></tbody></table></div><h4 id="SGIESBSGESeguimientojustificación-Documento">Documento</h4><div class="table-wrap"><table class="wrapped confluenceTable"><colgroup><col/><col/><col/></colgroup><tbody><tr><td class="highlight-grey confluenceTd" colspan="1" data-highlight-colour="grey"><strong>Nombre</strong></td><td class="highlight-grey confluenceTd" colspan="1" data-highlight-colour="grey"><strong>Tipo</strong></td><td class="highlight-grey confluenceTd" colspan="1" data-highlight-colour="grey"><strong>Descripción</strong></td></tr><tr><td colspan="1" class="confluenceTd">id</td><td colspan="1" class="confluenceTd">String</td><td colspan="1" class="confluenceTd">Identificador único del documento</td></tr><tr><td class="confluenceTd">nombre</td><td class="confluenceTd">String</td><td colspan="1" class="confluenceTd">Nombre del documento a mostrar</td></tr><tr><td class="confluenceTd"><p>nombreFichero</p></td><td class="confluenceTd">String</td><td colspan="1" class="confluenceTd">Nombre del fichero con extensión</td></tr></tbody></table></div><h3 id="SGIESBSGESeguimientojustificación-Servicios">Servicios</h3><div class="confluence-information-macro confluence-information-macro-information"><span class="aui-icon aui-icon-small aui-iconfont-info confluence-information-macro-icon"></span><div class="confluence-information-macro-body">Para componer la URL llamada completa, se debe anteponer a lo indicado en la columna URL lo siguiente: <strong>{HOST}/api/sge</strong>, donde <strong>{HOST}</strong> de deberá sustituir el dominio correspondiente al entorno al que se está accediendo y dicho acceso será por http o https según el caso.</div></div><p><div class="table-wrap"><table class="aui metadata-summary-macro null" data-cql="label = &quot;servicios&quot; and space = currentSpace() and ancestor = currentContent()" data-details-space-key="HERCULES"  data-details-content-id="597852462"  data-headings="Método, URL, Parámetros, Respuesta, Descripción" data-first-column-heading="Servicio" data-count-comments="false" data-count-likes="false" data-total-pages="1" data-page-size="1000" data-sort-by="null" data-reverse-sort="false" data-blueprint-present="false"><thead><tr><th class="sorter-text">Servicio</th><th>M&eacute;todo</th><th>URL</th><th>Par&aacute;metros</th><th>Respuesta</th><th>Descripci&oacute;n</th></tr></thead><tbody><tr><td class="title" data-content-id="597853508"><a href="/confluence/pages/viewpage.action?pageId=597853508">SGI - ESB - SGE - Seguimiento justificación - Consultar detalle gasto justificado</a></td><td>GET</td><td>/seguimiento-justificacion/{id}</td><td><p>proyectoId</p><p>justificacionId</p></td><td><p><a href="https://confluence.um.es/confluence/pages/viewpage.action?pageId=140641365#SGIESBSGESeguimientojustificaci%C3%B3n-GastoJustificadoDetalle" rel="nofollow">GastoJustificadoDetalle</a></p></td><td><p>Detalle del gasto con todas sus columnas.</p><ul><li>Identificador del gasto</li><li>Identificador del proyecto SGE</li><li>Identificador justificación (del SGE)</li><li>Listado de campos con su nombre y valor (Ver el apartado &quot;<strong>Campos Detalle Gasto Justificado</strong>&quot; para ver que campos se deben de mostrar.</li><li>Listado de documentos (identificador, nombre del documento y nombre del fichero, sin el contenido)</li></ul></td></tr><tr><td class="title" data-content-id="597853507"><a href="/confluence/pages/viewpage.action?pageId=597853507">SGI - ESB - SGE - Seguimiento justificación - Buscar gastos justificados</a></td><td>GET</td><td>/seguimiento-justificacion</td><td><p>q+s (query + sort)</p><p>La query estará formada por:</p><ul><li>proyectoId</li><li>justificacionId</li><li><p>numRegistroProveedor</p></li><li>importeJustificado</li><li>fechaDevengo</li><li>fechaPago</li><li>id (se pasará un listado de id de gastos que se quieren buscar)</li></ul></td><td><p>Lista[<a href="https://confluence.um.es/confluence/pages/viewpage.action?pageId=140641365#SGIESBSGESeguimientojustificaci%C3%B3n-GastoJustificado" rel="nofollow">GastoJustificado</a>]</p></td><td><p>Listado con los gastos. Por cada gasto se devolverán los siguientes campos:</p><ul><li>Identificador del gasto</li><li>Identificador del proyecto SGE</li><li>Identificador justificación (del SGE)</li><li>Mapa de columnas de clave - valor (donde la clave será los id definidos en la llamada /seguimiento-justificacion/columnas y el valor será el valor de la columna. El valor será un String salvo en aquellas columnas que sean acumulables,se tenga que hacer sumas sobre ellas, donde será de tipo Numérico (<u>sin separador de miles y como separador decimal el punto</u>)).</li></ul><p>Los gastos devueltos estarán ordenados por identificador del periodo de justificación y por fecha devengo.</p><p>Ver el apartado &quot;<strong>Columnas Seguimiento Justificación</strong>&quot; para ver los id de la columnas que se deben de mostrar.</p></td></tr><tr><td class="title" data-content-id="597853506"><a href="/confluence/pages/viewpage.action?pageId=597853506">SGI - ESB - SGE - Seguimiento justificación - Buscar columnas gastos justificados</a></td><td>GET</td><td>/seguimiento-justificacion/columnas</td><td><p>q+s (query + sort)</p><p>La query estará formada por:</p><ul><li>proyectoId</li><li>justificacionId</li><li><p>numRegistroProveedor</p></li><li>importeJustificado</li><li>fechaDevengo</li><li>fechaPago</li><li>id (se pasará un listado de id de gastos que se quieren buscar)</li></ul></td><td>Lista[<a href="https://confluence.um.es/confluence/pages/viewpage.action?pageId=140641365#SGIESBSGESeguimientojustificaci%C3%B3n-Columna" rel="nofollow">Columna</a>]</td><td><p>Listado con las columnas que va a devolver la llamada /seguimiento-justificacion</p><p>Por cada columna se indica un id, nombre, si es una columna acumulable (se va a hacer una suma de ella en el SGI)</p><p>Ver el apartado &quot;<strong>Columnas Seguimiento Justificación</strong>&quot; para ver que columnas se deben de mostrar.</p></td></tr></tbody></table></div></p><h3 id="SGIESBSGESeguimientojustificación-ColumnasSeguimientoJustificación">Columnas Seguimiento Justificación</h3><p>Las columnas a devolver en la Universidad de Murcia serán:</p><div class="table-wrap"><table class="relative-table wrapped confluenceTable"><colgroup><col/><col/><col/></colgroup><tbody><tr><td class="highlight-grey confluenceTd" colspan="1" data-highlight-colour="grey"><strong title="">id</strong></td><td class="highlight-grey confluenceTd" colspan="1" data-highlight-colour="grey"><strong title="">nombre</strong></td><td class="highlight-grey confluenceTd" colspan="1" data-highlight-colour="grey"><strong title="">acumulable</strong></td></tr><tr><td class="confluenceTd">1</td><td class="confluenceTd">Nº de registro</td><td class="confluenceTd">false</td></tr><tr><td class="confluenceTd">2</td><td class="confluenceTd">Nº registro proveedor</td><td class="confluenceTd">false</td></tr><tr><td class="confluenceTd">3</td><td class="confluenceTd">Desc. factura/gasto</td><td class="confluenceTd">false</td></tr><tr><td colspan="1" class="confluenceTd">4</td><td colspan="1" class="confluenceTd">Código económico</td><td colspan="1" class="confluenceTd">false</td></tr><tr><td colspan="1" class="confluenceTd">5</td><td colspan="1" class="confluenceTd">Fecha devengo</td><td colspan="1" class="confluenceTd">false</td></tr><tr><td colspan="1" class="confluenceTd">6</td><td colspan="1" class="confluenceTd">Fecha pago</td><td colspan="1" class="confluenceTd">false</td></tr><tr><td colspan="1" class="confluenceTd">7</td><td colspan="1" class="confluenceTd"><p>Importe gasto</p></td><td colspan="1" class="confluenceTd">true</td></tr><tr><td colspan="1" class="confluenceTd">8</td><td colspan="1" class="confluenceTd"><p>Importe presentado just.</p></td><td colspan="1" class="confluenceTd">true</td></tr><tr><td colspan="1" class="confluenceTd">9</td><td colspan="1" class="confluenceTd">Fecha inicio contrato</td><td colspan="1" class="confluenceTd">false</td></tr><tr><td colspan="1" class="confluenceTd">10</td><td colspan="1" class="confluenceTd">Dedicación anual proy.</td><td colspan="1" class="confluenceTd">false</td></tr></tbody></table></div><p>Los gastos que no sean de personal, tendrán vacías las columnas &quot;Fecha inicio contrato&quot; y &quot;Dedicación anual proy.&quot;</p><h3 id="SGIESBSGESeguimientojustificación-CamposDetalleGastoJustificado">Campos Detalle Gasto Justificado<strong><br/></strong></h3><p>Los campos a devolver en la Universidad de Murcia serán:</p><ul><li>Nº de registro</li><li>Nº de documento de gasto</li><li>Anualidad</li><li>Clasificación SGE</li><li>Aplicación presupuestaria</li><li>Código económico</li><li>Proveedor</li><li>Nº de registro del proveedor</li><li>Descripción de la Fac/Gasto</li><li>Fecha devengo</li><li>Fecha pago</li><li>Fecha contabilización</li><li>Importe</li><li>Importe IVA</li><li>Importe presentado en justificación</li></ul><p>Si el gasto es personal también se enviarán los campos:</p><ul><li>Fecha inicio de contrato</li><li>Fecha fin de contrato</li><li>Categoría contrato</li><li>Jornada</li><li>Dedicación anual en timesheet para el proyecto SGI</li></ul>
                    </div>

                                                            <div class="pageSection group">
                        <div class="pageSectionHeader">
                            <h2 id="attachments" class="pageSectionTitle">Attachments:</h2>
                        </div>

                        <div class="greybox" align="left">
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/597852462/597876657.jpg">ESB SGE Logical Model Ejecución económica.jpg</a> (image/jpeg)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/597852462/597884723.jpg">ESB SGE Logical Model Seguimiento justificación.jpg</a> (image/jpeg)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/597852462/597884725.jpg">ESB SGE Logical Model Seguimiento justificación.jpg</a> (image/jpeg)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/597852462/597884728.jpg">ESB SGE Logical Model Seguimiento justificación.jpg</a> (image/jpeg)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/597852462/597876651.jpg">ESB SGE Logical Model Seguimiento justificación.jpg</a> (image/jpeg)
                                <br/>
                                                    </div>
                    </div>
                    
                                                      
                </div>             </div> 
            <div id="footer" role="contentinfo">
                <section class="footer-body">
                    <p>Document generated by Confluence on oct 09, 2024 11:37</p>
                    <div id="footer-logo"><a href="https://www.atlassian.com/">Atlassian</a></div>
                </section>
            </div>
        </div>     </body>
</html>
