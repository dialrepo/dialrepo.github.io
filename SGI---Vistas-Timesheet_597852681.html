<!DOCTYPE html>
<html>
    <head>
        <title>Hércules : SGI - Vistas Timesheet</title>
        <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">
    </head>

    <body class="theme-default aui-theme-default">
        <div id="page">
            <div id="main" class="aui-page-panel">
                <div id="main-header">
                    <div id="breadcrumb-section">
                        <ol id="breadcrumbs">
                            <li class="first">
                                <span><a href="index.html">Hércules</a></span>
                            </li>
                                                    <li>
                                <span><a href="597853529.html">Hércules</a></span>
                            </li>
                                                    <li>
                                <span><a href="597852519.html">SGI. Sistema de gestión de investigación</a></span>
                            </li>
                                                    <li>
                                <span><a href="597853279.html">Diseño</a></span>
                            </li>
                                                    <li>
                                <span><a href="Componentes_597853271.html">Componentes</a></span>
                            </li>
                                                    <li>
                                <span><a href="597852903.html">SGI - Interface integración</a></span>
                            </li>
                                                    <li>
                                <span><a href="SGI---Vistas_597852955.html">SGI - Vistas</a></span>
                            </li>
                                                </ol>
                    </div>
                    <h1 id="title-heading" class="pagetitle">
                                                <span id="title-text">
                            Hércules : SGI - Vistas Timesheet
                        </span>
                    </h1>
                </div>

                <div id="content" class="view">
                    <div class="page-metadata">
                        
        
    
    
        
    
        
        
            Created by <span class='author'> Usuario desconocido (lorena.alvarez)</span>, last modified on abr 22, 2022
                        </div>
                    <div id="main-content" class="wiki-content group">
                    <p><style type='text/css'>/*<![CDATA[*/
div.rbtoc1728466726018 {padding: 0px;}
div.rbtoc1728466726018 ul {margin-left: 0px;}
div.rbtoc1728466726018 li {margin-left: 0px;padding-left: 0px;}

/*]]>*/</style><div class='toc-macro rbtoc1728466726018'>
<ul class='toc-indentation'>
<li><a href='#SGIVistasTimesheet-TS_PROYECTO_JUSTIFICABLE'>TS_PROYECTO_JUSTIFICABLE</a></li>
<li><a href='#SGIVistasTimesheet-TS_PROYECTO_ENT_FIN'>TS_PROYECTO_ENT_FIN</a></li>
<li><a href='#SGIVistasTimesheet-TS_PROYECTO_ENT_CONV'>TS_PROYECTO_ENT_CONV</a></li>
<li><a href='#SGIVistasTimesheet-TS_PROYECTO_SGE'>TS_PROYECTO_SGE</a></li>
<li><a href='#SGIVistasTimesheet-TS_PROYECTO_EQUIPO'>TS_PROYECTO_EQUIPO</a></li>
<li><a href='#SGIVistasTimesheet-TS_PROYECTO_PAQUETE_TRABAJO'>TS_PROYECTO_PAQUETE_TRABAJO</a></li>
<li><a href='#SGIVistasTimesheet-TS_GRUPO_JUSTIFICABLE'>TS_GRUPO_JUSTIFICABLE</a></li>
<li><a href='#SGIVistasTimesheet-TS_GRUPO_EQUIPO'>TS_GRUPO_EQUIPO</a></li>
</ul>
</div></p><h1 id="SGIVistasTimesheet-TS_PROYECTO_JUSTIFICABLE">TS_PROYECTO_JUSTIFICABLE</h1><p>Listado de proyectos del SGI que cumplen las siguientes condiciones:</p><ul><li>activos: campo &quot;activo&quot; con valor &quot;true&quot;</li><li>estado que no sea BORRADOR: campo &quot;estado actual&quot; valor distinto a &quot;BORRADOR&quot;</li><li>fecha fin mayor al año 2013: si campo &quot;fecha fin definitiva&quot; distinto de null &quot;fecha fin definitiva&quot; &gt;= &quot;01/01/2013&quot;, sino &quot;fecha fin&quot; es null o &quot;fecha fin&quot; &gt;= &quot;01/01/2013&quot;</li><li>con identificador SGE: existe registro en la tabla &quot;Proyecto proyecto SGE&quot;</li></ul><div class="table-wrap"><table class="relative-table wrapped confluenceTable" style="width: 100.0%;"><colgroup><col style="width: 17.0403%;"/><col style="width: 10.6472%;"/><col style="width: 7.26315%;"/><col style="width: 17.5941%;"/><col style="width: 16.0342%;"/><col style="width: 6.77208%;"/><col style="width: 24.6624%;"/></colgroup><tbody><tr><td class="highlight-grey confluenceTd" colspan="1" data-highlight-colour="grey"><strong>Campo</strong></td><td class="highlight-grey confluenceTd" colspan="1" data-highlight-colour="grey"><strong>Tipo</strong></td><td class="highlight-grey confluenceTd" colspan="1" data-highlight-colour="grey"><strong>Obligatorio</strong></td><td class="highlight-grey confluenceTd" colspan="1" data-highlight-colour="grey"><strong>Campo del SGI</strong></td><td class="highlight-grey confluenceTd" colspan="1" data-highlight-colour="grey"><strong>Tabla del SGI</strong></td><td class="highlight-grey confluenceTd" colspan="1" data-highlight-colour="grey"><strong title="">Esquema del SGI</strong></td><td class="highlight-grey confluenceTd" colspan="1" data-highlight-colour="grey"><strong>Comentario</strong></td></tr><tr><td class="confluenceTd">ID</td><td class="confluenceTd">NUMBER (38,0)</td><td class="confluenceTd">SI</td><td colspan="1" class="confluenceTd">ID</td><td colspan="1" class="confluenceTd">PROYECTO</td><td colspan="1" class="confluenceTd">CSP_SGI</td><td colspan="1" class="confluenceTd">Identificador único del proyecto. Clave primaria.</td></tr><tr><td class="confluenceTd">CONVOCATORIA</td><td class="confluenceTd">VARCHAR(50)</td><td class="confluenceTd">NO</td><td colspan="1" class="confluenceTd">CODIGO</td><td colspan="1" class="confluenceTd">CONVOCATORIA</td><td colspan="1" class="confluenceTd">CSP_SGI</td><td colspan="1" class="confluenceTd">Campo &quot;identificación&quot; de la convocatoria asociada al proyecto en caso de tenerla.</td></tr><tr><td colspan="1" class="confluenceTd">REFERENCIA</td><td colspan="1" class="confluenceTd">VARCHAR(50)</td><td colspan="1" class="confluenceTd">NO</td><td colspan="1" class="confluenceTd">CODIGO_EXTERNO</td><td colspan="1" class="confluenceTd">PROYECTO</td><td colspan="1" class="confluenceTd">CSP_SGI</td><td colspan="1" class="confluenceTd">Campo &quot;referencia en entidad convocante&quot; del proyecto.</td></tr><tr><td colspan="1" class="confluenceTd">TITULO</td><td colspan="1" class="confluenceTd">VARCHAR(250)</td><td colspan="1" class="confluenceTd">SI</td><td colspan="1" class="confluenceTd">TITULO</td><td colspan="1" class="confluenceTd">PROYECTO</td><td colspan="1" class="confluenceTd">CSP_SGI</td><td colspan="1" class="confluenceTd">Campo &quot;título&quot; del proyecto.</td></tr><tr><td colspan="1" class="confluenceTd">ACRONIMO</td><td colspan="1" class="confluenceTd"><p>VARCHAR2(50)</p></td><td colspan="1" class="confluenceTd">NO</td><td colspan="1" class="confluenceTd">ACRONIMO</td><td colspan="1" class="confluenceTd">PROYECTO</td><td colspan="1" class="confluenceTd">CSP_SGI</td><td colspan="1" class="confluenceTd">Campo &quot;acrónimo&quot; del proyecto.</td></tr><tr><td colspan="1" class="confluenceTd">FECHA_INICIO</td><td colspan="1" class="confluenceTd">TIMESTAMP</td><td colspan="1" class="confluenceTd">SI</td><td colspan="1" class="confluenceTd">FECHA_INICIO</td><td colspan="1" class="confluenceTd">PROYECTO</td><td colspan="1" class="confluenceTd">CSP_SGI</td><td colspan="1" class="confluenceTd">Campo &quot;fecha inicio&quot; del proyecto.</td></tr><tr><td colspan="1" class="confluenceTd">FECHA_FIN</td><td colspan="1" class="confluenceTd">TIMESTAMP</td><td colspan="1" class="confluenceTd">SI</td><td colspan="1" class="confluenceTd">FECHA_FIN O FECHA_FIN_DEFINITIVA</td><td colspan="1" class="confluenceTd">PROYECTO</td><td colspan="1" class="confluenceTd">CSP_SGI</td><td colspan="1" class="confluenceTd">Si esta informada &quot;fecha fin definitiva&quot; se enviará &quot;fecha fin definitiva&quot;, sino la &quot;fecha de fin&quot; del proyecto.</td></tr><tr><td colspan="1" class="confluenceTd">ESTADO</td><td colspan="1" class="confluenceTd">VARCHAR2(50)</td><td colspan="1" class="confluenceTd">SI</td><td colspan="1" class="confluenceTd">NOMBRE</td><td colspan="1" class="confluenceTd">ESTADO_PROYECTO</td><td colspan="1" class="confluenceTd">CSP_SGI</td><td colspan="1" class="confluenceTd"><p>Estado actual del proyecto. Se sacará el campo &quot;estado&quot; de la tabla ESTADO_PROYECTO del estado actual del proyecto.</p><p>Posibles valores:</p><ul><li>CONCEDIDO</li><li>RENUNCIADO</li><li>RESCINDIDO</li></ul></td></tr><tr><td colspan="1" class="confluenceTd"><p>MODELO_EJECUCION_ID</p></td><td colspan="1" class="confluenceTd">NUMBER (38,0)</td><td colspan="1" class="confluenceTd">SI</td><td colspan="1" class="confluenceTd">MODELO_EJECUCION_ID</td><td colspan="1" class="confluenceTd">PROYECTO</td><td colspan="1" class="confluenceTd">CSP_SGI</td><td colspan="1" class="confluenceTd">Identificador único del modelo de ejecución asociado al proyecto. Los modelos de ejecución son configurables en el SGI.</td></tr><tr><td colspan="1" class="confluenceTd">MODELO_EJCUCION_NOMBRE</td><td colspan="1" class="confluenceTd">VARCHAR2(50)</td><td colspan="1" class="confluenceTd">SI</td><td colspan="1" class="confluenceTd">NOMBRE</td><td colspan="1" class="confluenceTd">MODELO_EJECUCION</td><td colspan="1" class="confluenceTd">CSP_SGI</td><td colspan="1" class="confluenceTd">Nombre del modelo de ejecución asociado al proyecto.</td></tr><tr><td colspan="1" class="confluenceTd">TIPO_FINALIDAD_ID</td><td colspan="1" class="confluenceTd">NUMBER (38,0)</td><td colspan="1" class="confluenceTd">NO</td><td colspan="1" class="confluenceTd">TIPO_FINALIDAD_ID</td><td colspan="1" class="confluenceTd">PROYECTO</td><td colspan="1" class="confluenceTd">CSP_SGI</td><td colspan="1" class="confluenceTd">Identificador único del tipo de finalidad asociado al proyecto. Los tipos de finalidad son configurables en el SGI.</td></tr><tr><td colspan="1" class="confluenceTd">TIPO_FINALIDAD_NOMBRE</td><td colspan="1" class="confluenceTd">VARCHAR2(100)</td><td colspan="1" class="confluenceTd">NO</td><td colspan="1" class="confluenceTd">NOMBRE</td><td colspan="1" class="confluenceTd">TIPO_FINALIDAD</td><td colspan="1" class="confluenceTd">CSP_SGI</td><td colspan="1" class="confluenceTd">Nombre del tipo de finalidad asociado al proyecto.</td></tr><tr><td colspan="1" class="confluenceTd">AMBITO_ID</td><td colspan="1" class="confluenceTd">NUMBER (38,0)</td><td colspan="1" class="confluenceTd">NO</td><td colspan="1" class="confluenceTd">TIPO_AMBITO_GEOGRAFICO_ID</td><td colspan="1" class="confluenceTd">PROYECTO</td><td colspan="1" class="confluenceTd">CSP_SGI</td><td colspan="1" class="confluenceTd">Identificador único del tipo de ámbito geográfico asociado al proyecto. Los tipos  de ámbitos geográficos son configurables en el SGI.</td></tr><tr><td colspan="1" class="confluenceTd">AMBITO_NOMBRE</td><td colspan="1" class="confluenceTd">VARCHAR2(50)</td><td colspan="1" class="confluenceTd">NO</td><td colspan="1" class="confluenceTd">NOMBRE</td><td colspan="1" class="confluenceTd">TIPO_AMBITO_GEOGRAFICO</td><td colspan="1" class="confluenceTd">CSP_SGI</td><td colspan="1" class="confluenceTd">Nombre del tipo de ámbito geográfico asociado al proyecto.</td></tr><tr><td colspan="1" class="confluenceTd"><p>FECHA_CONCESION</p></td><td colspan="1" class="confluenceTd">TIMESTAMP</td><td colspan="1" class="confluenceTd">NO</td><td colspan="1" class="confluenceTd">FECHA_ESTADO</td><td colspan="1" class="confluenceTd">ESTADO_SOLICITUD</td><td colspan="1" class="confluenceTd">CSP_SGI</td><td colspan="1" class="confluenceTd"><p>Fecha en la que la solicitud pase a estado CONCEDIDA. En el SGI se considera estado CONCEDIDA (cuando sale el botón de &quot;Crear proyecto&quot; a partir de la Solicitud, en uno de los siguientes estados &quot;Concedida provisional&quot;, &quot;Concedida provisional alegada&quot;, &quot;Concedida provisional no alegada&quot; o &quot;Concedida&quot;</p><p>En el caso de que el proyecto tenga relacionada una solicitud, se irá a la tabla del histórico de estados y se buscará la fecha de estado mas antigua de los estados: </p><ul><li><p align="left">CONCEDIDA</p></li><li><p align="left">CONCEDIDA_PROVISIONAL</p></li><li><p align="left">CONCEDIDA_PROVISIONAL_ALEGADA</p></li><li><p align="left">CONCEDIDA_PROVISIONAL_NO_ALEGADA</p></li></ul></td></tr><tr><td colspan="1" class="confluenceTd"><p>IMPORTE_SOLICITADO</p></td><td colspan="1" class="confluenceTd">NUMBER (19,2)</td><td colspan="1" class="confluenceTd">NO</td><td colspan="1" class="confluenceTd"><br/></td><td colspan="1" class="confluenceTd"><p><br/></p><p><br/></p><p><br/></p><p><br/></p><p><br/></p></td><td colspan="1" class="confluenceTd">CSP_SGI</td><td colspan="1" class="confluenceTd">Si el campo &quot;importe presupuesto&quot; o &quot;importe presupuesto costes indirectos&quot; del proyecto están informados, será la suma de ellos, en caso de que no estén informados será la suma del campo &quot;importe presupuesto&quot; de todos los gastos del proyecto (tabla ANUALIDAD_GASTO).</td></tr><tr><td colspan="1" class="confluenceTd"><p>IMPORTE_CONCEDIDO</p></td><td colspan="1" class="confluenceTd">NUMBER (19,2)</td><td colspan="1" class="confluenceTd">NO</td><td colspan="1" class="confluenceTd"><br/></td><td colspan="1" class="confluenceTd"><br/></td><td colspan="1" class="confluenceTd">CSP_SGI</td><td colspan="1" class="confluenceTd">Si el campo &quot;importe concedido&quot; o &quot;importe concedido costes indirectos&quot; del proyecto están informados, será la suma de ellos, en caso de que no estén informados será la suma del campo &quot;importe concedido&quot; de todos los gastos del proyecto (tabla ANUALIDAD_GASTO).</td></tr><tr><td colspan="1" class="confluenceTd"><p>COSTES_INDIRECTOS</p></td><td colspan="1" class="confluenceTd">NUMBER (19,2)</td><td colspan="1" class="confluenceTd">NO</td><td colspan="1" class="confluenceTd"><br/></td><td colspan="1" class="confluenceTd"><br/></td><td colspan="1" class="confluenceTd">CSP_SGI</td><td colspan="1" class="confluenceTd"><p>Si el campo &quot;importe concedido&quot; o &quot;importe concedido costes indirectos&quot; del proyecto están informados, será la suma de ellos, en caso de que no estén informados será la suma del campo &quot;importe concedido&quot; de todos los gastos del proyecto (tabla ANUALIDAD_GASTO).</p><p>Será el campo &quot;importe concedido&quot; esta informado, en caso contrario será la suma del campo &quot;importe concedido&quot; de todos los gastos del proyecto que se correspondan con conceptos de gastos configurados como costes indirectos (tabla ANUALIDAD_GASTO del proyecto cuyos CONCEPTO_GASTO tenga el flag de COSTES_INDIRECTOS a true).</p></td></tr><tr><td colspan="1" class="confluenceTd"><p>OBSERVACIONES</p></td><td colspan="1" class="confluenceTd">VARCHAR2(2000)</td><td colspan="1" class="confluenceTd">NO</td><td colspan="1" class="confluenceTd">OBSERVACIONES</td><td colspan="1" class="confluenceTd">PROYECTO</td><td colspan="1" class="confluenceTd">CSP_SGI</td><td colspan="1" class="confluenceTd">Campo &quot;observaciones&quot; del proyecto.</td></tr><tr><td colspan="1" class="confluenceTd"><p>UNIDAD_GESTION_REF</p></td><td colspan="1" class="confluenceTd">VARCHAR2(50)</td><td colspan="1" class="confluenceTd">SI</td><td colspan="1" class="confluenceTd">UNIDAD_GESTION_REF</td><td colspan="1" class="confluenceTd">PROYECTO</td><td colspan="1" class="confluenceTd">CSP_SGI</td><td colspan="1" class="confluenceTd"><p>Identificador único de la unidad de gestión asociada al proyecto. Las unidades de gestión son configurables en el SGI por implantación.</p></td></tr><tr><td colspan="1" class="confluenceTd">UNIDAD_GESTION_NOMBRE</td><td colspan="1" class="confluenceTd">VARCHAR2(50)</td><td colspan="1" class="confluenceTd">SI</td><td colspan="1" class="confluenceTd">NOMBRE</td><td colspan="1" class="confluenceTd">UNIDAD</td><td colspan="1" class="confluenceTd">USR_SGI</td><td colspan="1" class="confluenceTd">Nombre de la unidad de gestión asociada al proyecto.</td></tr></tbody></table></div><div class="code panel pdl" style="border-width: 1px;"><div class="codeHeader panelHeader pdl" style="border-bottom-width: 1px;"><b>TS_PROYECTO_JUSTIFICABLE</b></div><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">SELECT p.ID,c.CODIGO AS CONVOCATORIA,p.CODIGO_EXTERNO AS REFERENCIA,p.TITULO,p.ACRONIMO,p.FECHA_INICIO
, CASE WHEN p.FECHA_FIN_DEFINITIVA IS NOT NULL THEN p.FECHA_FIN_DEFINITIVA ELSE p.FECHA_FIN END FECHA_FIN
,ep.ESTADO , p.MODELO_EJECUCION_ID ,me.NOMBRE AS MODELO_EJECUCION_NOMBRE, p.TIPO_FINALIDAD_ID , tf.NOMBRE AS TIPO_FINALIDAD_NOMBRE
, p.TIPO_AMBITO_GEOGRAFICO_ID AS AMBITO_ID ,tag.NOMBRE AS AMBITO_NOMBRE
, (SELECT MIN(es.FECHA_ESTADO) FROM CSP_SGI.ESTADO_SOLICITUD es WHERE es.SOLICITUD_ID = p.SOLICITUD_ID AND (es.ESTADO = &#39;CONCEDIDA&#39; OR es.ESTADO = &#39;CONCEDIDA_PROVISIONAL&#39; OR es.ESTADO = &#39;CONCEDIDA_PROVISIONAL_ALEGADA&#39; OR es.ESTADO = &#39;CONCEDIDA_PROVISIONAL_NO_ALEGADA&#39;)) AS FECHA_CONCESION
, CASE WHEN p.IMPORTE_PRESUPUESTO IS NOT NULL OR p.IMPORTE_PRESUPUESTO_COSTES_INDIRECTOS IS NOT NULL THEN p.IMPORTE_PRESUPUESTO + p.IMPORTE_PRESUPUESTO_COSTES_INDIRECTOS
ELSE (SELECT SUM(ag.IMPORTE_PRESUPUESTO) FROM CSP_SGI.ANUALIDAD_GASTO ag INNER JOIN CSP_SGI.PROYECTO_ANUALIDAD pa ON ag.PROYECTO_ANUALIDAD_ID = pa.ID WHERE pa.PROYECTO_ID = p.ID) END IMPORTE_SOLICITADO
, CASE WHEN p.IMPORTE_CONCEDIDO IS NOT NULL OR p.IMPORTE_CONCEDIDO_COSTES_INDIRECTOS IS NOT NULL THEN p.IMPORTE_CONCEDIDO + p.IMPORTE_CONCEDIDO_COSTES_INDIRECTOS
ELSE (SELECT SUM(ag.IMPORTE_CONCEDIDO) FROM CSP_SGI.ANUALIDAD_GASTO ag INNER JOIN CSP_SGI.PROYECTO_ANUALIDAD pa ON ag.PROYECTO_ANUALIDAD_ID = pa.ID WHERE pa.PROYECTO_ID = p.ID) END IMPORTE_CONCEDIDO
, CASE WHEN p.IMPORTE_CONCEDIDO_COSTES_INDIRECTOS IS NOT NULL THEN p.IMPORTE_CONCEDIDO_COSTES_INDIRECTOS
ELSE (SELECT SUM(ag.IMPORTE_CONCEDIDO) FROM CSP_SGI.ANUALIDAD_GASTO ag INNER JOIN CSP_SGI.PROYECTO_ANUALIDAD pa ON ag.PROYECTO_ANUALIDAD_ID = pa.ID INNER JOIN CSP_SGI.CONCEPTO_GASTO cg ON ag.CONCEPTO_GASTO_ID = cg.ID WHERE pa.PROYECTO_ID = p.ID AND cg.COSTES_INDIRECTOS = 1) END COSTES_INDIRECTOS
, p.OBSERVACIONES , p.UNIDAD_GESTION_REF ,u.NOMBRE AS UNIDAD_GESTION_NOMBRE
FROM CSP_SGI.PROYECTO p
INNER JOIN CSP_SGI.ESTADO_PROYECTO ep ON p.ESTADO_PROYECTO_ID = ep.ID
INNER JOIN CSP_SGI.MODELO_EJECUCION me ON p.MODELO_EJECUCION_ID = me.ID
LEFT JOIN CSP_SGI.TIPO_FINALIDAD tf ON p.TIPO_FINALIDAD_ID = tf.ID 
LEFT JOIN CSP_SGI.TIPO_AMBITO_GEOGRAFICO tag ON p.TIPO_AMBITO_GEOGRAFICO_ID = tag.ID
LEFT JOIN CSP_SGI.CONVOCATORIA c ON p.CONVOCATORIA_ID = c.ID 
LEFT JOIN USR_SGI.UNIDAD u ON p.UNIDAD_GESTION_REF = u.ID
WHERE p.ACTIVO = 1 AND ep.ESTADO &lt;&gt; &#39;BORRADOR&#39;
AND ((p.FECHA_FIN_DEFINITIVA IS NOT NULL AND p.FECHA_FIN_DEFINITIVA &gt;= TO_DATE(&#39;01/01/2013&#39;,&#39;dd/mm/yyyy&#39;))
OR (p.FECHA_FIN_DEFINITIVA IS NULL AND p.FECHA_FIN &gt;= TO_DATE(&#39;01/01/2013&#39;,&#39;dd/mm/yyyy&#39;)))
AND p.id IN (SELECT pps.PROYECTO_ID FROM CSP_SGI.PROYECTO_PROYECTO_SGE pps)</pre>
</div></div><p><br/></p><h1 id="SGIVistasTimesheet-TS_PROYECTO_ENT_FIN">TS_PROYECTO_ENT_FIN</h1><p>Listado de entidades financiadores de los proyectos del SGI que cumplen las siguientes condiciones:</p><ul><li>activos: campo &quot;activo&quot; con valor &quot;true&quot;</li><li>estado que no sea BORRADOR: campo &quot;estado actual&quot; valor distinto a &quot;BORRADOR&quot;</li><li>fecha fin mayor al año 2013: si campo &quot;fecha fin definitiva&quot; distinto de null &quot;fecha fin definitiva&quot; &gt;= &quot;01/01/2013&quot;, sino &quot;fecha fin&quot; es null o &quot;fecha fin&quot; &gt;= &quot;01/01/2013&quot;</li><li>con identificador SGE: existe registro en la tabla &quot;Proyecto proyecto SGE&quot;</li></ul><p>Por cada proyecto se mostrarán los siguientes campos de una entidad financiadora:</p><ul><li>identificador de la entidad (el SGI no almacena información de la entidad, únicamente su identificador)</li><li>fuente de financiación</li><li>tipo de financiación</li></ul><div class="table-wrap"><table class="relative-table wrapped confluenceTable" style="width: 100.0%;"><colgroup><col style="width: 18.9752%;"/><col style="width: 9.55298%;"/><col style="width: 7.2458%;"/><col style="width: 6.51455%;"/><col style="width: 20.826%;"/><col style="width: 7.63277%;"/><col style="width: 29.2661%;"/></colgroup><tbody><tr><td class="highlight-grey confluenceTd" colspan="1" data-highlight-colour="grey"><strong title="">Campo</strong></td><td class="highlight-grey confluenceTd" colspan="1" data-highlight-colour="grey"><strong title="">Tipo</strong></td><td class="highlight-grey confluenceTd" colspan="1" data-highlight-colour="grey"><strong title="">Obligatorio</strong></td><td class="highlight-grey confluenceTd" colspan="1" data-highlight-colour="grey"><strong title="">Campo del SGI</strong></td><td class="highlight-grey confluenceTd" colspan="1" data-highlight-colour="grey"><strong title="">Tabla del SGI</strong></td><td class="highlight-grey confluenceTd" colspan="1" data-highlight-colour="grey"><strong title="">Esquema del SGI</strong></td><td class="highlight-grey confluenceTd" colspan="1" data-highlight-colour="grey"><strong title="">Comentario</strong></td></tr><tr><td class="confluenceTd">ID</td><td colspan="1" class="confluenceTd">NUMBER (38,0)</td><td colspan="1" class="confluenceTd">SI</td><td colspan="1" class="confluenceTd">ID</td><td colspan="1" class="confluenceTd">PROYECTO_ENTIDAD_FINANCIADORA</td><td colspan="1" class="confluenceTd">CSP_SGI</td><td colspan="1" class="confluenceTd">Identificador único del registro. Clave primaria.</td></tr><tr><td colspan="1" class="confluenceTd">PROYECTO_ID</td><td colspan="1" class="confluenceTd">NUMBER (38,0)</td><td colspan="1" class="confluenceTd">SI</td><td colspan="1" class="confluenceTd">PROYECTO_ID</td><td colspan="1" class="confluenceTd">PROYECTO_ENTIDAD_FINANCIADORA</td><td colspan="1" class="confluenceTd">CSP_SGI</td><td colspan="1" class="confluenceTd">Identificador del proyecto.</td></tr><tr><td colspan="1" class="confluenceTd">ENTIDAD_REF</td><td colspan="1" class="confluenceTd">VARCHAR2(50)</td><td colspan="1" class="confluenceTd">SI</td><td colspan="1" class="confluenceTd">ENTIDAD_REF</td><td colspan="1" class="confluenceTd">PROYECTO_ENTIDAD_FINANCIADORA</td><td colspan="1" class="confluenceTd">CSP_SGI</td><td colspan="1" class="confluenceTd">Identificador de la entidad en el sistema de gestión de empresas de la Universidad.</td></tr><tr><td class="confluenceTd">FUENTE_FINANCIACION_ID</td><td colspan="1" class="confluenceTd">NUMBER (38,0)</td><td colspan="1" class="confluenceTd">NO</td><td colspan="1" class="confluenceTd">FUENTE_FINANCIACION_ID</td><td colspan="1" class="confluenceTd">PROYECTO_ENTIDAD_FINANCIADORA</td><td colspan="1" class="confluenceTd">CSP_SGI</td><td colspan="1" class="confluenceTd"><p>Identificador único de la fuente de financiación asociada a la entidad financiadora. Las fuentes de financiación son configurables en el SGI.</p></td></tr><tr><td colspan="1" class="confluenceTd">FUENTE_FINANCIACION_NOMBRE</td><td colspan="1" class="confluenceTd">VARCHAR2(50)</td><td colspan="1" class="confluenceTd">NO</td><td colspan="1" class="confluenceTd">NOMBRE</td><td colspan="1" class="confluenceTd">FUENTE_FINANCIACION</td><td colspan="1" class="confluenceTd">CSP_SGI</td><td colspan="1" class="confluenceTd">Nombre de la fuente de financiación asociada a la entidad financiadora.</td></tr><tr><td colspan="1" class="confluenceTd">TIPO_FINANCIACION_ID</td><td colspan="1" class="confluenceTd">NUMBER (38,0)</td><td colspan="1" class="confluenceTd">NO</td><td colspan="1" class="confluenceTd">TIPO_FINANCIACION_ID</td><td colspan="1" class="confluenceTd">PROYECTO_ENTIDAD_FINANCIADORA</td><td colspan="1" class="confluenceTd">CSP_SGI</td><td colspan="1" class="confluenceTd">Identificador único del tipo de financiación asociada a la entidad financiadora. Los tipos de financiación son configurables en el SGI.</td></tr><tr><td colspan="1" class="confluenceTd">TIPO_FINANCIACION_NOMBRE</td><td colspan="1" class="confluenceTd">VARCHAR2(50)</td><td colspan="1" class="confluenceTd">NO</td><td colspan="1" class="confluenceTd">NOMBRE</td><td colspan="1" class="confluenceTd">TIPO_FINANCIACION</td><td colspan="1" class="confluenceTd">CSP_SGI</td><td colspan="1" class="confluenceTd">Nombre del tipo de financiación asociado a la entidad financiadora.</td></tr><tr><td colspan="1" class="confluenceTd">AJENA</td><td colspan="1" class="confluenceTd">NUMBER (1,0)</td><td colspan="1" class="confluenceTd">SI</td><td colspan="1" class="confluenceTd">AJENA</td><td colspan="1" class="confluenceTd">PROYECTO_ENTIDAD_FINANCIADORA</td><td colspan="1" class="confluenceTd">CSP_SGI</td><td colspan="1" class="confluenceTd">Indica si la entidad financiadora es ajena o no a la convocatoria</td></tr></tbody></table></div><div class="code panel pdl" style="border-width: 1px;"><div class="codeHeader panelHeader pdl" style="border-bottom-width: 1px;"><b>TS_PROYECTO_ENT_FIN</b></div><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">SELECT pef.ID, pef.PROYECTO_ID, pef.ENTIDAD_REF, pef.FUENTE_FINANCIACION_ID, ff.NOMBRE AS FUENTE_FINANCIACION_NOMBRE, 
pef.TIPO_FINANCIACION_ID, tf.NOMBRE AS TIPO_FINANCIACION_NOMBRE, pef.AJENA
FROM CSP_SGI.PROYECTO_ENTIDAD_FINANCIADORA pef 
INNER JOIN CSP_SGI.PROYECTO p ON pef.PROYECTO_ID = p.ID 
INNER JOIN CSP_SGI.ESTADO_PROYECTO ep ON p.ESTADO_PROYECTO_ID = ep.ID
INNER JOIN CSP_SGI.FUENTE_FINANCIACION ff ON pef.FUENTE_FINANCIACION_ID = ff.ID
INNER JOIN CSP_SGI.TIPO_FINANCIACION tf ON pef.TIPO_FINANCIACION_ID = tf.ID
WHERE p.ACTIVO = 1 AND ep.ESTADO &lt;&gt; &#39;BORRADOR&#39;
AND ((p.FECHA_FIN_DEFINITIVA IS NOT NULL AND p.FECHA_FIN_DEFINITIVA &gt;= TO_DATE(&#39;01/01/2013&#39;,&#39;dd/mm/yyyy&#39;))
OR (p.FECHA_FIN_DEFINITIVA IS NULL AND p.FECHA_FIN &gt;= TO_DATE(&#39;01/01/2013&#39;,&#39;dd/mm/yyyy&#39;)))
AND p.id IN (SELECT pps.PROYECTO_ID FROM CSP_SGI.PROYECTO_PROYECTO_SGE pps)</pre>
</div></div><h1 id="SGIVistasTimesheet-TS_PROYECTO_ENT_CONV">TS_PROYECTO_ENT_CONV</h1><p>Listado de entidades convocantes de los proyectos del SGI que cumplen las siguientes condiciones:</p><ul><li>activos</li><li>estado que no sea BORRADOR</li><li>fecha fin mayor al año 2013</li><li>con identificador SGE</li></ul><p>Por cada proyecto se mostrarán los siguientes campos de una entidad convocante:</p><ul><li>identificador de la entidad (el SGI no almacena información de la entidad, únicamente su identificador)</li><li>programa de la convocatoria: puede ser el plan de investigación o el programa o el subprograma de la convocatoria asociada al proyecto</li><li>programa del proyecto: puede ser plan de investigación o el programa o el subprograma o la modalidad seleccionada en el proyecto</li></ul><div class="table-wrap"><table class="relative-table wrapped confluenceTable" style="width: 100.0%;"><colgroup><col style="width: 21.6613%;"/><col style="width: 9.84921%;"/><col style="width: 7.28983%;"/><col style="width: 18.1265%;"/><col style="width: 20.1855%;"/><col style="width: 6.56659%;"/><col style="width: 16.3344%;"/></colgroup><tbody><tr><th class="confluenceTh">Campo</th><th colspan="1" class="confluenceTh"><strong title="">Tipo</strong></th><th colspan="1" class="confluenceTh"><strong title="">Obligatorio</strong></th><th colspan="1" class="confluenceTh"><strong title="">Campo del SGI</strong></th><th colspan="1" class="confluenceTh"><strong title="">Tabla del SGI</strong></th><th colspan="1" class="confluenceTh"><strong title="">Esquema del SGI</strong></th><th colspan="1" class="confluenceTh">Comentario</th></tr><tr><td class="confluenceTd">ID</td><td colspan="1" class="confluenceTd">NUMBER (38,0)</td><td colspan="1" class="confluenceTd">SI</td><td colspan="1" class="confluenceTd">ID</td><td colspan="1" class="confluenceTd">PROYECTO_ENTIDAD_CONVOCANTE</td><td colspan="1" class="confluenceTd">CSP_SGI</td><td colspan="1" class="confluenceTd">Identificador único del registro. Clave primaria.</td></tr><tr><td colspan="1" class="confluenceTd">PROYECTO_ID</td><td colspan="1" class="confluenceTd">NUMBER (38,0)</td><td colspan="1" class="confluenceTd">SI</td><td colspan="1" class="confluenceTd">PROYECTO_ID</td><td colspan="1" class="confluenceTd">PROYECTO_ENTIDAD_CONVOCANTE</td><td colspan="1" class="confluenceTd">CSP_SGI</td><td colspan="1" class="confluenceTd">Identificador del proyecto.</td></tr><tr><td colspan="1" class="confluenceTd">ENTIDAD_REF</td><td colspan="1" class="confluenceTd">VARCHAR2(50)</td><td colspan="1" class="confluenceTd">SI</td><td colspan="1" class="confluenceTd">ENTIDAD_REF</td><td colspan="1" class="confluenceTd">PROYECTO_ENTIDAD_CONVOCANTE</td><td colspan="1" class="confluenceTd">CSP_SGI</td><td colspan="1" class="confluenceTd">Identificador de la entidad en el sistema de gestión de empresas de la Universidad.</td></tr><tr><td class="confluenceTd">PROGRAMA_CONVOCATORIA_ID</td><td colspan="1" class="confluenceTd">NUMBER (38,0)</td><td colspan="1" class="confluenceTd">NO</td><td colspan="1" class="confluenceTd">PROGRAMA_CONVOCATORIA_ID</td><td colspan="1" class="confluenceTd">PROYECTO_ENTIDAD_CONVOCANTE</td><td colspan="1" class="confluenceTd">CSP_SGI</td><td colspan="1" class="confluenceTd"><p>Identificador único del plan o del programa o del subprograma definido en la convocatoria asociada al proyecto. Los planes de investigación junto con sus programa, subprograma y modalidades son configurables en el SGI en una estructura de árbol.</p></td></tr><tr><td colspan="1" class="confluenceTd">PROGRAMA_CONVOCATORIA_NOMBRE</td><td colspan="1" class="confluenceTd">VARCHAR2(50)</td><td colspan="1" class="confluenceTd">NO</td><td colspan="1" class="confluenceTd">NOMBRE</td><td colspan="1" class="confluenceTd">PROGRAMA</td><td colspan="1" class="confluenceTd">CSP_SGI</td><td colspan="1" class="confluenceTd">Nombre del plan o del programa o del subprograma definido en la convocatoria asociada al proyecto.</td></tr><tr><td colspan="1" class="confluenceTd">PROGRAMA_ID</td><td colspan="1" class="confluenceTd">NUMBER (38,0)</td><td colspan="1" class="confluenceTd">NO</td><td colspan="1" class="confluenceTd">PROGRAMA_ID</td><td colspan="1" class="confluenceTd">PROYECTO_ENTIDAD_CONVOCANTE</td><td colspan="1" class="confluenceTd">CSP_SGI</td><td colspan="1" class="confluenceTd"><p>Identificador único del plan o del programa o del subprograma o de la modalidad seleccionada en el proyecto. Los planes de investigación junto con sus programa, subprograma y modalidades son configurables en el SGI en una estructura de árbol.</p></td></tr><tr><td colspan="1" class="confluenceTd">PROGRAMA_NOMBRE</td><td colspan="1" class="confluenceTd">VARCHAR2(50)</td><td colspan="1" class="confluenceTd">NO</td><td colspan="1" class="confluenceTd">NOMBRE</td><td colspan="1" class="confluenceTd">PROGRAMA</td><td colspan="1" class="confluenceTd">CSP_SGI</td><td colspan="1" class="confluenceTd">Nombre del plan o del programa o del subprograma o de la modalidad seleccionada en el proyecto.</td></tr></tbody></table></div><div class="code panel pdl" style="border-width: 1px;"><div class="codeHeader panelHeader pdl" style="border-bottom-width: 1px;"><b>TS_PROYECTO_ENT_CONV</b></div><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">SELECT pec.ID, pec.PROYECTO_ID, pec.ENTIDAD_REF, pec.PROGRAMA_CONVOCATORIA_ID, 
(SELECT p2.NOMBRE FROM CSP_SGI.PROGRAMA p2 WHERE p2.ID = pec.PROGRAMA_CONVOCATORIA_ID) AS PROGRAMA_CONVOCATORIA_NOMBRE
,pec.PROGRAMA_ID, (SELECT p3.NOMBRE FROM CSP_SGI.PROGRAMA p3 WHERE p3.ID = pec.PROGRAMA_ID) AS PROGRAMA_NOMBRE
FROM CSP_SGI.PROYECTO_ENTIDAD_CONVOCANTE pec 
INNER JOIN CSP_SGI.PROYECTO p ON pec.PROYECTO_ID = p.ID 
INNER JOIN CSP_SGI.ESTADO_PROYECTO ep ON p.ESTADO_PROYECTO_ID = ep.ID
WHERE p.ACTIVO = 1 AND ep.ESTADO &lt;&gt; &#39;BORRADOR&#39;
AND ((p.FECHA_FIN_DEFINITIVA IS NOT NULL AND p.FECHA_FIN_DEFINITIVA &gt;= TO_DATE(&#39;01/01/2013&#39;,&#39;dd/mm/yyyy&#39;))
OR (p.FECHA_FIN_DEFINITIVA IS NULL AND p.FECHA_FIN &gt;= TO_DATE(&#39;01/01/2013&#39;,&#39;dd/mm/yyyy&#39;)))
AND p.id IN (SELECT pps.PROYECTO_ID FROM CSP_SGI.PROYECTO_PROYECTO_SGE pps)</pre>
</div></div><h1 id="SGIVistasTimesheet-TS_PROYECTO_SGE">TS_PROYECTO_SGE</h1><p>Listado de identificadores SGE (Sistema gestión económico) de los proyectos del SGI que cumplen las siguientes condiciones:</p><ul><li>activos</li><li>estado que no sea BORRADOR</li><li>fecha fin mayor al año 2013</li><li>con identificador SGE</li></ul><p>Por cada proyecto se mostrará el identificador SGE (un proyecto SGI puede tener más de uno identificador SGE asociado, aunque la normal general es que sea único)</p><div class="table-wrap"><table class="relative-table wrapped confluenceTable" style="width: 100.0%;"><colgroup><col style="width: 12.2858%;"/><col style="width: 9.94129%;"/><col style="width: 7.28983%;"/><col style="width: 9.03389%;"/><col style="width: 20.1841%;"/><col style="width: 8.74033%;"/><col style="width: 32.538%;"/></colgroup><tbody><tr><th class="confluenceTh">Campo</th><th colspan="1" class="confluenceTh"><strong title="">Tipo</strong></th><th colspan="1" class="confluenceTh"><strong title="">Obligatorio</strong></th><th colspan="1" class="confluenceTh"><strong title="">Campo del SGI</strong></th><th colspan="1" class="confluenceTh"><strong title="">Tabla del SGI</strong></th><th colspan="1" class="confluenceTh"><strong title="">Esquema del SGI</strong></th><th colspan="1" class="confluenceTh">Comentario</th></tr><tr><td class="confluenceTd">ID</td><td colspan="1" class="confluenceTd">NUMBER (38,0)</td><td colspan="1" class="confluenceTd">SI</td><td colspan="1" class="confluenceTd">ID</td><td colspan="1" class="confluenceTd">PROYECTO_PROYECTO_SGE</td><td colspan="1" class="confluenceTd">CSP_SGI</td><td colspan="1" class="confluenceTd">Identificador único del registro. Clave primaria.</td></tr><tr><td colspan="1" class="confluenceTd">PROYECTO_ID</td><td colspan="1" class="confluenceTd">NUMBER (38,0)</td><td colspan="1" class="confluenceTd">SI</td><td colspan="1" class="confluenceTd">PROYECTO_ID</td><td colspan="1" class="confluenceTd">PROYECTO_PROYECTO_SGE</td><td colspan="1" class="confluenceTd">CSP_SGI</td><td colspan="1" class="confluenceTd">Identificador del proyecto.</td></tr><tr><td colspan="1" class="confluenceTd">PROYECTO_SGE_REF</td><td colspan="1" class="confluenceTd">VARCHAR2(50)</td><td colspan="1" class="confluenceTd">SI</td><td colspan="1" class="confluenceTd">PROYECTO_SGE_REF</td><td colspan="1" class="confluenceTd">PROYECTO_PROYECTO_SGE</td><td colspan="1" class="confluenceTd">CSP_SGI</td><td colspan="1" class="confluenceTd">Identificador del proyecto económico en el sistema de gestión económico de la Universidad</td></tr></tbody></table></div><div class="code panel pdl" style="border-width: 1px;"><div class="codeHeader panelHeader pdl" style="border-bottom-width: 1px;"><b>TS_PROYECTO_SGE</b></div><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">SELECT pps.ID, pps.PROYECTO_ID, pps.PROYECTO_SGE_REF 
FROM CSP_SGI.PROYECTO_PROYECTO_SGE pps
INNER JOIN CSP_SGI.PROYECTO p ON pps.PROYECTO_ID = p.ID 
INNER JOIN CSP_SGI.ESTADO_PROYECTO ep ON p.ESTADO_PROYECTO_ID = ep.ID
WHERE p.ACTIVO = 1 AND ep.ESTADO &lt;&gt; &#39;BORRADOR&#39;
AND ((p.FECHA_FIN_DEFINITIVA IS NOT NULL AND p.FECHA_FIN_DEFINITIVA &gt;= TO_DATE(&#39;01/01/2013&#39;,&#39;dd/mm/yyyy&#39;))
OR (p.FECHA_FIN_DEFINITIVA IS NULL AND p.FECHA_FIN &gt;= TO_DATE(&#39;01/01/2013&#39;,&#39;dd/mm/yyyy&#39;)))</pre>
</div></div><h1 id="SGIVistasTimesheet-TS_PROYECTO_EQUIPO">TS_PROYECTO_EQUIPO</h1><p>Listado con los investigadores que forman o han formado parte del equipo de investigación de los proyectos del SGI que cumplen las siguientes condiciones:</p><ul><li>activos</li><li>estado que no sea BORRADOR</li><li>fecha fin mayor al año 2013</li><li>con identificador SGE</li></ul><p>Por cada proyecto se mostrarán los siguientes campos de un miembro del equipo:</p><ul><li>identificador de la persona (el SGI no almacena información de la persona, únicamente su identificador)</li><li>fecha de inicio de la participación en el equipo</li><li>fecha de finalización de la participación en el equipo</li><li>rol con el que participa en el equipo</li><li>si el rol tiene marcado el flag de principal o no</li><li>en caso de que el rol tenga marcado el flag principal se indica si el orden es PRIMARIO o SECUNDARIO</li></ul><div class="table-wrap"><table class="wrapped confluenceTable"><colgroup><col/><col/></colgroup><tbody><tr><th class="confluenceTh">Campo</th><th colspan="1" class="confluenceTh">Comentario</th></tr><tr><td class="confluenceTd">ID</td><td colspan="1" class="confluenceTd">Identificador único del registro. Clave primaria.</td></tr><tr><td colspan="1" class="confluenceTd">PROYECTO_ID</td><td colspan="1" class="confluenceTd">Identificador del proyecto.</td></tr><tr><td colspan="1" class="confluenceTd">PERSONA_REF</td><td colspan="1" class="confluenceTd">Identificador de la persona en el sistema de personas de la Universidad</td></tr><tr><td colspan="1" class="confluenceTd">FECHA_INICIO</td><td colspan="1" class="confluenceTd"><p>Fecha de inicio de la participación en el equipo.</p></td></tr><tr><td colspan="1" class="confluenceTd">FECHA_FIN</td><td colspan="1" class="confluenceTd"><p>Fecha de finalización de la participación en el equipo.</p></td></tr><tr><td colspan="1" class="confluenceTd">ROL_PROYECTO_ID</td><td colspan="1" class="confluenceTd">Identificador del rol del miembro en el equipo.</td></tr><tr><td colspan="1" class="confluenceTd">ROL_PROYECTO_ABREVIATURA</td><td colspan="1" class="confluenceTd">Abreviatura o código identificativo del rol del miembro en el equipo.</td></tr><tr><td colspan="1" class="confluenceTd">ROL_PRINCIPAL</td><td colspan="1" class="confluenceTd">Si el rol es un rol principal o no.</td></tr><tr><td colspan="1" class="confluenceTd">ORDEN</td><td colspan="1" class="confluenceTd">En caso de que el rol tenga marcado el flag principal se indica si el orden es PRIMARIO o SECUNDARIO</td></tr></tbody></table></div><div class="code panel pdl" style="border-width: 1px;"><div class="codeHeader panelHeader pdl" style="border-bottom-width: 1px;"><b>TS_PROYECTO_EQUIPO</b></div><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">SELECT pe.ID,pe.PROYECTO_ID,pe.PERSONA_REF,pe.FECHA_INICIO,pe.FECHA_FIN,pe.ROL_PROYECTO_ID,rp.ABREVIATURA AS ROL_PROYECTO_ABREVIATURA
,rp.ROL_PRINCIPAL,rp.ORDEN
FROM CSP_SGI.PROYECTO_EQUIPO pe 
INNER JOIN CSP_SGI.PROYECTO p ON pe.PROYECTO_ID = p.ID
INNER JOIN CSP_SGI.ESTADO_PROYECTO ep ON p.ESTADO_PROYECTO_ID = ep.ID
INNER JOIN CSP_SGI.ROL_PROYECTO rp ON pe.ROL_PROYECTO_ID = rp.ID
WHERE p.ACTIVO = 1 AND ep.ESTADO &lt;&gt; &#39;BORRADOR&#39;
AND ((p.FECHA_FIN_DEFINITIVA IS NOT NULL AND p.FECHA_FIN_DEFINITIVA &gt;= TO_DATE(&#39;01/01/2013&#39;,&#39;dd/mm/yyyy&#39;))
OR (p.FECHA_FIN_DEFINITIVA IS NULL AND p.FECHA_FIN &gt;= TO_DATE(&#39;01/01/2013&#39;,&#39;dd/mm/yyyy&#39;)))
AND p.id IN (SELECT pps.PROYECTO_ID FROM CSP_SGI.PROYECTO_PROYECTO_SGE pps)</pre>
</div></div><h1 id="SGIVistasTimesheet-TS_PROYECTO_PAQUETE_TRABAJO">TS_PROYECTO_PAQUETE_TRABAJO</h1><p>Listado de paquetes de trabajo de los proyectos del SGI que cumplen las siguientes condiciones:</p><ul><li>activos</li><li>estado que no sea BORRADOR</li><li>fecha fin mayor al año 2013</li><li>con identificador SGE</li></ul><p>Por cada proyecto se mostrarán los siguientes campos de un paquete de trabajo:</p><ul><li>nombre</li><li>fecha inicio</li><li>fecha fin</li><li>persona mes</li><li>descripción</li></ul><div class="table-wrap"><table class="wrapped confluenceTable"><colgroup><col/><col/></colgroup><tbody><tr><th class="confluenceTh">Campo</th><th colspan="1" class="confluenceTh">Comentario</th></tr><tr><td class="confluenceTd">ID</td><td colspan="1" class="confluenceTd">Identificador único del registro. Clave primaria.</td></tr><tr><td colspan="1" class="confluenceTd">PROYECTO_ID</td><td colspan="1" class="confluenceTd">Identificador del proyecto.</td></tr><tr><td colspan="1" class="confluenceTd">NOMBRE</td><td colspan="1" class="confluenceTd">Nombre del paquete de trabajo.</td></tr><tr><td class="confluenceTd">FECHA_INICIO</td><td colspan="1" class="confluenceTd"><p>Fecha de inicio del paquete de trabajo.</p></td></tr><tr><td colspan="1" class="confluenceTd">FECHA_FIN</td><td colspan="1" class="confluenceTd">Fecha de fin del paquete de trabajo.</td></tr><tr><td colspan="1" class="confluenceTd">PERSONA_MES</td><td colspan="1" class="confluenceTd">Persona mes del paquete de trabajo.</td></tr><tr><td colspan="1" class="confluenceTd">DESCRIPCION</td><td colspan="1" class="confluenceTd">Descripción del paquete de trabajo.</td></tr></tbody></table></div><div class="code panel pdl" style="border-width: 1px;"><div class="codeHeader panelHeader pdl" style="border-bottom-width: 1px;"><b>TS_PROYECTO_PAQUETE_TRABAJO</b></div><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">SELECT ppt.ID,ppt.PROYECTO_ID,ppt.NOMBRE,ppt.FECHA_INICIO,ppt.FECHA_FIN,ppt.PERSONA_MES,ppt.DESCRIPCION
FROM CSP_SGI.PROYECTO_PAQUETE_TRABAJO ppt
INNER JOIN CSP_SGI.PROYECTO p ON ppt.PROYECTO_ID = p.ID
INNER JOIN CSP_SGI.ESTADO_PROYECTO ep ON p.ESTADO_PROYECTO_ID = ep.ID
WHERE p.ACTIVO = 1 AND ep.ESTADO &lt;&gt; &#39;BORRADOR&#39;
AND ((p.FECHA_FIN_DEFINITIVA IS NOT NULL AND p.FECHA_FIN_DEFINITIVA &gt;= TO_DATE(&#39;01/01/2013&#39;,&#39;dd/mm/yyyy&#39;))
OR (p.FECHA_FIN_DEFINITIVA IS NULL AND p.FECHA_FIN &gt;= TO_DATE(&#39;01/01/2013&#39;,&#39;dd/mm/yyyy&#39;)))
AND p.id IN (SELECT pps.PROYECTO_ID FROM CSP_SGI.PROYECTO_PROYECTO_SGE pps)</pre>
</div></div><h1 id="SGIVistasTimesheet-TS_GRUPO_JUSTIFICABLE">TS_GRUPO_JUSTIFICABLE</h1><p>Listado de grupos de investigación del SGI que cumplen las siguientes condiciones:</p><ul><li>activos</li><li>fecha fin no tiene o mayor al año 2013</li><li>con identificador SGE</li></ul><div class="table-wrap"><table class="wrapped confluenceTable"><colgroup><col/><col/><col/><col/><col/><col/><col/></colgroup><tbody><tr><th class="confluenceTh">Campo</th><th colspan="1" class="confluenceTh"><strong>Tipo</strong></th><th colspan="1" class="confluenceTh"><strong>Obligatorio</strong></th><th colspan="1" class="confluenceTh"><strong>Campo del SGI</strong></th><th colspan="1" class="confluenceTh"><strong>Tabla del SGI</strong></th><th colspan="1" class="confluenceTh"><strong>Esquema del SGI</strong></th><th colspan="1" class="confluenceTh">Comentario</th></tr><tr><td class="confluenceTd">ID</td><td colspan="1" class="confluenceTd">NUMBER (38,0)</td><td colspan="1" class="confluenceTd">SI</td><td colspan="1" class="confluenceTd">ID</td><td colspan="1" class="confluenceTd">GRUPO</td><td colspan="1" class="confluenceTd">CSP_SGI</td><td colspan="1" class="confluenceTd">Identificador único del grupo de investigación. Clave primaria.</td></tr><tr><td class="confluenceTd">CONVOCATORIA</td><td colspan="1" class="confluenceTd">VARCHAR(50)</td><td colspan="1" class="confluenceTd">NO</td><td colspan="1" class="confluenceTd">CODIGO</td><td colspan="1" class="confluenceTd">CONVOCATORIA</td><td colspan="1" class="confluenceTd">CSP_SGI</td><td colspan="1" class="confluenceTd">Campo &quot;identificación&quot; de la convocatoria asociada a la solicitud de constitución del grupos en caso de que se creara a partir de una solicitud el grupo.</td></tr><tr><td colspan="1" class="confluenceTd">REFERENCIA</td><td colspan="1" class="confluenceTd">VARCHAR(50)</td><td colspan="1" class="confluenceTd">SI</td><td colspan="1" class="confluenceTd">CODIGO</td><td colspan="1" class="confluenceTd">GRUPO</td><td colspan="1" class="confluenceTd">CSP_SGI</td><td colspan="1" class="confluenceTd">Campo &quot;código&quot; del grupo.</td></tr><tr><td colspan="1" class="confluenceTd">TITULO</td><td colspan="1" class="confluenceTd">VARCHAR(250)</td><td colspan="1" class="confluenceTd">SI</td><td colspan="1" class="confluenceTd">NOMBRE</td><td colspan="1" class="confluenceTd">GRUPO</td><td colspan="1" class="confluenceTd">CSP_SGI</td><td colspan="1" class="confluenceTd">Campo &quot;nombre&quot; del grupo.</td></tr><tr><td colspan="1" class="confluenceTd">ID_GESTION_ECONOMICA</td><td colspan="1" class="confluenceTd">VARCHAR(250)</td><td colspan="1" class="confluenceTd">SI</td><td colspan="1" class="confluenceTd">PROYECTO_SGE_REF</td><td colspan="1" class="confluenceTd">GRUPO</td><td colspan="1" class="confluenceTd">CSP_SGI</td><td colspan="1" class="confluenceTd">Identificación SGE (sistema de gestión económico)</td></tr><tr><td colspan="1" class="confluenceTd">FECHA_INICIO</td><td colspan="1" class="confluenceTd"><p>TIMESTAMP</p></td><td colspan="1" class="confluenceTd">SI</td><td colspan="1" class="confluenceTd">FECHA_INICIO</td><td colspan="1" class="confluenceTd">GRUPO</td><td colspan="1" class="confluenceTd">CSP_SGI</td><td colspan="1" class="confluenceTd">Campo &quot;fecha inicio&quot; del grupo.</td></tr><tr><td colspan="1" class="confluenceTd">FECHA_FIN</td><td colspan="1" class="confluenceTd">TIMESTAMP</td><td colspan="1" class="confluenceTd">NO</td><td colspan="1" class="confluenceTd">FECHA_FIN</td><td colspan="1" class="confluenceTd">GRUPO</td><td colspan="1" class="confluenceTd">CSP_SGI</td><td colspan="1" class="confluenceTd">Campo &quot;fecha fin&quot; del grupo.</td></tr><tr><td colspan="1" class="confluenceTd"><p>MODELO_EJECUCION_ID</p></td><td colspan="1" class="confluenceTd">NUMBER (38,0)</td><td colspan="1" class="confluenceTd">NO</td><td colspan="1" class="confluenceTd">MODELO_EJECUCION_ID</td><td colspan="1" class="confluenceTd">CONVOCATORIA</td><td colspan="1" class="confluenceTd">CSP_SGI</td><td colspan="1" class="confluenceTd">Identificador único del modelo de ejecución asociado a la convocatoria de constitución del grupo. Los modelos de ejecución son configurables en el SGI.</td></tr><tr><td colspan="1" class="confluenceTd">MODELO_EJCUCION_NOMBRE</td><td colspan="1" class="confluenceTd">VARCHAR2(50)</td><td colspan="1" class="confluenceTd">NO</td><td colspan="1" class="confluenceTd">NOMBRE</td><td colspan="1" class="confluenceTd">MODELO_EJCUCION</td><td colspan="1" class="confluenceTd">CSP_SGI</td><td colspan="1" class="confluenceTd">Nombre del modelo de ejecución asociado a la solicitud de constitución del grupo.</td></tr><tr><td colspan="1" class="confluenceTd">TIPO_FINALIDAD_ID</td><td colspan="1" class="confluenceTd">NUMBER (38,0)</td><td colspan="1" class="confluenceTd">NO</td><td colspan="1" class="confluenceTd">TIPO_FINALIDAD_ID</td><td colspan="1" class="confluenceTd">CONVOCATORIA</td><td colspan="1" class="confluenceTd">CSP_SGI</td><td colspan="1" class="confluenceTd">Identificador único del tipo de finalidad asociado a la convocatoria de constitución del grupo. Los tipos de finalidad son configurables en el SGI.</td></tr><tr><td colspan="1" class="confluenceTd">TIPO_FINALIDAD_NOMBRE</td><td colspan="1" class="confluenceTd">VARCHAR2(50)</td><td colspan="1" class="confluenceTd">NO</td><td colspan="1" class="confluenceTd">NOMBRE</td><td colspan="1" class="confluenceTd">TIPO_FINALIDAD</td><td colspan="1" class="confluenceTd">CSP_SGI</td><td colspan="1" class="confluenceTd">Nombre del tipo de finalidad asociado a la solicitud de constitución del grupo.</td></tr><tr><td colspan="1" class="confluenceTd"><p>FECHA_CONCESION</p></td><td colspan="1" class="confluenceTd">TIMESTAMP</td><td colspan="1" class="confluenceTd">NO</td><td colspan="1" class="confluenceTd">FECHA_ESTADO</td><td colspan="1" class="confluenceTd">ESTADO_SOLICITUD</td><td colspan="1" class="confluenceTd">CSP_SGI</td><td colspan="1" class="confluenceTd"><p>Fecha en la que la solicitud pase a estado CONCEDIDA. En el SGI se considera estado CONCEDIDA (cuando sale el botón de &quot;Crear grupo&quot; a partir de la Solicitud, en uno de los siguientes estados &quot;Concedida provisional&quot;, &quot;Concedida provisional alegada&quot;, &quot;Concedida provisional no alegada&quot; o &quot;Concedida&quot;</p><p>En el caso de que el grupo tenga relacionada una solicitud, se irá a la tabla del histórico de estados y se buscará la fecha de estado mas antigua de los estados: </p><ul><li><p align="left">CONCEDIDA</p></li><li><p align="left">CONCEDIDA_PROVISIONAL</p></li><li><p align="left">CONCEDIDA_PROVISIONAL_ALEGADA</p></li><li><p align="left">CONCEDIDA_PROVISIONAL_NO_ALEGADA</p></li></ul></td></tr><tr><td colspan="1" class="confluenceTd"><p>UNIDAD_GESTION_REF</p></td><td colspan="1" class="confluenceTd">VARCHAR2(50)</td><td colspan="1" class="confluenceTd">NO</td><td colspan="1" class="confluenceTd">UNIDAD_GESTION_REF</td><td colspan="1" class="confluenceTd">CONVOCATORIA</td><td colspan="1" class="confluenceTd">CSP_SGI</td><td colspan="1" class="confluenceTd"><p>Identificador único de la unidad de gestión asociada a la convocatoria de constitución del grupo. Las unidades de gestión son configurables en el SGI por implantación.</p></td></tr><tr><td colspan="1" class="confluenceTd">UNIDAD_GESTION_NOMBRE</td><td colspan="1" class="confluenceTd">VARCHAR2(50)</td><td colspan="1" class="confluenceTd">NO</td><td colspan="1" class="confluenceTd">NOMBRE</td><td colspan="1" class="confluenceTd">UNIDAD</td><td colspan="1" class="confluenceTd">USR_SGI</td><td colspan="1" class="confluenceTd">Nombre de la unidad de gestión asociada a la solicitud de constitución del grupo.</td></tr></tbody></table></div><div class="code panel pdl" style="border-width: 1px;"><div class="codeHeader panelHeader pdl" style="border-bottom-width: 1px;"><b>TS_GRUPO_JUSTIFICABLE</b></div><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">SELECT g.ID,c.CODIGO AS CONVOCATORIA,g.CODIGO AS REFERENCIA,g.NOMBRE AS TITULO,g.PROYECTO_SGE_REF AS ID_GESTION_ECONOMICA,g.FECHA_INICIO,g.FECHA_FIN
,c.MODELO_EJECUCION_ID,me.NOMBRE AS MODELO_EJECUCION_NOMBRE,c.TIPO_FINALIDAD_ID,tf.NOMBRE AS TIPO_FINALIDAD_NOMBRE,
(SELECT MIN(es.FECHA_ESTADO) FROM CSP_SGI.ESTADO_SOLICITUD es WHERE es.SOLICITUD_ID = g.SOLICITUD_ID AND 
(es.ESTADO = &#39;CONCEDIDA&#39; OR es.ESTADO = &#39;CONCEDIDA_PROVISIONAL&#39; OR es.ESTADO = &#39;CONCEDIDA_PROVISIONAL_ALEGADA&#39; OR es.ESTADO = &#39;CONCEDIDA_PROVISIONAL_NO_ALEGADA&#39;)) AS FECHA_CONCESION
,c.UNIDAD_GESTION_REF,u.NOMBRE AS UNIDAD_GESTION_NOMBRE
FROM CSP_SGI.GRUPO g
LEFT JOIN CSP_SGI.SOLICITUD s ON g.SOLICITUD_ID = s.ID
LEFT JOIN CSP_SGI.CONVOCATORIA c ON s.CONVOCATORIA_ID = c.ID
LEFT JOIN CSP_SGI.MODELO_EJECUCION me ON c.MODELO_EJECUCION_ID = me.ID
LEFT JOIN CSP_SGI.TIPO_FINALIDAD tf ON c.TIPO_FINALIDAD_ID = tf.ID
LEFT JOIN USR_SGI.UNIDAD u ON c.UNIDAD_GESTION_REF = u.ID
WHERE g.ACTIVO = 1 
AND (g.FECHA_FIN &gt;= TO_DATE(&#39;01/01/2013&#39;,&#39;dd/mm/yyyy&#39;) OR g.FECHA_FIN IS NULL)
AND g.PROYECTO_SGE_REF  IS NOT NULL</pre>
</div></div><h1 id="SGIVistasTimesheet-TS_GRUPO_EQUIPO">TS_GRUPO_EQUIPO</h1><p>Listado con los investigadores que forman o han formado parte del equipo de investigación de los grupos del SGI que cumplen las siguientes condiciones:</p><ul><li>activos</li><li>fecha fin no tiene o mayor al año 2013</li><li>con identificador SGE</li></ul><p>Por cada grupo se mostrarán los siguientes campos de un miembro del equipo:</p><ul><li>identificador de la persona (el SGI no almacena información de la persona, únicamente su identificador)</li><li>fecha de inicio de la participación en el equipo</li><li>fecha de finalización de la participación en el equipo</li><li>rol con el que participa en el equipo</li><li>si el rol tiene marcado el flag de principal o no</li><li>en caso de que el rol tenga marcado el flag principal se indica si el orden es PRIMARIO o SECUNDARIO</li></ul><div class="table-wrap"><table class="relative-table wrapped confluenceTable" style="width: 100.0%;"><colgroup><col style="width: 17.6141%;"/><col style="width: 10.0173%;"/><col style="width: 7.28983%;"/><col style="width: 9.76781%;"/><col style="width: 9.84788%;"/><col style="width: 8.80037%;"/><col style="width: 36.676%;"/></colgroup><tbody><tr><th class="confluenceTh">Campo</th><th colspan="1" class="confluenceTh"><strong>Tipo</strong></th><th colspan="1" class="confluenceTh"><strong>Obligatorio</strong></th><th colspan="1" class="confluenceTh"><strong>Campo del SGI</strong></th><th colspan="1" class="confluenceTh"><strong>Tabla del SGI</strong></th><th colspan="1" class="confluenceTh"><strong>Esquema del SGI</strong></th><th colspan="1" class="confluenceTh">Comentario</th></tr><tr><td class="confluenceTd">ID</td><td colspan="1" class="confluenceTd">NUMBER (38,0)</td><td colspan="1" class="confluenceTd">SI</td><td colspan="1" class="confluenceTd">ID</td><td colspan="1" class="confluenceTd">GRUPO</td><td colspan="1" class="confluenceTd">CSP_SGI</td><td colspan="1" class="confluenceTd">Identificador único del registro. Clave primaria.</td></tr><tr><td colspan="1" class="confluenceTd">GRUPO_ID</td><td colspan="1" class="confluenceTd">NUMBER (38,0)</td><td colspan="1" class="confluenceTd">SI</td><td colspan="1" class="confluenceTd">GRUPO_ID</td><td colspan="1" class="confluenceTd">GRUPO_EQUIPO</td><td colspan="1" class="confluenceTd">CSP_SGI</td><td colspan="1" class="confluenceTd">Identificador del grupo.</td></tr><tr><td colspan="1" class="confluenceTd">PERSONA_REF</td><td colspan="1" class="confluenceTd">VARCHAR2(50)</td><td colspan="1" class="confluenceTd">SI</td><td colspan="1" class="confluenceTd">PERSONA_REF</td><td colspan="1" class="confluenceTd">GRUPO_EQUIPO</td><td colspan="1" class="confluenceTd">CSP_SGI</td><td colspan="1" class="confluenceTd">Identificador de la persona en el sistema de personas de la Universidad</td></tr><tr><td colspan="1" class="confluenceTd">FECHA_INICIO</td><td colspan="1" class="confluenceTd">TIMESTAMP</td><td colspan="1" class="confluenceTd">SI</td><td colspan="1" class="confluenceTd">FECHA_INICIO</td><td colspan="1" class="confluenceTd">GRUPO_EQUIPO</td><td colspan="1" class="confluenceTd">CSP_SGI</td><td colspan="1" class="confluenceTd"><p>Fecha de inicio de la participación en el equipo.</p></td></tr><tr><td colspan="1" class="confluenceTd">FECHA_FIN</td><td colspan="1" class="confluenceTd">TIMESTAMP</td><td colspan="1" class="confluenceTd">NO</td><td colspan="1" class="confluenceTd">FECHA_FIN</td><td colspan="1" class="confluenceTd">GRUPO_EQUIPO</td><td colspan="1" class="confluenceTd">CSP_SGI</td><td colspan="1" class="confluenceTd"><p>Fecha de finalización de la participación en el equipo.</p></td></tr><tr><td colspan="1" class="confluenceTd">ROL_PROYECTO_ID</td><td colspan="1" class="confluenceTd">NUMBER (38,0)</td><td colspan="1" class="confluenceTd">SI</td><td colspan="1" class="confluenceTd">ROL_PROYECTO_ID</td><td colspan="1" class="confluenceTd">GRUPO_EQUIPO</td><td colspan="1" class="confluenceTd">CSP_SGI</td><td colspan="1" class="confluenceTd">Identificador del rol del miembro en el equipo.</td></tr><tr><td colspan="1" class="confluenceTd">ROL_PROYECTO_ABREVIATURA</td><td colspan="1" class="confluenceTd">VARCHAR2(5)</td><td colspan="1" class="confluenceTd">SI</td><td colspan="1" class="confluenceTd">ABREVIATURA</td><td colspan="1" class="confluenceTd">ROL_PROYECTO</td><td colspan="1" class="confluenceTd">CSP_SGI</td><td colspan="1" class="confluenceTd">Abreviatura o código identificativo del rol del miembro en el equipo.</td></tr><tr><td colspan="1" class="confluenceTd">ROL_PRINCIPAL</td><td colspan="1" class="confluenceTd">NUMBER (1,0)</td><td colspan="1" class="confluenceTd">SI</td><td colspan="1" class="confluenceTd">ROL_PRINCIPAL</td><td colspan="1" class="confluenceTd">ROL_PROYECTO</td><td colspan="1" class="confluenceTd">CSP_SGI</td><td colspan="1" class="confluenceTd">Si el rol es un rol principal o no.</td></tr><tr><td colspan="1" class="confluenceTd">ROL_ORDEN</td><td colspan="1" class="confluenceTd">VARCHAR2(255)</td><td colspan="1" class="confluenceTd">NO</td><td colspan="1" class="confluenceTd">ORDEN</td><td colspan="1" class="confluenceTd">ROL_PROYECTO</td><td colspan="1" class="confluenceTd">CSP_SGI</td><td colspan="1" class="confluenceTd"><p>En caso de que el rol tenga marcado el flag principal se indica si el orden es:</p><ul><li>PRIMARIO</li><li>SECUNDARIO</li></ul></td></tr></tbody></table></div><div class="code panel pdl" style="border-width: 1px;"><div class="codeHeader panelHeader pdl" style="border-bottom-width: 1px;"><b>TS_GRUPO_EQUIPO</b></div><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">SELECT ge.ID,ge.GRUPO_ID,ge.PERSONA_REF,ge.FECHA_INICIO,ge.FECHA_FIN,ge.ROL_PROYECTO_ID,rp.ABREVIATURA AS ROL_PROYECTO_ABREVIATURA
,rp.ROL_PRINCIPAL,rp.ORDEN AS ROL_ORDEN
FROM CSP_SGI.GRUPO_EQUIPO ge
INNER JOIN CSP_SGI.GRUPO g ON ge.GRUPO_ID = g.ID
INNER JOIN CSP_SGI.ROL_PROYECTO rp ON ge.ROL_PROYECTO_ID = rp.ID
WHERE g.ACTIVO = 1 
AND (g.FECHA_FIN &gt;= TO_DATE(&#39;01/01/2013&#39;,&#39;dd/mm/yyyy&#39;) OR g.FECHA_FIN IS NULL)
AND g.PROYECTO_SGE_REF IS NOT NULL

</pre>
</div></div>
                    </div>

                                        
                                                      
                </div>             </div> 
            <div id="footer" role="contentinfo">
                <section class="footer-body">
                    <p>Document generated by Confluence on oct 09, 2024 11:38</p>
                    <div id="footer-logo"><a href="https://www.atlassian.com/">Atlassian</a></div>
                </section>
            </div>
        </div>     </body>
</html>
